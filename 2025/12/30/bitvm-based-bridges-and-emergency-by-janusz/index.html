<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>基于 BitVM 的桥接合约与紧急更新</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/tools>工具</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">基于 BitVM 的桥接合约与紧急更新</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>基于 BitVM 的桥接合约与紧急更新</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/tools>工具</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#BitVM-%E6%A1%A5%E6%8E%A5%E5%90%88%E7%BA%A6%E5%9B%9E%E9%A1%BE><span class=toc-text>BitVM 桥接合约回顾</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%B4%A7%E6%80%A5%E5%A4%9A%E7%AD%BE%E5%90%8D%E7%9A%84%E5%BC%95%E5%85%A5><span class=toc-text>紧急多签名的引入</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%8A%AB%E9%9C%B2%E6%96%B9%E6%B3%95><span class=toc-text>披露方法</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%9B%B4%E6%8E%A5%E5%9C%A8%E8%AF%B4%E6%98%8E%E4%B9%A6%E4%B8%AD%E6%8A%AB%E9%9C%B2%E8%8A%B1%E8%B4%B9%E8%B7%AF%E5%BE%84><span class=toc-text>直接在说明书中披露花费路径</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%9C%A8%E5%AD%98%E5%85%A5%E8%B5%84%E9%87%91%E4%B9%8B%E5%89%8D%E5%85%88%E6%B5%8B%E8%AF%95><span class=toc-text>在存入资金之前先测试</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%A9%E7%94%A8%E5%A4%A7%E8%A7%84%E6%A8%A1%E7%9A%84%E9%99%90%E5%88%B6%E6%9D%A1%E6%AC%BE%E6%A8%A1%E6%8B%9F%E5%A7%94%E5%91%98%E4%BC%9A><span class=toc-text>利用大规模的限制条款模拟委员会</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E9%80%A0%E4%B8%80%E7%A7%8D%E6%A0%87%E5%87%86%E5%8C%96%E7%9A%84%E6%8A%AB%E9%9C%B2%E6%96%B9%E6%B3%95><span class=toc-text>创造一种标准化的披露方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%80%8F%E6%98%8E%E6%80%A7%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7><span class=toc-text>透明性的重要性</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>基于 BitVM 的桥接合约与紧急更新</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt=Janusz><div class=page-author-info><strong>Janusz</strong><time class=has-text-grey datetime=2025-12-30T08:24:26.000Z>2025-12-30</time></div></div><div class=is-flex><a href=/tags/BitVM><i class="page-tag mr-1 px-1">BitVM</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Janusz</em></p><p><em>来源：<a target=_blank rel=noopener href=https://insider.btcpp.dev/p/bitvm-based-bridges-and-emergency>https://insider.btcpp.dev/p/bitvm-based-bridges-and-emergency</a></em></p><p><em>原文出版于 2025 年 8 月。</em></p></blockquote><p><em>随着基于 BitVM 的桥接合约接近于进入生产环境，我开始思考被称为 “紧急更新” 路径的课题。在 Citrea 团队的帮助下，我能够理解验证 BitVM 桥接合约的花费路径的不同方式，从而确定它是否带有紧急更新机制。本文尝试讨论未来的项目会如何实现这些花费路径。请注意，紧急更新路径，以及花费合约的多签名装置，并不是 “BitVM 的专属特性”，它们是广泛用于由证明系统来保护的桥接合约的机制，而我认为，它也将在基于 BitVM 的桥接合约构造中得到利用。本文是解释性的，希望能够点燃关于我们应该如何披露这些花费路径的类型的讨论。</em></p><p>你是否遭遇过需要立即从银行中取钱的困境？比如你的车子坏了，你要立即给修理工付钱。又或者，你的朋友在酒吧喝太多酒了，你要交一笔钱保他出来。</p><p>BitVM 桥接合约可能也想要同样的保证。我们希望桥接合约的运营者被绑定在具体的 BitVM 初始设置的规则中。但是，要是哪里出了问题呢？如果系统有一个漏洞、攻击者可以凭空拿走其中所有的钱、或者导致其中的资金永久冻结呢？</p><p>即使是友好的人发现了 bug，可能也希望有一种方式能够抢先将所有的钱从桥接合约中转移出来，防止合约被爆破。</p><p>实现这种保证的方式是<strong>紧急多签名装置</strong> —— 这是一条额外的花费路径，可以在 BitVM 桥接合约中实现，让一组（或一个）签名人能够完全绕过挑战游戏和乐观的报销机制、将资金从一个桥接合约中转出。</p><p>BitVM 是一种新的技术，其对应的桥接程序也是新生事物。一些团队不希望在没有保险机制的情况下发布这些新的桥接合约构造。尝鲜的桥接合约运营者和流动性供应商，可能也希望有紧急开关，这样能保证他们的资金可以在发现 bug 时转移出来。不可变更性并不总是跟商业上的激励完全一致。</p><p>一些已经上线的 BitVM 桥接合约实现中可能已经有了用于紧急更新的多签名装置。更多的桥接合约构造即将上市，它们在启动时可能会有安全理事会 —— 一组得到许可的、操作紧急多签名装置的签名人。如果这些系统的安全模式最终回归到了一个需要许可的 M-of-N 多签名装置（哪怕是一次性的），用户也有权利知情。</p><p>我花了两周时间来研究建立这样的安全理事会的方法，并且一直在思考验证他们的存在的方法（当然，是在一些 BitVM 阵营的成员的帮助下）。</p><p>这些练习提出了一个有趣的 “问题”。我们无法（在区块链内）验证这些花费路径，直到它们真的被使用。也就是说，如果内部人完全不披露，一些用户甚至永远不会知道，一个需要许可的 M-of-N 多签名装置是一个基于 BitVM 的桥接合约的最终信任假设。</p><h2 id=BitVM-桥接合约回顾><a href=#BitVM-桥接合约回顾 class=headerlink title="BitVM 桥接合约回顾"></a>BitVM 桥接合约回顾</h2><p>“<a target=_blank rel=noopener href=https://bitvm.org/ >BitVM</a>” 是由 Robin Linux 提出的一种方法，可以在比特币区块链内执行任意计算。它激发了比特币开发的新浪潮，许多团队都在使用这种技术来开发 layer 2 桥接合约。这些合约所支持的 layer 2 可以 设置多个运营者来保管比特币，作为所在 layer 2 上的封装的比特币资产的背书。但是，更重要的是，它还额外启用了一种乐观的侦测其中的机制，可以用来质疑来自运营者的任何恶意的（或者不正确的）取款尝试。</p><p>在启动阶段，一组签名人要形成一个 N-of-N 多签名装置，以为一个桥接合约预先签名交易图。只要其中任何一个人销毁了自己用在这个预签名仪式中的私钥，那么锁定在这个桥接合约中的 UTXO 就只能被预先定义的花费脚本花费。</p><p>在一些涉及中，运营者必须垫付资金（作为流动性），然后从桥接合约中请求报销。在一段时间之后，运营者才能支付给自身。另一种设计是让用户能够跟诚实运营者合作，后者会给前者释放将资金转移出桥接合约所需的私钥。</p><p>不管是哪一种设计，都需要至少一个诚实运营者，才能处理取款。如果运营者是不诚实的，比如说，他们见证了一次取款、这一取款与所在系统的最先状态有冲突，那么一个观察者（瞭望塔服务）可以挑战他们。</p><p><em>这里说的瞭望塔是一个实体（或者一个人），自己运行 BitVM 验证器软件，可以挑战然后叫停来自 BitVM 桥接合约操作者的取款请求。</em></p><p>关于不正确的取款，举个例子，一个运营者尝试从所在的 BitVM 实例中取出超过他们应当具有的余额的资金。这就是<strong>为什么来自桥接合约的支出都包含了一个时间锁</strong>。它让瞭望塔有时间来提交挑战。这个从取款合约被广播到时间锁解锁的时间窗口，叫做 “<strong>挑战窗口</strong>”。</p><p>仅在挑战窗口结束斥候，运营者（或用户）才能够从桥接合约中取走资金。在基于 BitVM 的桥接合约中，盗窃需要所有运营者和瞭望塔合谋（可以把桥接合约洗劫一空）。只要其中一个是诚实的、定期检查区块链、TA 的验证器也在线、愿意提交挑战，资金就不会被盗。这个 1-of-N 信任假设是好的，因为这意味着我们要信任的人的数量 <em>少于</em> 标准的联盟，在后者中，只要不诚实的人占到了多数，就足以盗窃资金。</p><p>上述机制，创造了一种比已经在比特币网络中服役的装置更加信任最小化的桥接装置。但在现实中，这种核心的信任假设，可能还是会回落到一个得到许可的多签名装置中（尽管只是临时的）。（译者注：回落后的情形与当前已经实现的装置（用于侧链的多签名联盟）是一样的。）</p><h2 id=紧急多签名的引入><a href=#紧急多签名的引入 class=headerlink title=紧急多签名的引入></a>紧急多签名的引入</h2><p>如引言所指出的，各开发团队可以（也将会）在他们的 BitVM 实例中加入一个紧急花费路径。他们应不应该这样做，并不重要。更重要的是，你只需知道，几乎所有进入生产环境的基于 BitVM 的桥接合约，在还未成熟的时候，都会包含一个紧急花费机制。我们应该期待的是这些开发团队会妥当地披露这些紧急花费路径的性质。</p><p><em>紧急多签名装置并不是 BitVM 的特性。它是广泛用于由证明系统保护的桥接合约的机制，用于在发现 bug 时更新系统。其它生态系统中的 Rollup 实例已经在这方面建立了先例。</em></p><p>BitVM 桥接合约使用隔离见证 v1（Taproot）脚本来创建和预签名桥接合约的花费路径。Taproot 脚本使用了 MAST，使得大量花费条件可以存在于一个 UTXO 中。当使用一个叶子脚本来花费这个 UTXO 时，只有这一个叶子脚本才会公开（其它同时存在的叶子脚本不需要公开）。</p><p><a target=_blank rel=noopener href=https://bitvm.org/bitvm_bridge.pdf>BitVM2 论文</a>正确地指出，预签名的交易可以限制运营者在取款时仅能使用可以被挑战的方式。但是，没有什么能阻止具体的一个 BitVM 实例的开发者在 Taproot 脚本树上包含允许从桥接合约中取款的 <em>额外花费路径</em>。</p><p><em>在 Taproot 脚本树上，每一条花费路径都叫做一个 “叶子” 脚本。为了解锁和花费携带由这个脚本树锁定的 UTXO，只需要揭示其中一个有效的叶子（并提供满足该叶子脚本的见证数据）。</em></p><p>我们来看一个例子：第一条路径（或者说第一个叶子）是标准的取款路径，带有挑战窗口。另一条路径，则是紧急花费路径，可以绕过挑战窗口。</p><p><strong>叶子 A：由 1-of-N 欺诈证明来保护的花费条件</strong></p><pre><code>OP_PUSHBYTES_2 &lt;SomeDelay&gt;
OP_CSV
OP_DROP
OP_PUSHBYTES_32 &lt;OperatorPubKey&gt;
OP_CHECKSIG
</code></pre><p><strong>叶子 B：2-of-3 紧急脱锚花费条件</strong></p><pre><code>OP_PUSHBYTES_32 &lt;pubkey1&gt;
OP_CHECKSIG
OP_PUSHBYTES_32 &lt;pubkey2&gt;
OP_CHECKSIGADD
OP_PUSHBYTES_32 &lt;pubkey3&gt;
OP_CHECKSIGADD
OP_PUSHNUM_2
OP_NUMEQUAL
</code></pre><p>“叶子 A” 是 BitVM 实例中的常规取款报销条件。在经过一段挑战期（<code>&lt;SomeDelay&gt;</code>）之后，一个预先指定的运营者可以从桥接合约中取款。如果花费在桥接合约中锁定的 UTXO 的运营者是不诚实的，一个瞭望塔可以在挑战期内（也就是花费 BitVM 合约之后，<code>&lt;SomeDelay&gt;</code>时间锁过期之前的这段时间里）挑战他们，阻止不诚实的取款请求。</p><p><em>叶子 A 可被 N-of-N 预先签名委员会构造的一笔预签名交易花费。</em></p><p>另一方面，“叶子 B”，则是一个马上生效的花费路径，一个 2-of-3 多签名装置可以立即转移 BitVM 合约中的所有资金。如果开发团队在合约中发现一个可被利用的 bug，或者他们决定捐款潜逃，就可以这样做。</p><p><em>当我说 “合约” 的时候，我指的总是掌管一个比特币 UTXO 的花费条件的 BitVM 合约。</em></p><p>这两个花费条件可以同时存在于一个桥接合约的 taproot 脚本树上。虽然增加一个能够绕过 BitVM 挑战-响应 游戏的花费条件并不总是合理的，但客观上没有什么能够阻止开发者实现这样的花费条件。</p><p>而且，脚本树上的花费条件可以是非常灵活的。在上述例子中，我们只展示了两种花费条件。然而，开发团队可以创造出包含了多种多样花费条件的脚本树。上面的叶子 B 就是一个例子：这种紧急更新机制没有时延，可被 2-of-3 签名人集合花费，导致用户资金被盗。而更广泛的协议升级可以由 9-of-12 的安全理事会发起，并且带有时间锁。</p><p>具体的设计在各个实现上可能有所不同，重要的是，我们得能够验证这些花费条件。现代比特币脚本的一个 “问题” 在于，在一个脚本被花费之前，你是无法公开验证它的。这跟基于 BitVM 的桥接合约严格相关，它意味着我们无法验证所有的花费路径，直到一个具体的叶子脚本被用来花费一个 UTXO 。请记住，当一个叶子被花费的时候，只有这个叶子所表示的花费条件会揭晓。所以，如果在我们的实例中，只执行了常规取款，那么我们无法验证是否存在一个紧急花费路径；反之亦然。</p><p>这可能会带来一个问题。如果开发团队向脚本树插入了一个紧急花费机制，但从不公开它，用户可能永远无法确定那里没有受许可的多签名装置（或者受许可的某一个人）可以花费锁定在桥接合约中的所有资金。</p><p>想了一个星期以后，我得出了一些开发团队可以揭晓桥接合约花费路径的方法。</p><h2 id=披露方法><a href=#披露方法 class=headerlink title=披露方法></a>披露方法</h2><h3 id=直接在说明书中披露花费路径><a href=#直接在说明书中披露花费路径 class=headerlink title=直接在说明书中披露花费路径></a>直接在说明书中披露花费路径</h3><p>对于开发团队来说，最简单的办法就是在说明书中公开具有特权的角色。开发团队可以直接公开桥接合约的运营者、谁是参与预签名仪式的人、谁是运行轻客户端的人，以及谁是瞭望塔。</p><p>有一些披露，总好过没有，但我们还是无法单纯基于说明书网站上的生命来验证桥接合约的花费路径。如果能直接验证脚本，那就更好了。</p><h3 id=在存入资金之前先测试><a href=#在存入资金之前先测试 class=headerlink title=在存入资金之前先测试></a>在存入资金之前先测试</h3><p>开发团队可以为不同的花费路径发送测试交易。他们可以从一个给定的实例中花费一些资金，最终揭晓所有的花费路径，而用户也可以自己验证花费路径。</p><p>这要求开发团队花费脚本树上的每一个叶子。但即使如此，我们还是永远无法确定他们不会插入从未揭晓过的额外花费条件。开发团队总是可以选择性不花费某个叶子、不揭晓器花费条件。这通常被当成 Taproot MAST 的一个特性，但在桥接合约的语境下，这会降低用户对开发团队事实上揭晓了所有花费脚本的信心。</p><p>不幸的是，测试交易不能提供我们期待的透明性。</p><h3 id=利用大规模的限制条款模拟委员会><a href=#利用大规模的限制条款模拟委员会 class=headerlink title=利用大规模的限制条款模拟委员会></a>利用大规模的限制条款模拟委员会</h3><p>另一种办法是，开发团队利用一个足够大的限制条款模拟委员会，并给予独立参与者参与预签名桥接合约交易图内的所有交易的机会。这将给予独立参与者验证紧急多签名存在性、其中有多少签名人的机会。</p><p>但是，这依然要求用户信任限制条款委员会的参与者，而不是让他们直接验证脚本。我会说，前进的道路在于，我们能够给予任何用户验证桥接合约的花费路径的机会。</p><h3 id=创造一种标准化的披露方法><a href=#创造一种标准化的披露方法 class=headerlink title=创造一种标准化的披露方法></a>创造一种标准化的披露方法</h3><p>以我个人来看，我们应该期待开发团队会公开他们为自己的 BitVM 实例创建的完整的脚本树。</p><p>如果开发团队提供了创建 tapscript 的内部密钥、叶子脚本的完整集合以及对应的桥接合约地址，我们就可以自己动手了。</p><p>使用这些信息 —— 用来生成花费路径的内部公钥、从 taproot 脚本树推导出来的默克尔根 —— 我们就能将他们相加、得出一个调整后的公钥。如果这个调整后的公钥跟 BitVM 桥接合约的地址相匹配，我们就验证了该地址事实上只包含了这些花费脚本。</p><p>看！我们有了一种可以验证的披露方法。如果一个开发团队公开了不正确的 taproot 脚本树，那么调整后的公钥就不会跟桥接合约的地址匹配。</p><p>这种披露方法让我们能够真正验证跟一个 BitVM 桥接合约实例的关键信任假设。但是，它 <strong>需要</strong> 开发团队公开整棵脚本树以及相关的内部公钥。</p><h2 id=透明性的重要性><a href=#透明性的重要性 class=headerlink title=透明性的重要性></a>透明性的重要性</h2><p>即使我们不披露签名人的身份，我们依然需要脚本来理解真正的信任假设。这些系统被设计成带有 1-of-N 诚实参与者信任假设。但如果信任假设最终会回落到一个受许可的多签名装置，把资金存进这些合约的用户有权利知情。</p><p>我预计绝大部分基于 BitVM 的桥接合约都会包含这类紧急更新花费路径。我希望这些桥接合约不会永远带有这样的花费路径，我们可以升级到更加信任最小化的设计。但是，我们不能当它们不存在，或者借口说它们不是唯一的信任模式。</p><p>只要紧急花费路径存在，它不折不扣就是信任模式本身。</p><p>（完）</p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>