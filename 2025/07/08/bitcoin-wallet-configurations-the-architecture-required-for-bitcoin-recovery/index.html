<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>复原比特币钱包所需的架构</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/mempool>mempool</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">复原比特币钱包所需的架构</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>复原比特币钱包所需的架构</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/mempool>mempool</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%A7%8D%E5%AD%90%E8%AF%8D%E5%8F%AA%E6%98%AF%E5%9F%BA%E7%A1%80><span class=toc-text>种子词只是基础</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%8D%95%E7%AD%BE%E5%90%8D%E9%85%8D%E7%BD%AE><span class=toc-text>单签名配置</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%B8%BB%E5%AF%86%E9%92%A5%E6%8C%87%E7%BA%B9><span class=toc-text>主密钥指纹</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%8B%93%E5%B1%95%E5%85%AC%E9%92%A5><span class=toc-text>拓展公钥</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%B4%BE%E7%94%9F%E8%B7%AF%E5%BE%84><span class=toc-text>派生路径</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%84%9A%E6%9C%AC%E7%B1%BB%E5%9E%8B><span class=toc-text>脚本类型</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%8D%95%E7%AD%BE%E5%90%8D%E9%92%B1%E5%8C%85%E5%A4%8D%E5%8E%9F%E6%80%BB%E7%BB%93><span class=toc-text>单签名钱包复原总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%A4%9A%E7%AD%BE%E5%90%8D%E9%85%8D%E7%BD%AE><span class=toc-text>多签名配置</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%B8%BB%E5%AF%86%E9%92%A5%E6%8C%87%E7%BA%B9-1><span class=toc-text>主密钥指纹</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%97%A8%E9%99%90%E8%A6%81%E6%B1%82><span class=toc-text>门限要求</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%89%80%E6%9C%89%E7%9A%84%E6%8B%93%E5%B1%95%E5%85%AC%E9%92%A5><span class=toc-text>所有的拓展公钥</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%89%80%E6%9C%89%E7%9A%84%E6%B4%BE%E7%94%9F%E8%B7%AF%E5%BE%84><span class=toc-text>所有的派生路径</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%84%9A%E6%9C%AC%E7%B1%BB%E5%9E%8B-1><span class=toc-text>脚本类型</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%A4%9A%E7%AD%BE%E5%90%8D%E9%92%B1%E5%8C%85%E5%A4%8D%E5%8E%9F%E6%80%BB%E7%BB%93><span class=toc-text>多签名钱包复原总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BA%86%E8%A7%A3%E5%90%88%E4%BD%9C%E5%BC%8F%E4%BF%9D%E7%AE%A1><span class=toc-text>了解合作式保管</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>复原比特币钱包所需的架构</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt="Tom Honzik"><div class=page-author-info><strong>Tom Honzik</strong><time class=has-text-grey datetime=2025-07-08T00:56:58.000Z>2025-07-08</time></div></div><div class=is-flex><a href=/tags/%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97><i class="page-tag mr-1 px-1">入门系列</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Tom Honzik</em></p><p><em>来源：<a target=_blank rel=noopener href=https://www.unchained.com/blog/bitcoin-wallet-configurations>https://www.unchained.com/blog/bitcoin-wallet-configurations</a></em></p></blockquote><p><img src=/images/bitcoin-wallet-configurations-the-architecture-required-for-bitcoin-recovery/Wallet_Configurations.png alt="Wallet Configurations"></p><p>要想自己控制你的比特币，你必须保管持有这些资金的<a target=_blank rel=noopener href=https://unchained.com/blog/what-is-a-bitcoin-key/ >密钥</a>、消除你对第三方密钥的依赖。但这还不够 —— 同样重要的是，确保你不会依赖于你的钱包 <em>应用</em>。</p><p>钱包应用就是你观察自己的比特币余额、构造交易的地方。它通常是你的电脑或手机上的一个程序。如果这个应用宕机了，或者遇到了故障，那你可能需要使用另一个应用来重获对你的钱包（资金）的控制权。这需要导入你的 <em>钱包配置</em>（有些时候会被称为 “ <em>钱包描述符</em> ”）。如果不知道（或者说不掌握）钱包配置的信息，你当前的钱包应用就会变成你自主保管装置中的一个单点故障。</p><p>因此，钱包配置在钱包复原中是极为关键的，尤其在<a target=_blank rel=noopener href=https://unchained.com/features/what-is-multisig>多签名钱包</a>的复原中。了解其中的原理可以帮助你建立自信 —— 你已经掌握了重获比特币控制权所需的一切，即使你所用的钱包应用出现了异常也不怕。当你<a target=_blank rel=noopener href=https://unchained.com/vaults>在 Unchained 的钱包应用中搭建好一个多签名钱包</a>之后，你总是可以<a target=_blank rel=noopener href=https://help.unchained.com/download-unchained-bitcoin-multisig-configuration-file>轻松保存你的钱包配置</a>，从而<a target=_blank rel=noopener href=https://help.unchained.com/can-i-import-my-vault-into-third-party-wallets>永远不会被迫依赖于你当前使用的平台、网站或者企业</a>。</p><h2 id=种子词只是基础><a href=#种子词只是基础 class=headerlink title=种子词只是基础></a>种子词只是基础</h2><p>如果你研究或实践过比特币的自主保管，你可能很熟悉 “<a target=_blank rel=noopener href=https://unchained.com/blog/what-is-a-bitcoin-seed-phrase/ >种子词</a>” 的概念。简单回顾一下，种子词就是一组用来创建（和重建）一个主<a target=_blank rel=noopener href=https://unchained.com/blog/what-is-a-bitcoin-key/ >私钥</a>的单词。然后，这个主私钥可以用来控制几乎无数的<a target=_blank rel=noopener href=https://unchained.com/blog/what-is-a-bitcoin-address/ >地址</a>和<a target=_blank rel=noopener href=https://unchained.com/blog/your-bitcoin-isnt-in-your-wallet/ >钱包</a>。</p><p>你可能会认为，只要你保存了种子词（加上可选使用的 “密语（passphrases）”），你就拥有了找回比特币的全部信息。但是，这种信念是否为真，取决于一些特定的假设。为了保证你的钱包可以毫无困难地复原出来，你可能需要跟踪种子词之外的信息，例如你使用的 “<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-derivation-paths/ >密钥派生路径</a>” 和 “<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-address-types-compared/ >脚本类型</a>”。<a target=_blank rel=noopener href=https://unchained.com/features/what-is-multisig>多签名钱包</a>还需要额外的关于阈值和所有相关密钥的背景信息。</p><p>钱包配置是种子词之外复原钱包所必需的（或有用的）信息的全集。你可以认为种子词是重建钱包的基础，而钱包配置是建筑的架构蓝图。蓝图的具体元素及其重要性，会被因为钱包的类型（单签名 vs. 多签名）而略有不同。</p><h2 id=单签名配置><a href=#单签名配置 class=headerlink title=单签名配置></a>单签名配置</h2><p>如我们在《<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-wallet-anatomy/ >比特币钱包剖析</a>》一文中所述，单签名钱包是使用一个拓展公钥（“xpub”）构造出来的；而这个拓展公钥又是从一个主私钥（种子词）生成出来的。这一个拓展公钥可以容易地派生出用在这个钱包的所有地址中的普通公钥。</p><p><img src=/../images/bitcoin-wallet-configurations-the-architecture-required-for-bitcoin-recovery/singlesig-deri.png alt=singlesig-deri></p><p style=text-align:center>- 一个主私钥从许多可能性中创建一个 xpub 。这个 xpub 就代表着一个单签名钱包 —— 它可以创建出许多在区块链上接收（持有）比特币的地址。 -</p><p>单签名钱包的结构是非常基础的，因此，组成其钱包配置的信息也相对简单。以下就是一些元素。</p><h3 id=主密钥指纹><a href=#主密钥指纹 class=headerlink title=主密钥指纹></a>主密钥指纹</h3><p>主密钥拥有一个 <em>指纹</em>，是 8 位的十六进制字符（比如：d26a3f72）。这个指纹不会暴露任何能够用来花费资金的敏感信息，但可以用作具体主密钥的唯一标识符。虽然它并不是钱包复原所必需的信息，但如果你需要处理多个主私钥，指纹就是非常有用的提醒，可以用来确定跟一个钱包相关的主密钥。</p><h3 id=拓展公钥><a href=#拓展公钥 class=headerlink title=拓展公钥></a>拓展公钥</h3><p>拓展公钥（xpub）是计算地址所必需的；有了地址，才能显示和监控钱包的余额、收取新支付。在钱包配置中包含拓展公钥，将使上述操作（计算地址、收取支付）无需种子词和任何私钥就能完成。这创造了一种更安全的环境，如果钱包的主人并不急于将这些钱转出钱包 —— 转出资金就需要由种子词产生的私钥。</p><p>如果已经有了种子词，那么不需要预先处理拓展公钥，可以使用 “派生路径”，从种子词中计算出拓展公钥。</p><h3 id=派生路径><a href=#派生路径 class=headerlink title=派生路径></a>派生路径</h3><p>一个种子词能够产生几乎无限数量的 xpub ，每一个都可以用来生成一个独一无二的钱包。因此，如果你试图用种子词复原一个具体的钱包，你就需要知道如何产生跟这个钱包相关的具体 xpub 。为从种子词出发的你一步步导航到一个 xpub 的信息称作 “ <em>派生路径</em> ”。它大概是 <code>m/84&#39;/0&#39;/0&#39;</code>这样的东西，你可以<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-derivation-paths/ >在我们关于这个主题的文章中了解更多</a>。</p><p>如果这个钱包最初是根据流行的标准建构出来的，那么就有可能使用了一些候选的派生路径，那么就可以通过试错法来确定（如果你弄丢了钱包配置的话）。当前，最常用的公式是 <code>m/x&#39;/0&#39;/y&#39;</code>，其中的 <em>x</em> 取决于钱包的脚本类型，而 <em>y</em> 通常是 0 ，但可能会递增，如果同一个种子词曾用来生成多个使用相同脚本类型的钱包的话。不过，也不是所有钱包都使用这条公式；你可以看看 <a target=_blank rel=noopener href=http://walletsrecovery.org/ >walletsrecovery.org</a> ，这是一个极好的资源网站，适合每一个尝试复原不明确配置钱包的人。</p><p>派生路径是单签名钱包配置中最重要的部分。即使 xpub 自身已知，派生路径依然是计算能够从钱包中花费比特币的私钥所必需的信息。</p><h3 id=脚本类型><a href=#脚本类型 class=headerlink title=脚本类型></a>脚本类型</h3><p>恰当地在一个新应用中重建一个钱包也需要知道该钱包的<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-address-types-compared/ >脚本类型，或者说地址格式</a>。单签名钱包可能是以下四种脚本类型之一：P2PKH、P2SH_P2WPKH、P2WPKH 和 P2TR 。</p><ul><li>如果钱包地址以数字 “1” 开头，那么就是 P2PKH 类型，派生路径可能以 <code>m/44&#39;/</code> 开头。</li><li>如果钱包地址以数字 “3” 开头，那么就是 P2SH-P2WPKH 类型，派生路径可能以 <code>m/49&#39;/</code>开头。</li><li>如果钱包地址以字符 “bc1q” 开头，那么就是 P2WPKH 类型，派生路径可能以 <code>m/84&#39;/</code> 开头。</li><li>如果钱包地址以字符 “bc1p” 开头，那么就是 P2TR 类型，派生路径可能以 <code>m/86&#39;/</code> 开头。</li></ul><p><img src=/../images/bitcoin-wallet-configurations-the-architecture-required-for-bitcoin-recovery/singlesig-descriptor.png alt=singlesig-descriptor></p><p style=text-align:center>- 单签名钱包配置的一个案例，以 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0388.mediawiki>BIP388</a> 钱包条款格式呈现 -</p><h3 id=单签名钱包复原总结><a href=#单签名钱包复原总结 class=headerlink title=单签名钱包复原总结></a>单签名钱包复原总结</h3><p>如果你拥有种子词（以及你可能使用的密语），那么，即使 <em>不知道</em> 任何其它信息，在一个新的钱包应用中复原自己的单签名钱包也是有可能的。新应用可能会假设你使用了通行标准所定义的派生路径，而如果你的钱包最初真是这么生成的，那么迁移就不会遇到任何障碍。派生路径本身会表明脚本类型，并能够从种子词重新生成对应的 xpub 。然后，就可以计算出地址、了解钱包余额，能够签名花费资金的私钥也可以重新计算出来。</p><p>然而，依赖于原来的钱包软件使用了特定的标准，是不理想的；尤其是，标准自身也可能在时间长河中改变。如果你原来那款钱包应用跟新款应用所用的流程不同，那么这种不兼容性就会让你无法立即找回你的比特币（余额会显示为零）。为了避免这种让人紧张而且困惑的情形，了解你的钱包配置并保存这些信息是精明之举。然后，只要你拥有这些信息和种子词，你就获得了信心：即使需要在新应用中手动调整一些选项，你也必定能够重获单签名钱包的控制权。</p><h2 id=多签名配置><a href=#多签名配置 class=headerlink title=多签名配置></a>多签名配置</h2><p>理解了单签名签名是如何构造的，多签名钱包的配置也变得更容易理解。如我们在《<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-wallet-anatomy/ >比特币钱包剖析</a>》一文中所述，多签名钱包为每一个参与其中的主私钥（种子词）使用了一个拓展公钥。比如说，在一个 2-of-3 多签名钱包中就有 3 个拓展公钥，而在一个 3-of-5 多签名钱包中就有 5 个拓展公钥。多签名钱包中的每一个地址，都是使用来自各拓展公钥的一个普通公钥集体建构出来的，而且这些普通公钥会根据 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0067.mediawiki>BIP67</a> 标准的要求、按照<a target=_blank rel=noopener href=https://en.wikipedia.org/wiki/Lexicographic_order>字典顺序</a>排列。在 Unchained 钱包应用中，我们建议使用<a target=_blank rel=noopener href=https://unchained.com/features/the-braid-model>编织模型</a>来理解这一切。</p><p><img src=/../images/bitcoin-wallet-configurations-the-architecture-required-for-bitcoin-recovery/multisig-deri.png alt=multisig-deri></p><p style=text-align:center>- 在一个 2-of-3 多签名钱包中，三个主私钥各自派生一个 xpub 。这三个拓展公钥的集合就代表着这个多签名钱包，然后它们可以一起产生许多收取（持有）比特币的地址。 -</p><p>多签名钱包的结构比单签名钱包更加复杂，因此其钱包配置信息也更详尽。备份多签名钱包配置被认为极其重要，因为（如果没有配置信息）重建出来可能难得多。</p><p>多签名钱包配置中的许多元素跟单签名钱包配置中的箱单，但一部分元素必需为每一个参与的密钥安排一份。</p><h3 id=主密钥指纹-1><a href=#主密钥指纹-1 class=headerlink title=主密钥指纹></a>主密钥指纹</h3><p>如前所述，主密钥指纹是一个主密钥的十六进制标识符。一个多签名钱包中有多个主密钥，每一个都有自己的指纹。这是有用的信息，它意味着每一个密钥都容易区分出来，保证了每一个派生路径都会应用在合适的主密钥上，避免混淆。多签名钱包软件的常见做法是强制让所有指纹都不同，以防止在同一个钱包中重复使用同一个密钥。</p><h3 id=门限要求><a href=#门限要求 class=headerlink title=门限要求></a>门限要求</h3><p>绝大部分多签名钱包的主人都熟悉要使用的密钥门限要求，比如 2-of-3 和 3-of-5 。这个门限要求在根本上定义了钱包中的资金要如何解锁。虽然易于记忆，它也是多签名钱包配置中的一个必要部分。即使我们知道 3 个 xpub 形成了一个多签名钱包，那也有不同的门限可能性：1-of-3、2-of-3、3-of-3 。门限要求不同，产生出来的钱包（地址）也会完全不同。</p><h3 id=所有的拓展公钥><a href=#所有的拓展公钥 class=headerlink title=所有的拓展公钥></a>所有的拓展公钥</h3><p>多签名的一个极为重要但没有得到充分理解的侧面是，知道<strong>所有的拓展公钥</strong>是使用资金的前提。通常人们会以为，如果自己使用的是一个 2-of-3 多签名钱包，那么只要有其中两个主私钥（种子词），就有了足以触及自己钱包中的资金的一切；这是不正确的。还需要来自每一个主私钥的拓展公钥。</p><p>这就意味着需要以下三者之一：</p><ul><li>一直使用一款记忆了钱包配置（因此记忆了所有 xpub）的钱包应用；或者</li><li>持有钱包配置（因此知道所有的 xpub），并且（在需要时）导入选中的钱包应用；或者</li><li>找出一个办法，能够获得第三个 xpub 或者主私钥，通过试错法重建钱包配置。</li></ul><h3 id=所有的派生路径><a href=#所有的派生路径 class=headerlink title=所有的派生路径></a>所有的派生路径</h3><p>如前面单签名钱包配置部分所述，<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-derivation-paths/ >派生路径</a>是让你可以从一个主私钥生成特定 xpub 的信息，极为重要。对多签名钱包中的每一个 xpub 也都如此。</p><p>多签名钱包中的拓展公钥的派生路径也许能够猜测出来 —— 假设创建该钱包的时候遵循了常用标准的话，但只要有一个拓展公钥的派生路径猜错了，就会在取出资金的道路上遇到障碍。这意味着，如果缺乏钱包配置，多签名钱包的用户在复原钱包的时候会更容易遇到障碍和困惑。再说一次，<a target=_blank rel=noopener href=http://walletsrecovery.org/ >walletsrecovery.org</a> 是一个非常有用的资源网站，可以帮助你寻找不同钱包应用所用的派生路径。</p><h3 id=脚本类型-1><a href=#脚本类型-1 class=headerlink title=脚本类型></a>脚本类型</h3><p>多签名钱包可能使用这四种<a target=_blank rel=noopener href=https://unchained.com/blog/bitcoin-address-types-compared/ >脚本类型</a>：P2SH、P2SH-P2WSH、P2WSH，还有 P2TR 。</p><ul><li>如果钱包地址以数字 “3” 开头，那么可能是 P2SH 或 P2SH-P2WSH 类型<ul><li>P2SH 多签名钱包的拓展公钥派生路径可能以 <code>m/45&#39;/</code>开头。</li><li>P2SH-P2WSH 多签名钱包的拓展公钥派生路径可能以 <code>m/48&#39;/</code> 开头，并包含额外的一层路径为 <code>1&#39;</code>，如 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0048.mediawiki>BIP48</a> 所定义的。</li></ul></li><li>如果钱包地址以字符 “bc1q” 开头，那么就是 P2WSH 类型，派生路径可能以 <code>m/48&#39;/</code> 开头，并包含额外的一层路径为 <code>2&#39;</code>，如 BIP48 所述。</li><li>如果钱包地址以字符 “bc1p” 开头，那么就是 P2TR 类型，派生路径可能以 <code>m/86&#39;/</code> 开头。</li></ul><p><img src=/../images/bitcoin-wallet-configurations-the-architecture-required-for-bitcoin-recovery/multisig-descriptor.png alt=multisig-descriptor></p><p style=text-align:center>- 一个 2-of-3 多签名钱包配置的例子，以 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0388.mediawiki>BIP388</a> 钱包条款格式呈现 -</p><h3 id=多签名钱包复原总结><a href=#多签名钱包复原总结 class=headerlink title=多签名钱包复原总结></a>多签名钱包复原总结</h3><p>如果没有钱包配置信息的话，在一个新的钱包应用中复原多签名钱包可能会遇上困难 —— 甚至于不可能。需要所有的 xpub ，意味着如果它们没有全部记录在钱包配置中、并且某一个主私钥丢失或损坏，那么剩余密钥将不足以复原资金。或者，如果钱包配置弄丢了、而某一个密钥使用了一个罕见的派生路径，那么复原资金也可能是极为艰难、令人沮丧而且无法成功的。</p><p>多签名是保管比特币的强大工具，因为它没有单点故障，这是<a target=_blank rel=noopener href=https://unchained.com/features/mpc-vs-multisig-vs-sss>机构级保管</a>的必要条件。但是，如果多签名钱包配置没有备份，已在服役的钱包应用就会成为唯一保存了配置的地方。这可能会让这个钱包软件变成单点故障（具体取决于多签名装置的细节）。所有多签名钱包的用户都应该理解这些，以保证自己的比特币是得到了充分保护的，或选择与比特币专家进行合作式保管。</p><h2 id=了解合作式保管><a href=#了解合作式保管 class=headerlink title=了解合作式保管></a>了解合作式保管</h2><p>使用<a target=_blank rel=noopener href=https://unchained.com/features/diy-vs-collaborative-multisig>合作式多签名保管</a>的一个重大好处在于，这个合作伙伴可以帮助保存钱包配置信息，并在复原钱包时提供专业的指导。比如说，你的 <a target=_blank rel=noopener href=https://my.unchained.com/sign_up>Unchained 账户</a>中的钱包应用为每一个多签名钱包包含了<a target=_blank rel=noopener href=https://help.unchained.com/download-unchained-bitcoin-multisig-configuration-file>易于访问的</a>钱包配置信息。我们自豪地提供关于<a target=_blank rel=noopener href=https://help.unchained.com/how-to-store-bitcoin-multisig-wallet-configuration-file>备份这些信息</a>和<a target=_blank rel=noopener href=https://help.unchained.com/can-i-import-my-vault-into-third-party-wallets>在复原场景中使用它们</a>的资料。这足以让你安心，知道即使有一天 Unchained 的网站下线，你也总是能够选择你自己的开源工具、控制你的比特币，独立自主、无需许可。</p><p>（完）</p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>