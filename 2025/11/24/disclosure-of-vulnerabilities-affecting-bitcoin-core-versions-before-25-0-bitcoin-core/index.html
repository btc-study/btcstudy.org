<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>影响 25.1 以前版本 Bitcoin Core 软件的漏洞披露</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/tools>工具</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">影响 25.1 以前版本 Bitcoin Core 软件的漏洞披露</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>影响 25.1 以前版本 Bitcoin Core 软件的漏洞披露</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/tools>工具</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#CVE-2024-52922%EF%BC%9A%E5%9B%A0%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E6%8B%96%E5%BB%B6%E5%AF%BC%E8%87%B4%E5%8C%BA%E5%9D%97%E4%BC%A0%E6%92%AD%E5%81%9C%E6%BB%9E><span class=toc-text>CVE-2024-52922：因对等节点拖延导致区块传播停滞</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AF%A6%E6%83%85><span class=toc-text>详情</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%B4%E8%B0%A2><span class=toc-text>致谢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#CVE-2024-35202%EF%BC%9A%E9%80%9A%E8%BF%87%E8%A7%A6%E5%8F%91-blocktxn-%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E9%80%BB%E8%BE%91%E4%B8%AD%E7%9A%84%E6%96%AD%E8%A8%80%E5%AF%BC%E8%87%B4%E8%BF%9C%E7%AB%AF%E8%8A%82%E7%82%B9%E5%B4%A9%E6%BA%83><span class=toc-text>CVE-2024-35202：通过触发 blocktxn 消息处理逻辑中的断言导致远端节点崩溃</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AF%A6%E6%83%85-1><span class=toc-text>详情</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%B4%E8%B0%A2-1><span class=toc-text>致谢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#inv-to-send-%E9%9B%86%E5%90%88%E8%BF%87%E5%A4%A7%E8%80%8C%E5%AF%BC%E8%87%B4%E7%9A%84-DoS><span class=toc-text>inv-to-send 集合过大而导致的 DoS</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AF%A6%E6%83%85-2><span class=toc-text>详情</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%B4%E8%B0%A2-2><span class=toc-text>致谢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#CVE-2024-52921%EF%BC%9A%E5%8F%98%E5%BC%82%E5%8C%BA%E5%9D%97%E6%89%80%E5%AF%BC%E8%87%B4%E7%9A%84%E5%8C%BA%E5%9D%97%E4%BC%A0%E6%92%AD%E5%81%9C%E6%BB%9E><span class=toc-text>CVE-2024-52921：变异区块所导致的区块传播停滞</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AF%A6%E6%83%85-3><span class=toc-text>详情</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%B4%E8%B0%A2-3><span class=toc-text>致谢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#CVE-2019-25220%EF%BC%9A%E5%8C%BA%E5%9D%97%E5%A4%B4%E8%BD%B0%E7%82%B8%E6%89%80%E5%AF%BC%E8%87%B4%E7%9A%84%E5%86%85%E5%AD%98-DoS><span class=toc-text>CVE-2019-25220：区块头轰炸所导致的内存 DoS</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AF%A6%E6%83%85-4><span class=toc-text>详情</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%B4%E8%B0%A2-4><span class=toc-text>致谢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#CVE-2024-52919%EF%BC%9Aaddr-%E6%B6%88%E6%81%AF%E8%BD%B0%E7%82%B8%E5%8F%AF%E5%BC%95%E5%8F%91%E8%BF%9C%E7%AB%AF%E8%8A%82%E7%82%B9%E5%B4%A9%E6%BA%83><span class=toc-text>CVE-2024-52919：addr 消息轰炸可引发远端节点崩溃</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AF%A6%E6%83%85-5><span class=toc-text>详情</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%B4%E8%B0%A2-5><span class=toc-text>致谢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#CVE-2024-52917%EF%BC%9Aminiupnp-%E4%BE%9D%E8%B5%96%E5%BA%93%E4%B8%AD%E7%9A%84%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF-bug><span class=toc-text>CVE-2024-52917：miniupnp 依赖库中的无限循环 bug</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%AF%A6%E6%83%85-6><span class=toc-text>详情</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%B4%E8%B0%A2-6><span class=toc-text>致谢</span></a></li></ol></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>影响 25.1 以前版本 Bitcoin Core 软件的漏洞披露</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt="Bitcoin Core"><div class=page-author-info><strong>Bitcoin Core</strong><time class=has-text-grey datetime=2025-11-24T07:59:42.000Z>2025-11-24</time></div></div><div class=is-flex><a href=/tags/%E5%B0%BD%E8%B4%A3%E6%8A%AB%E9%9C%B2><i class="page-tag mr-1 px-1">尽责披露</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Bitcoin Core</em></p><p><em>来源：<a target=_blank rel=noopener href=https://bitcoincore.org/en/security-advisories/ >https://bitcoincore.org/en/security-advisories/</a></em></p><p><em>本文汇集了已经披露的影响 25.1 以前版本 Bitcoin Core 软件的漏洞。</em></p><p><em>自 <a target=_blank rel=noopener href="https://mailing-list.bitcoindevs.xyz/bitcoindev/rALfxJ5b5hyubGwdVW3F4jtugxnXRvc-tjD_qwW7z73rd5j7lXGNdEHWikmSdmNG3vkSOIwEryZzOZr_DgmVDDmt9qsX0gpRAcpY9CfwSk4=@protonmail.com/T/#u">2024 年 7 月</a>以来，Bitcoin Core 项目改变了影响旧版本的漏洞的披露策略。如今，已披露的漏洞在<a target=_blank rel=noopener href=https://bitcoincore.org/en/security-advisories/ >此页面</a>集中呈现。</em></p><p><em>影响 0.21.0 以前版本的 Bitcoin Core 软件的漏洞可见<a href=https://www.btcstudy.org/2024/08/15/disclosure-of-vulnerabilities-affecting-bitcoin-core-versions-before-0210-0-21-0-bitcoin-core/ >此处</a>。</em></p><p><em>为便于读者检查自己所用软件的安全性，将漏洞按照修复它们的版本号排列。</em></p></blockquote><h2 id=CVE-2024-52922：因对等节点拖延导致区块传播停滞><a href=#CVE-2024-52922：因对等节点拖延导致区块传播停滞 class=headerlink title=CVE-2024-52922：因对等节点拖延导致区块传播停滞></a>CVE-2024-52922：因对等节点拖延导致区块传播停滞</h2><p>在 <code>Bitcoin Core</code> v25.1 版本以前，攻击者可以导致一个节点不下载最新区块。该问题被认为具有<strong>中等</strong>严重性。</p><h3 id=详情><a href=#详情 class=headerlink title=详情></a>详情</h3><p>在通过一条【区块头】消息或者【致密区块】消息接收一个新区块的宣告时，收到宣告消息的节点会向发布宣告的节点重新请求数据，要么是完整的区块，要么是缺失的交易。如果宣告节点不按照点对点协议的要求响应收信节点，那么受影响的 <code>Bitcoin Core</code> 收信节点会等待最多 10 分钟，然后断开连接、发起另一次区块下载尝试。如果攻击者可以跟受害者节点建立多条入站环出站连接，就可以重复上述拖延过程。</p><p>推迟区块交付可能导致网络恶化，因为它拖慢了网络共识收敛的速度；这让挖矿支付更不公平，而且会导致网络活性问题。</p><p>最近披露的其他问题（比如说 <a target=_blank rel=noopener href=https://bitcoincore.org/en/2024/10/08/disclose-large-inv-to-send/ >inventory 列表构造问题</a>），在交易池差异相对较大时，将不允许城市节点择机重组构造致密区块，会加重此处提到的问题。</p><p>一项缓解措施在 <a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/pull/27626>#27626</a> 引入；该 PR 进入了 <code>Bitcoin Core</code> v26.0，并被反向移植到 v25.1 。它保证了最多可以向 3 个高带宽的致密区块对等节点并发请求区块，并且其中一个要求是出站连接。</p><h3 id=致谢><a href=#致谢 class=headerlink title=致谢></a>致谢</h3><p>该漏洞由 Greg Sanders 报告并修复。</p><h2 id=CVE-2024-35202：通过触发-blocktxn-消息处理逻辑中的断言导致远端节点崩溃><a href=#CVE-2024-35202：通过触发-blocktxn-消息处理逻辑中的断言导致远端节点崩溃 class=headerlink title="CVE-2024-35202：通过触发 blocktxn 消息处理逻辑中的断言导致远端节点崩溃"></a>CVE-2024-35202：通过触发 blocktxn 消息处理逻辑中的断言导致远端节点崩溃</h2><p>在 <code>Bitcoin Core</code> v25.0 以前，攻击者可以通过触发 <code>blocktxn</code> 消息处理逻辑中的一个断言、远程导致 <code>Bitcoin Core</code> 节点崩溃。</p><h3 id=详情-1><a href=#详情-1 class=headerlink title=详情></a>详情</h3><p>在通过 <code>cmpcblock</code>（致密区块）消息收取一个区块宣告时，<code>Bitcoin Core</code>会尝试使用本地交易池中的交易以及其它可用的交易数据、重新构造该消息宣告的区块。如果重构因为缺失了交易而失败，该节点就会向宣告区块的对等节点请求，通过 <code>getblocktxn</code> 消息。按照预期，在响应 <code>blocktxn</code> 消息时，对等节点会提供所请求的交易。</p><p>“致密区块” 协议使用了缩短的交易标识符，以节约带宽。这些短 id 的长度是 6 个字节，所以会有一个较小的碰撞概率（即，交易 A 与交易 B 具有相同的短 id）。在使用重新构造的交易集合来计算默克尔根时，这样的碰撞会被检测出来：计算出来的默克尔根与区块宣告消息中的并不一致。也不应该因为碰撞可能是虚假的而惩罚这个对等节点，因此，这是通过回退到请求完整的区块来处理的。</p><p>无论什么时候，收到一个新的致密区块时，<code>Bitcoin Core</code> 就创建一个 <code>PartiallyDownloadedBlock</code> 实例。如果请求到了缺失的交易，这个实例就持久化，直到相应的 <code>blocktxn</code> 消息处理完成。在收到 <code>blocktxn</code> 消息的时候，就调用 <code>PartiallyDownloadedBlock::FillBlock</code> 函数，尝试构造完整的区块。在上述碰撞情形中，节点会转而请求完整的区块，但这个 <code>PartiallyDownloadedBlock</code> 实例以及其它跟底层区块请求相关的状态就会搁置在一边。这就留下了空间，让同一个区块的第二条 <code>blocktxn</code> 消息能够得到处理，以及再次触发 <code>FillBlock</code> 调用。这违反了软件的运行的假设：<code>FillBlock</code> 只能被调用一次（作为一个 <code>assert</code> 断言语句有明确说明）；并导致这个节点崩溃。</p><p>攻击者无需真的找出这样的碰撞，因为这个碰撞处理逻辑很容易可以通过直接在 <code>blocktxn</code> 消息中包含该区块的默克尔根并不承诺的交易来触发。</p><h3 id=致谢-1><a href=#致谢-1 class=headerlink title=致谢></a>致谢</h3><p>感谢 Niklak Gögge 发现并披露了这个漏洞，同时在 <a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/pull/26898>https://github.com/bitcoin/bitcoin/pull/26898</a> 中修复了它。</p><h2 id=inv-to-send-集合过大而导致的-DoS><a href=#inv-to-send-集合过大而导致的-DoS class=headerlink title="inv-to-send 集合过大而导致的 DoS"></a>inv-to-send 集合过大而导致的 DoS</h2><p>在 <code>Bitcoin Core</code> v25.0 以前，按对等节点逐个分立的 <code>m_tx_inventory_to_send</code> 可能会变得过大，大到在构造 inventory 消息时为这些集合排序会影响节点与其它对等节点通信的能力。2023 年 5 月上旬的网络条件触发了这种 DoS 攻击，影响了区块和交易的传播。</p><p>这个问题被认为具有<strong>中等</strong>危险性。</p><h3 id=详情-2><a href=#详情-2 class=headerlink title=详情></a>详情</h3><p>作为交易转发动作的一部分，<code>Bitcoin Core</code> 管理着一个按对等节点分立的 <code>m_tx_inventory_to_send</code> 集合，保存着应该向这些对等节点宣告的交易。在为一个对等节点构造一条 inventory 消息时，这个集合会按照交易的依赖性和手续费率先行排序，从而将高手续费率的交易排在前面，以及避免泄漏本节点收到这些交易的顺序。在 <code>Bitcoin Core</code> v25.0 以前，在构造 inventory 消息时，相关的（依然在交易池中、对等节点还没有向本地节点宣告、超过了费率门槛的）交易会被按照每秒 7 笔交易的速度提取出来。</p><p>在 2023 年 5 月上旬，增加的网络活动导致这些集合迅速膨胀，膨胀速度比抽取速度还要快，导致在 P2P 通信线程中给这些集合排序要消耗大量的时间。此外，有一些对等节点只会监听交易宣告、从来不会宣告交易（通常被称为 “间谍节点”），因为形成了巨大的集合而加剧了这个问题。有观察表明，排序几乎占用了 P2P 通信线程全部花费的时间，这显著影响了区块和交易传播，以及保持对等连接活性的难度。</p><p>该问题在 <a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/pull/27610>#27610</a> 中修复，办法是：（1）更早移除已不在交易池中的交易；（2）根据集合的体积，动态地提高抽取交易的速度。</p><h3 id=致谢-2><a href=#致谢-2 class=headerlink title=致谢></a>致谢</h3><p>感谢 Anthony Towns 开发这一修复措施，以及 b10c 最初报告了这个问题，并将根源追溯到 inv-to-send 的排序。</p><h2 id=CVE-2024-52921：变异区块所导致的区块传播停滞><a href=#CVE-2024-52921：变异区块所导致的区块传播停滞 class=headerlink title=CVE-2024-52921：变异区块所导致的区块传播停滞></a>CVE-2024-52921：变异区块所导致的区块传播停滞</h2><p>在 <code>Bitcoin Core</code> v25.0 以前，一个对等节点发送变异的区块，可以导致本地节点对其他同样宣告了该区块的对等节点的下载状态清空，使区块传播停滞。</p><p>该问题被认为具有<strong>中等</strong>严重性。</p><h3 id=详情-3><a href=#详情-3 class=headerlink title=详情></a>详情</h3><p><code>Bitcoin Core</code> 会在（比如说）区块头中的默克尔根或者 coinbase 交易中的见证承诺（witness commitment）与该区块所包含的交易不匹配时，将该区块当成 “变异区块”。</p><p>在 <code>Bitcoin Core</code> v25.0 以前，一个对等节点可以通过发送未被请求的变异区块，使本地节点对其他对等节点的下载状态清空。这在（比如说）致密区块转发中就成了一个问题。在收到一个致密区块、发送了一条 <code>getblocktxn</code> 消息、等待响应（以重新构造完整区块）期间，收到一个变异区块会让 <code>Bitcoin Core</code> 忘记这个致密区块的重构状态。也就是说，在变异区块到达之后到来的 <code>blocktxn</code> 响应消息，将无法用来重构这个区块。这就阻碍了区块传播。</p><p>该问题在 <a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/pull/27608>#27608</a> 中修复，办法是通过确保一个对等节点只能影响它自己的区块下载状态、不能影响其它节点的区块下载状态。</p><h3 id=致谢-3><a href=#致谢-3 class=headerlink title=致谢></a>致谢</h3><p>感谢 Suhas Daftuar 注意到这个问题并开发了修复措施。</p><h2 id=CVE-2019-25220：区块头轰炸所导致的内存-DoS><a href=#CVE-2019-25220：区块头轰炸所导致的内存-DoS class=headerlink title="CVE-2019-25220：区块头轰炸所导致的内存 DoS"></a>CVE-2019-25220：区块头轰炸所导致的内存 DoS</h2><p>在 <code>Bitcoin Core</code> v24.0.1 以前，攻击者可以使用低难度的区块头链来轰炸一个节点，这可以用来远程使一个节点崩溃。</p><p>该问题被认为具有<strong>高等</strong>严重性。</p><h3 id=详情-4><a href=#详情-4 class=headerlink title=详情></a>详情</h3><p><code>Bitcoin Core</code> 在内存中存储区块链的区块头。这使它很容易被 DoS 攻击：可以让它下载和存储非常长的区块头链，即使这些区块头都是低工作量证明难度的。重要的是，这样的区块头链一旦构造完成，就可以重复使用，导致网络中的任一节点崩溃。</p><p>使用这种方式来攻击节点的可能性一直为人所知，也是依然使用 “检查点（checkpoint）” 系统的首要理由：让攻击者只能从最新一个检查点开始，这比从创世区块开始要昂贵得多。但是，随着时间推移、哈希率的成本下降，即使这种缓解措施也会逐渐失效。</p><p>该攻击由 David Jaeson 在 2019 年 1 月独立发现并报告给 Bitcoin Core 项目；他也建议加入一种更新的检查点作为一种实用的缓解措施。然而：</p><ol><li>执行初始化区块同步的节点，在收到检查点区块以前，依然是缺乏保护的。</li><li>检查点系统依赖于整个生态 准-定期 采用带有新检查点的更新版本软件，Bitcoin Core 的贡献者一直对这种做法感到不太舒服。</li></ol><p>后来，这个问题因为 Braydon Fuller 与 2019 年 10 月在 bitcoin-dev 邮件组发出题为 “<a target=_blank rel=noopener href=https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-October/017354.html>Chain width expansion</a>（链宽度膨胀）” 的帖子而引起更多关注。此前，他曾经向 Bitcoin Core 安全邮件组尽责披露过这个问题。该文所建议的方法没有被 Bitcoin Core 采用，因为担心限制并行链条的数量会影响网络的收敛性。</p><p>那时候，创建一条巨大的低难度区块头链的计算成本，等价于挖出链顶端一个区块的 32.28% 。因此，成本大概是 4.12 BTC（因为那时候的区块奖励大概是 12.77 BTC ）。</p><p>在 2022 年 2 月，攻击的成本进一步下降到挖出一个链顶端区块的 14.73% 。如不解决，今天（2024 年 9 月），这个成本将下降到区块挖掘成本的 4.44% 。这两个数字，根据这些日期的区块奖励，换算过来分别是 1.07 BTC 和 0.14 BTC .</p><p>Bitcoin Core PR <a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/pull/25717>#25717</a> 实现了对抗这种 DoS 攻击的一种保护措施，节点会先验证一条链具有足够的工作量证明，然后才存储它。有了这种保护措施，<code>Bitcoin Core</code> 也不再依赖于检查点来对抗任何移植的攻击。</p><h3 id=致谢-4><a href=#致谢-4 class=headerlink title=致谢></a>致谢</h3><p>感谢 David Jaenson 和 Braydon Fuller 独立重新发现了这种攻击、评估了其成本以及提出了修改建议。</p><p>感谢 Suhas Daftuar 和 Pieter Wuille 研究出了一种令人满意的修复措施并实现了它。</p><h2 id=CVE-2024-52919：addr-消息轰炸可引发远端节点崩溃><a href=#CVE-2024-52919：addr-消息轰炸可引发远端节点崩溃 class=headerlink title="CVE-2024-52919：addr 消息轰炸可引发远端节点崩溃"></a>CVE-2024-52919：addr 消息轰炸可引发远端节点崩溃</h2><p>一种整数向上溢出 bug 会导致一个断言语句崩溃，修复措施已进入 2021 年 9 月 14 日发布的 <code>Bitcoin Core</code> v22.0 。</p><p>本问题被认为具有<strong>高等</strong>严重性。</p><h3 id=详情-5><a href=#详情-5 class=headerlink title=详情></a>详情</h3><p><code>CAddMan</code> 具有一个 32 比特长的 <code>nIdCount</code> 字段，每次向 <code>addrman</code> 数据库插入时，该字段的数值就递增，并且该值也成为新条目的标识符。通过让受害者节点插入 2<sup>32</sup> 个条目（比如说，通过 <code>addr</code> 消息轰炸），这个标识符的数值就会向上溢出，导致一条断言语句崩溃。</p><h3 id=致谢-5><a href=#致谢-5 class=headerlink title=致谢></a>致谢</h3><p>感谢 Eugene Siegel 发现并披露这个漏洞，Pieter Wuille 在 <a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/pull/22387>https://github.com/bitcoin/bitcoin/pull/22387</a> 中修复这个漏洞。</p><h2 id=CVE-2024-52917：miniupnp-依赖库中的无限循环-bug><a href=#CVE-2024-52917：miniupnp-依赖库中的无限循环-bug class=headerlink title="CVE-2024-52917：miniupnp 依赖库中的无限循环 bug"></a>CVE-2024-52917：miniupnp 依赖库中的无限循环 bug</h2><p>披露 <code>Bitcoin Core</code> 的 <code>miniupnp</code> 依赖库中的一个无限循环 bug 所造成的影响，修复措施已进入 2021 年 9 月 14 日发布的 <code>Bitcoin Core</code> v22.0 。</p><p>本问题被认为具有<strong>低等</strong>严重性。</p><h3 id=详情-6><a href=#详情-6 class=headerlink title=详情></a>详情</h3><p><code>Miniupnp</code> 是 <code>Bitcoin Core</code> 为 UPnP 网络协议而使用的代码库；只要它从网络中的一个设备处收到了随机数据，就会一直等待发现。此外，它还会为每一个新的设备信息分配一段内存。本地网络中的一个攻击者可以伪装成一个 UPnP 设备、不断向 <code>Bitcoin Core</code> 发送臃肿的 M-SEARCH 汇入，直至该节点的内存耗尽。</p><p>只有使用了 <code>-miniupnp</code> 运行选项的用户会受该漏洞影响；否则的话，<code>Miniupnp</code> 默认是关闭的。</p><h3 id=致谢-6><a href=#致谢-6 class=headerlink title=致谢></a>致谢</h3><p>感谢 Ronald Huveneers 向 miniupnp 项目报告这个无限循环 bug，以及 Michael Ford (Fanquake) 向 Bitcoin Core 项目报告这个漏洞，还提供了触发一次内存溢出（OOM）的验证验证（PoC），并发起代码合并请求来取消依赖关系（包含修复措施）。</p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>