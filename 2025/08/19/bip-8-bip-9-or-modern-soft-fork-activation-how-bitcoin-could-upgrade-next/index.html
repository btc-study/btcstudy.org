<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>BIP8、BIP9 与现代软分叉激活方法</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/mempool>mempool</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">BIP8、BIP9 与现代软分叉激活方法</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>BIP8、BIP9 与现代软分叉激活方法</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/mempool>mempool</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BB%A5%E5%BE%80%E7%9A%84%E8%BD%AF%E5%88%86%E5%8F%89%E5%92%8C-BIP9><span class=toc-text>以往的软分叉和 BIP9</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#BIP-8><span class=toc-text>BIP 8</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%8E%B0%E4%BB%A3%E8%BD%AF%E5%88%86%E5%8F%89%E6%BF%80%E6%B4%BB%E6%96%B9%E6%B3%95><span class=toc-text>现代软分叉激活方法</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#BIP-8-BIP-91><span class=toc-text>BIP 8 + BIP 91</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#Spork><span class=toc-text>Spork</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%9B%B4%E6%96%B0><span class=toc-text>更新</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>BIP8、BIP9 与现代软分叉激活方法</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt="Aaron Van Wirdum"><div class=page-author-info><strong>Aaron Van Wirdum</strong><time class=has-text-grey datetime=2025-08-19T10:02:41.000Z>2025-08-19</time></div></div><div class=is-flex><a href=/tags/%E8%BD%AF%E5%88%86%E5%8F%89><i class="page-tag mr-1 px-1">软分叉</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Aaron Van Wirdum</em></p><p><em>来源：<a target=_blank rel=noopener href=https://bitcoinmagazine.com/technical/bip-8-bip-9-or-modern-soft-fork-activation-how-bitcoin-could-upgrade-next>https://bitcoinmagazine.com/technical/bip-8-bip-9-or-modern-soft-fork-activation-how-bitcoin-could-upgrade-next</a></em></p><p><em>原文网页记录的出版时间是 2020 年 7 月 20 日。但写作时间应当早得多，因其探讨的是 Taproot 升级可能采用的激活方法。</em></p><p><em>实际上，Taproot 升级采用 “Speedy Trial” 激活方法，从 2020 年 5 月开始收集区块信号，在 6 月 12 日就已达成信号比例目标。</em></p></blockquote><p><img src=/images/bip-8-bip-9-or-modern-soft-fork-activation-how-bitcoin-could-upgrade-next/bitcoin-and-modern-soft-fork-activation.png alt="BIP 8, BIP 9 or Modern Soft Fork Activation: How Bitcoin Could Upgrade Next 1"></p><p><a target=_blank rel=noopener href=https://bitcoinmagazine.com/articles/taproot-coming-what-it-and-how-it-will-benefit-bitcoin>Taproot</a> 是一个可以提升比特币的隐私性和灵活的协议升级提议，目前已到了开发的最后阶段。Bitcoin Core 的贡献者们都认为这项升级有益于比特币，而且就目前来看，也受到广大比特币生态系统的广泛欢迎。因此，Tarpoot 可能会进入 Bitcoin Core 的发行版本，而其它比特币客户端实现可能也会跟进。</p><p>但还有一个问题：比特币网络自身该如何升级？Taproot 是一次共识协议变更，这意味着比特币的节点们必须有一部分从旧规则切换到新规则，但又不能让网络分裂成强制执行不同规则的部分。出于许多原因，这在过去已被证明是一件难事。</p><p>激活协议升级的更优策略已在酝酿中。</p><h2 id=以往的软分叉和-BIP9><a href=#以往的软分叉和-BIP9 class=headerlink title="以往的软分叉和 BIP9"></a>以往的软分叉和 BIP9</h2><p>好消息是 Taproot 将是一次 “软分叉”。这种类型升级会添加，或者说收紧共识规则 —— 与之相对的 “硬分叉” 则会移除，或者说放松共识规则。添加或收紧规则的好处是，一个升级后的节点认为有效的任何东西，没升级的节点也会认为是有效的。（如果旧节点同时接受类型 A 和类型 B 的交易，但新规则只允许类型 A 的交易，那么旧节点在强制执行新规则的网络中也能保持兼容性。）</p><p>比特币的最早的一些软分叉是通过 “信号日（flag day）” 激活的。开发者们（尤其是<a target=_blank rel=noopener href=https://bitcoinmagazine.com/what-is-bitcoin/who-created-bitcoin>中本聪</a>）在新的比特币客户端软件发行版的代码中嵌入一个未来的日期，从而指定升级后（使用新版软件）的节点开始强制执行新规则的时间点。矿工和用户被鼓励在该日期前使用更新的软件，已避免网络分叉。（顺便说一句，在那时候，矿工和用户通常是同一群人，与今天不同。）</p><p>因为没升级的节点也跟新规则兼容，软分叉的一个显著好处是，只要绝大部分的矿工强制执行新规则，整个比特币网络就能对应用新规则的区块链达成共识。这也意味着，在强制执行新规则时，不必迫使所有节点立即升级，用户可以保持一些灵活性。（虽然用户也被鼓励升级，因为他们是通过拒绝违反新规则的交易和区块来强制执行新规则的最终力量。）</p><p>自 2012 年以来，软分叉越来越多地利用哈希算力作为切换到新规则的一种协调机制。通过在自己挖出的区块中嵌入一个比特，矿工们可以向其他矿工以及网络中的其他人表明自己是否已经升级了软件，也即是否准备好了强制执行新规则。一旦有足够多的哈希算力表示支持，所有升级后的节点就会打开开关，强制执行新规则。</p><p>经过几次升级，这一策略形成了第 9 号比特币升级提议（<a target=_blank rel=noopener href=https://bitcoinmagazine.com/articles/bip-enabling-easier-changes-and-upgrades-to-bitcoin-1453929816>BIP 9</a>）。比如说，BIP 9 也被用来激活比特币的最后一次软分叉升级 “隔离见证（<a target=_blank rel=noopener href=https://bitcoinmagazine.com/what-is-bitcoin/what-is-segwit>Segregated Witness</a>）”。矿工有一年的窗口可以表态，需要在至少一个难度调整周期内有 95 % 的区块包含了就绪信号比特。如果在一年后，没有任何一个难度调整周期达成了这个目标，激活窗口就过期了，升级就会失败。（当然，可以再尝试一次。）</p><p>不过，在隔离见证升级中，BIP 9 的历程并不顺利。与之前的一些升级一样，一些矿工并没有积极升级，可能是因为不关心：通常没有非常大的激励让他们尽早升级。但更大的一个问题是，一些矿工开始以为，信号表决过程是一种对升级的投票 —— 他们不是在表示自己是否准备好了，而是在表示自己会（或者不会）支持它。更糟糕的是，一些矿工最终使用这种 “投票” 来阻挠升级，以期获得对比特币开发过程的政治影响力；并且&#x2F;或者，他们可以 “投票” 反对升级，以便留下升级将要修复的比特币协议怪癖，并暗中从中获得持续的好处。</p><p>在长时间的紧张戏剧之后，隔离见证最终还是激活了，不过，是在另类的比特币客户端包含了一种新的激活方案之后。BIP 148 ，被包含在一些用户运行的 “BIP 148 客户端” 中，它被编程为从一个信号日开始，仅接受表态支持隔离见证升级的区块。与此同时，在 BIP148 信号日之前，矿工们运行了包含 BIP 91 的 “btc1 客户端”，实质上将激活的哈希算力要求从 95% 降低到 75% 。面对潜在的网络分裂风险和收入损失，阻挠的矿工让步了。但对大部分 Bitcoin Core 开发者来说，BIP 9 已经显露出并非最优的解决方案，他们也开始思考替代方案。</p><h2 id=BIP-8><a href=#BIP-8 class=headerlink title="BIP 8"></a>BIP 8</h2><p><a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0008.mediawiki>BIP 8</a> 是 BIP9 的更早的替代方案，由 BIP 148 的作者 Shaolinfry 以及 Bitcoin Kntos、Bitcoin Core 的贡献者 Luke-jr 提出。它最初类似于 BIP 9 ，但有一处关键的区别：如果在一年的窗口期内没有足够多的哈希算力支持升级，它不会让升级失败，而是会做相反的事情：开始强制实施新规则。类似于信号日，所有升级的节点都会从此开始强制执行新规则。依然不升级的矿工将会承担所挖出的区块被升级后的矿工和用户拒绝的风险。</p><p>BIP 8 背后的主要观念是 —— 当然，假设用户们都升级了 —— 矿工不能阻碍软分叉，也不能凭此来获得好处。他们可以加速激活、帮助协调协议升级，但即使他们不激活，升级最终还是会发生。</p><p>后来的 BIP 8 加入了一些显著的变更。其一，BIP 8 允许节点配置两种不同的策略，在信号窗口即将过期的时候：强制激活，就像前面两段解释的那样；不强制激活，就像 BIP 9 。此外，除了激活升级自身，节点可以强制对升级 <em>表示就绪</em>（如果有所配置）。不表示已经升级的区块将会被拒绝，从而依然可以保证升级，至少对升级后的节点而言。这两项变更的组合带了了有趣的属性：如果绝大部分比特币的挖矿算力被迫表示升级就绪，那么即使 BIP8 节点没有配置为强制表态，最终也能升级。</p><p>反对 BIP 8 （尤其是其强制信号，或者说自动激活）的一种观点是，这可能有很大风险，尤其是在窗口较短的情况下。如果挖矿算力的大多数以及至少一些用户没有升级，那么这种激活程序会让网络分裂成升级后的网络和升级前的网络。假设绝大部分用户都支持升级，这种分裂最终可能会解决，以升级后的网络的胜利告终。但与此同时，没升级的用户就会承担丢失资金的风险，没升级的矿工也会浪费挖矿算力、使比特币的安全性受到损害。</p><p>也许对冲这种风险的最好手段就是足够长的时间。不幸的是，并不是每个人都对 “足够长” 有一致的看法；一些人会认为，强制信号可以在一年内开始，另一些人则认为，应该有几年时间的准备期。</p><p>BIP 8 的另一个复杂之处是设置强制信号的默认值。如果强制信号是默认关闭的，用户可能会发现彼此无法协调，也就增加了网络分裂的风险。相反，如果强制信号被某一个 Bitcoin Core 发行版作为默认值，那么一直以来的 Bitcoin Core 的广泛采用就保证升级一定会发生。一些人认为，这会给予 Bitcoin Core 开发者太大的影响力。BIP 8 的联合作者 Luke-jr 倾向于仅在特殊客户端种部署 BIP 8 ，就像 BIP 148 客户端一样。</p><p>其他人认为，Bitcoin Core 开发者总是根据自己的最佳判断来发行软件，同时满足用户需求和避免有争议的升级；设定 BIP 8 默认值与此并无不同。如果任何人不同意 Bitcoin Core 开发者作出的这个选择，可以直接选择不升级到新版本，甚至复刻 Bitcoin Core 的代码、启动一个相互竞争的客户端。</p><h2 id=现代软分叉激活方法><a href=#现代软分叉激活方法 class=headerlink title=现代软分叉激活方法></a>现代软分叉激活方法</h2><p>虽然 Bitcoin Core 的开发者们确实会考虑用户的需求，并尝试避免有争议的升级，但也不是每个人都相信，每次都会皆大欢喜。也许，对提议中的升级的顾虑，只有当软件发行新版本时才会浮现。也许新版本中会出现全新的问题。又或者，Bitcoin Core 的开发者们也可能忽略了一些东西。</p><p>这也是 Bitcoin Core 的贡献者 Matt Corallo 提出一种叫做 “<a target=_blank rel=noopener href=https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-January/017547.html>现代软分叉激活方法</a>” 的策略的原因之一（<a href=https://www.btcstudy.org/2025/07/30/modern-soft-fork-activation-by-blue-matt/ >中文译本</a>）。现代软分叉激活方法包含 3 个步骤，本质上，它们实现了 BIP 9（或者说不设强制信号的 BIP 8）与带有信号日的 BIP 8 的组合（虽然强制信号依然是一个选项）。</p><p>作为第一步，BIP 9 将允许矿工通过哈希算力来激活软分叉。如果矿工们没有在（比如说）一年内激活，那么第一个激活窗口过期。然后，作为第二步，开发者们花一些时间来分析激活为何失败，如果找出了真实的担忧，那么要重新考虑提议。如果他们认为提议本身没有问题，那么，进入第三步，使用带有信号日的 BIP 8 ：矿工们获得了另一次机会来通过哈希算力激活软分叉，但如果他们再次失败，软分叉会在第二个信号窗口结束时直接激活。（在第二个信号窗口内，哈希算力的激活门槛可以随时间逐渐降低，如 Bitcoin Core 贡献者 AJ Towns 所<a target=_blank rel=noopener href=https://www.mail-archive.com/bitcoin-dev@lists.linuxfoundation.org/msg09070.html>建议</a>的。）</p><p>Corallo 认为，如果提议本身没有问题，就显式地重新部署 BIP 8 ，这样做可以提供 BIP 9 的全部好处，而不会有缺点。代码在第一个信号窗口就发布，让每个人考虑，矿工们可以协调出一个平滑的升级，如果他们愿意的话；而且，因为没有强制激活，开发者们也有时间重新思考提议，如果初次尝试失败的话。与此同时，矿工们无故阻挠的动机也更小，因为，每个人都知道，如果提议本身没问题，那么它最终就会被激活。</p><p>反对现代软分叉激活方法的主要论点是，没有矿工的协调，整个过程会花费更长时间，而且一些人认为，第一步（BIP 9 步骤）会浪费时间。Corallo 的初版提议包含了为期一年的 BIP 9 信号窗口，然后是六个月的重新考虑期，最后是为期两年、带有自动激活机制的 BIP 8 步骤：总计是三年半的时间。虽然这里面的时间长度不是不可变更的，但过度缩短某一些步骤的时间长度，将让重新考虑 以及&#x2F;或者 升级的窗口变短（增加网络分裂的风险）。</p><p>一些人也认为，因为强制激活到来之前会有很长一段时间，矿工最终还是能够尝试并获得一些政治影响力：他们毕竟能推迟升级，长达数年。</p><h2 id=BIP-8-BIP-91><a href=#BIP-8-BIP-91 class=headerlink title="BIP 8 + BIP 91"></a>BIP 8 + BIP 91</h2><p>另一种最近在比特币的技术频道中回荡的建议，也许可以恰当地描述为 BIP 8 和现代软分叉激活方法的综合，至少在精神上是这样。这个未命名的提议将部署一个很长的 BIP 8 信号窗口，可能会跟整个现代软分叉激活法的周期一样长（三年半），窗口期过好，就启动强制信号。不过，如果在（比方）一年之后，升级还是没有激活，开发者将花时间来重新考虑提议，就像在现代软分叉激活法中一样。</p><p>如果开发者没有发现问题，或者说，可以断定它没有激活知识因为矿工的漠不关心或其它无效理由，他们可以选择以 BIP 91 策略部署一次新的软分叉（隔离见证的激活就用到了 BIP 91）。这将实质性降低激活的哈希算力门槛，可能会加速整个流程。</p><p>相反，如果开发者们在提议中发现了问题，他们可以部署一次新的软分叉、修复这个问题，甚至取消原本的软分叉提议。假设在强制信号之前有跟现代软分叉激活方法同样长的周期（三年半），时间应该是足够长了。</p><p>反对这种想法的主要一件事，如果真的部署另一次软分叉来取消一次软分叉，可能并不是那么优雅。更具体地说，它要求矿工和用户在截止日期之间升级到新版本，否则就有分裂网络的风险。</p><h2 id=Spork><a href=#Spork class=headerlink title=Spork></a>Spork</h2><p>最后 —— 我认为这个想法有些另类 —— Bitcoin Core 贡献者 Jeremy Rubin 提出了一个他发明的概念，称作 “概率性的比特币软分叉（<a target=_blank rel=noopener href=https://youtu.be/J1CP7qbnpqA>Sporks</a>）”，可能比一般的哈希算力强制执行软分叉更加激励兼容。</p><p>Rubin 主张，BIP 9 的核心问题是，矿工可以拖延升级，而自己完全不需要付出任何代价。直接拒绝表态升级就绪是没有代价的，可能反而会获得政治影响力。</p><p>在 Spork 中，就绪信号不再是矿工包含在自己区块中的一个比特，而是从区块头哈希值中派生出来的：是他们投入时间和资源生产出来的随机工作量证明。升级后的节点会对一个小子集的有效区块头哈希值达成一致 —— 从统计学上来说，假设每六个月时间只会找出一个 —— 然后就启动升级。</p><p>因为哈希函数的随机性质，矿工无法控制自己生产的区块头哈希值是常规的，还是激活升级的；从统计学上看，TA 只是会偶尔得出后面一种。所以，如果他投入了资源、恰好生产了一个激活升级的区块头哈希值，他有两个选择。要么，发布到比特币网络中、获得区块奖励、激活软分叉。要么，扣住这个区块、拖延软分叉的激活，在我们这个假设的案例中，是拖延六个月时间 —— 但这样做的时候，也就放弃了区块奖励。拖延升级将面临巨大的代价。</p><p>当前，Sporks 的主要问题是，它是一种相对比较新的想法，还没有部署过 —— 还没有经历风霜。虽然一些人认为这个想法挺有趣，但它还没有成为 Taproot 激活方法的主要竞争者。</p><p><em>作者注：关于软分叉激活方法（具体来说就是 Taproot 的激活）的争论此起彼伏；本文不是对激活方法的全面描述，尤其因为，在使用不同参数和其它调整时，同一方案也会形成许多变种，各有优点和缺点。</em></p><h2 id=更新><a href=#更新 class=headerlink title=更新></a>更新</h2><p>另一种想法，在本文写成（绝大部分）以来获得了一些关注，就是先开启相对较长的 BIP 8 信号窗口（假设是两年），在信号窗口结束时不设强制信号机制。这让矿工可以相对自然地激活软分叉，就像他们在过去完成过许多次的那样。不过，如果在一段时间（比如六个月）之后，软分叉还没激活，而且这样的拖延似乎没有很好的立候，那么可以发行一个新的客户端，配置为在现有的信号窗口结束之时（或更早之前）启动强制信号机制。假设绝大部分矿工都在这一强制信号期之前或期间升级，那么两组 BIP 8 节点（设有和未设强制信号机制的）都将激活软分叉、强制实施新规则。</p><p>（完）</p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>