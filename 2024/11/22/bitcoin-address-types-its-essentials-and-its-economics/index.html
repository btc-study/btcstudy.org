<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>比特币地址类型概说</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/tools>工具</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">比特币地址类型概说</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>比特币地址类型概说</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/tools>工具</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%A0%87%E5%87%86%E5%8C%96%E7%9A%84%E6%AF%94%E7%89%B9%E5%B8%81%E8%84%9A%E6%9C%AC><span class=toc-text>标准化的比特币脚本</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%9C%B0%E5%9D%80%E7%9A%84%E6%A6%82%E5%BF%B5><span class=toc-text>地址的概念</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BC%96%E7%A0%81%E6%96%B9%E6%B3%95><span class=toc-text>编码方法</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#Base58><span class=toc-text>Base58</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#Bech32><span class=toc-text>Bech32</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#Bech32m><span class=toc-text>Bech32m</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BB%8F%E6%B5%8E%E6%80%A7><span class=toc-text>经济性</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B><span class=toc-text>地址类型</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#P2PKH><span class=toc-text>P2PKH</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#P2SH><span class=toc-text>P2SH</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#P2WPKH><span class=toc-text>P2WPKH</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#P2WSH><span class=toc-text>P2WSH</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#P2TR><span class=toc-text>P2TR</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BB%93%E8%AF%AD><span class=toc-text>结语</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%99%84%E5%BD%95-A-%E6%8F%8F%E8%BF%B0%E7%AC%A6><span class=toc-text>附录 A. 描述符</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E8%84%9A%E6%B3%A8><span class=toc-text>脚注</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>比特币地址类型概说</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt=Anony><div class=page-author-info><strong>Anony</strong><time class=has-text-grey datetime=2024-11-22T09:23:13.000Z>2024-11-22</time></div></div><div class=is-flex><a href=/tags/%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97><i class="page-tag mr-1 px-1">入门系列</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Anony</em></p></blockquote><p>用户在接触比特币的时候，往往第一时间就会遇到 “地址” 这个概念。在你尝试收取比特币支付时，就需要提供自己的地址。在区块浏览器中查询支付是否已经到账时，往往也以具体的地址为搜索条件。</p><p>你可能会以为：“地址就相当于比特币世界里的银行账号，可以用来接收比特币”。但这种理解，在面对钱包使用过程中的一些情形时，可能还是会让你犯迷糊。比如说：在初次使用一款比特币软件钱包时，它可能会请你选择一种地址 “类型”，如：“Bech32（SegWit）”、“P2PKH”、“Nested-SegWit（P2SH）” 等等。甚至，在你要换用另一款软件钱包时，它也会给你惊吓：新的软件钱包可能会给你一组跟原软件钱包完全不同的比特币地址；这时候，该怎么办呢？</p><p>本文就是要对比特币的地址概念和地址类型作稍微深入一些的解释，以帮助读者解决在自主保管比特币的过程中可能遇到的一些问题，包括但不限于地址类型的选择以及软件钱包迁移过程中会发生的困扰。</p><p>最末一个章节会集中描述读者可能接触到的不同地址的特征和经济性；如果你对技术细节完全不感兴趣，或只是想快速查证资料，可以跳到最后一个章节；但如果你希望规划自主保管的方法，则推荐你从头读起。</p><p>要而言之，比特币地址实际上是用于<strong>标准化的比特币脚本</strong>的<strong>关键数据</strong>在经过特殊<strong>编码（转译）</strong>之后结果；特殊的编码方法使之更适合于传递，并且提供了提醒错误的能力；而其<strong>经济性</strong>的区别就来自于其底层的比特币脚本在经济性上的区别。</p><h2 id=标准化的比特币脚本><a href=#标准化的比特币脚本 class=headerlink title=标准化的比特币脚本></a>标准化的比特币脚本</h2><p>众所周知，比特币是一种运行在点对对网络中的电子货币。在开发比特币时，中本聪为这种货币设计了一种后来被称为 “UTXO” 的存在形式。这种形式使得比特币资金不太像放在一个又一个账户里的钱，倒像是一笔又一笔相互独立的支票。这些 “支票” 记录了两种关键信息：该笔资金的面额（以“聪（sat）” 为单位）；脚本公钥（scriptPubkey），用来定义这笔钱在什么情况下可以被花费。脚本公钥就像一种锁，要求特定的钥匙来开启。</p><p>中本聪意识到，如果我们可以定制巧妙的锁，比特币就可以更灵活地用在不同场景中。于是，他还设计了一种叫做 “Bitcoin Script” 的编程语言，以及基于 UTXO 的交易验证模式；从而，我们可以编写用作脚本公钥的程序，并且，当相关的资金被花费时，可以依据这样的程序得到验证。</p><p>这种创新带来了一个实际的困难：交易在点对点网络中传播时，接收到交易的节点会先运行一些验证工作。如果这种编程语言和编程有内在的漏洞，可以让节点在验证交易的过程中就崩溃，那么，能够利用这种漏洞的交易就可以被用来摧毁整个网络。在交易的自由传播和网络的安全性之间，如何取得平衡呢？</p><p>除了有意限制 Bitcoin Script 的灵活性，中本聪还想出了一种办法：将一些已知足够简洁、不会触发故障的脚本定义为 “标准化的比特币脚本” <sup><a href=#note1 id=jump-1>[1]</a></sup>；在花费使用这样的脚本的资金时，交易被当作 “标准的比特币交易”，可以在网络中无碍传播。反之，如果不使用这样的标准化脚本，即使交易是有效的，也只能直接提交给矿工，由矿工打包进区块并挖出之后，再传播到整个网络。这就限制了可能引发安全问题的交易在网络中传播、导致节点崩溃。</p><p>最早被实现的标准化比特币脚本有两种：“P2PKH” 和 “P2PK”；顾名思义，它们是在脚本公钥中放置一个公钥（或者一个公钥的哈希值），要求花费资金的交易提供该公钥（背后的私钥）的签名。</p><p>一个 P2PKH 脚本公钥是这样的：</p><pre><code>OP_DUP OP_HASH160 55ae51684c43435da751ac8d2173b2652eb64105 OP_EQUALVERIFY OP_CHECKSIG
</code></pre><p>（来自著名的比特币科普网站：<a target=_blank rel=noopener href=https://learnmeabitcoin.com/technical/script/p2pkh/ >learn me a bitcoin</a>）</p><h2 id=地址的概念><a href=#地址的概念 class=headerlink title=地址的概念></a>地址的概念</h2><p>标准化的脚本让比特币系统具备了基本的功能（个人可以通过持有私钥来保管比特币、向他人发起电子货币支付）。但是，它依然是一种为计算机而设计的数据 —— 要理解这些字符串的主体是计算机。计算机对字符串的长度并不敏感，也不会在复制数据的过程中出错。而人在许多方面都相反。</p><p>问题在于，人作为这个系统的使用者，确实要跟这些数据打交道：当一个人接收比特币支付的时候，TA 所要求的是对方将一笔比特币资金发送到由 TA 控制（或者说 TA 可以成功解锁）的一段比特币脚本中；此外，当 TA 要长期保管自己的资金的时候，TA 可能要备份自己的比特币脚本。</p><p>这时候该怎么办呢？像上面那样长长的字符串，显然既不适于传递（太长了），也不适于备份（容易抄错）。</p><p>前面我们已经提到，对大部分人都实用的脚本都是<strong>标准化</strong>的，这种标准化意味着，两个脚本仅在其中一处关键数据上有所区别：对两个 P2PKH 脚本来说，它们唯一的区别就是所记录的公钥哈希值不同。因此，在收款时，我们只需提供这个哈希值、以及脚本的类型（它是个 P2PKH 脚本），就足够了。支付方（的软件）会根据这些信息复原出完整的比特币脚本，从而在交易中将比特币发送到正确的地方。</p><p>而且，（谙熟工程学的中本聪意识到），我们可以不传递这个哈希值的十六进制形式（<code>55ae51684c43435da751ac8d2173b2652eb64105</code>，40 位字符）。借助专门设计的编码方法，我们可以将它转换为更短、更容易正确辨认的形式。</p><p>这就是 “地址”：经过编码、携带了关键信息、使我们可以正确复原出比特币脚本的数据。</p><h2 id=编码方法><a href=#编码方法 class=headerlink title=编码方法></a>编码方法</h2><h3 id=Base58><a href=#Base58 class=headerlink title=Base58></a>Base58</h3><p>“Base58” <sup><a href=#note2 id=jump-2>[2]</a></sup> 是由中本聪发明的编码方法，是从一种著名的编码方法 “Base64” 改造而来。Base64 的字符集包括：所有的数字和大小写字母，还有两种符号（“+” 和 “&#x2F;”）；总计 64 种字符。而中本聪从中删去了数字 0、大写字母 I 和 O、小写字母 l 以及符号，就成了 Base58。</p><p>这种删减是有考虑的。中本聪的自述是：</p><blockquote><p>为什么要使用 base58 而不是 base64 呢？</p><ul><li>不使用 0OIl 是因为这些字符看起来很像，可以用来创建出看起来几乎一模一样的账号。</li><li>人们不容易接受账号中会有字母和数字以外的字符。</li><li>不使用标点符号的话，在 E-mail 中通常就不会被换行打断。</li><li>双击就可以选定整个字符串，因为只有字母和数字。</li></ul><p>– 中本聪，<a target=_blank rel=noopener href=https://github.com/Maguines/Bitcoin-v0.1/tree/master/bitcoin0.1/src/base58.h#L6C1-L13C3>Bitcoin v0.1 (base58.h)</a></p></blockquote><p>地址是要被复原成比特币脚本的，因此，只要一个字符错误，资金就有可能被发送到完全不一样的比特币脚本（可能是完全无法解锁的脚本！）中、导致资金损失；甚至，如果允许使用这样容易造成混淆的字符，恶意软件可以将你的地址悄悄替换成看起来相似、但实际上由攻击者控制的地址，让你在接收支付时丢失资金。</p><p>因此，中本聪的考虑是完全有道理的。</p><p>在执行 Base58 编码之前，我们还要给关键数据（比如上述 P2PKH 脚本中的哈希值）加上类型码作为<strong>前缀</strong>、并以带前缀的关键数据的连续两次 SHA256 运算结果的前 4 个字节作为<strong>后缀</strong>。</p><ul><li>前缀可以迅速说明数据的类型和用途；也正因为添加了前缀，同一类型的数据在经过 Base58 编码的结果中，总是会出现相同的开头。这就是为什么我们只需看一个比特币地址的开头，就知道它是什么类型的地址。</li><li>后缀则可以起到校验和的作用：如果你向软件输入了一个有抄写错误的地址，软件会提醒你可能出错了（尽管无法指明是哪里抄错了）。</li></ul><p>即，在开始编码前，我们要构造出这样的字符串：</p><pre><code>类型码 + 关键数据 + SHA256(SHA256(类型码 + 关键数据))[0:4]
（这里的 “+” 是字符串拼接的意思）
</code></pre><p>以上面的 P2PKH 脚本为例，我们先要给关键数据（<code>55ae51684c43435da751ac8d2173b2652eb64105</code>）加上前缀 <code>00</code>；然后对此数据运行<strong>连续两次</strong> SHA256 计算，取前 4 个字节（十六进制的 8 个字符，<code>96ab3cb1</code>），作为后缀，得到 <code>0055ae51684c43435da751ac8d2173b2652eb6410596ab3cb1</code>。最后，运行 Base58 编码，得到：<code>18p3G8gQ3oKy4U9EqnWs7UZswdqAMhE3r8</code>。</p><p>这段字符串，既包含了用在比特币脚本中的关键信息（公钥哈希值）、又能说明它该如何使用（前缀 <code>1</code> 表示应该将它复原成一个 P2PKH 脚本）、还具备检测抄写错误的功能，依然只有 34 个字符，比原先的哈希值还要短。</p><h2 id=Bech32><a href=#Bech32 class=headerlink title=Bech32></a>Bech32</h2><p>“Bech32” 是由 BIP 0173 <sup><a href=#note3 id=jump-3>[3]</a></sup> 定义的编码方法，该 BIP 的两位作者是 Pieter Wuille 和 Greg Maxwell 。不过，这种编码也有自身的源流：“Bech” 指的是 “BCH” <sup><a href=#note4 id=jump-4>[4]</a></sup>，是一种由三位数学家分别在 1959 和 1960 年发明的循环纠错编码算法（BCH 这个名字就来自于这三位数学家的姓氏）。而 “32” 则表示，该编码法的字符集只有 32 种字符：小写的英文字母和数字，除去数字 “1”、字母“b”、“i”和“o”。</p><p>该 BIP 的考虑是，借着 “隔离见证（SegWit）” 升级的机会，为两种全新的标准化脚本 “P2WPKH” 和 “P2WSH” 的地址使用新的编码方法。</p><p>在 BIP 0173 的开头，作者们指出了 Base58 的不理想之处：</p><ul><li>Base58 同时使用大小和小写的英文字母，这使得其数据在绘制成二维码时，无法使用体积更小的 “数字字母表” 模式，只能使用体积更大的 “字节数据” 模式。</li><li>同时使用大小写也使得它不便于抄写、在手机键盘上输入以及念出来。</li><li>校验和需要连续两次 SHA256 运算，运算缓慢，而且没有定位错误的功能。</li><li>大部分可定位错误的编码方法都只适用于字符集大小是质数幂的情形，而 58 并非质数幂。</li><li>Base58 的解码较为复杂，运算也较慢。</li></ul><p>于是，Bech32 这种新方法只使用小写字母和数字；在有需要的时候（比如绘制二维码的时候），这些字母可以全部换成大写，从而获得更紧凑的表现形式。同时，Bech32 还具备定位错误的能力：它不仅能发现你抄写错误了，还能指出你的哪几位抄错了（这种发现错误的能力远远优于 Base58）。</p><p>实际上，BCH 算法还具有 “纠错” 功能：它不仅能指出你的哪几位抄错了，还能指出它应该是什么字符。然而，BIP 0173 的作者们发现了它内在的危险性：一方面，强化纠错功能会削弱定位错误的功能；另一方面，如果用户过于信任软件的纠错能力，那么软件就有可能将用户输入的错误数据纠正成一个 “有效但无用” 的数据 —— 虽然作为一段 BCH 编码数据，它是有效的了；但是，凭借它复原出来的比特币脚本却有可能不是收款方能够控制的、甚至不是任何人能够控制的。这是极其危险的。因此，BIP 0173 慎重提醒：“除了提醒用户哪几位可能抄错了之外，软件<strong>不应该</strong>实现纠错能力（给出纠正建议）。”</p><p>除此之外，Bech32 沿用了 Base58 编码中的模式：</p><ul><li>Bech32 数据的开头会有一段 “带有含义的数据（hrp）”，就类似于 Base58 中的前缀，可以说明这是一段什么样的数据。<ul><li>hrp 可以使用的字符远远多于 32 个；于是，Bech32 还将数字 “1” 作为分隔符，用来分割 hrp 和真正要被解码的数据。</li><li>除了比特币，还有许多别的项目也采用了 Bech32 ；不同项目的数据就使用 hrp 来相互区别。这里有一份已注册的 hrp 的列表，非常有趣（但也仅仅是有趣） <sup><a href=#note5 id=jump-5>[5]</a></sup>。</li></ul></li><li>Bech32 也设计了校验和，占据编码后的数据的最后 6 个字符。</li></ul><p>假设我们跟上文的案例一样，使用完全相同的公钥哈希值，它的 P2WPKH 脚本会是这样的：<code>0 55ae51684c43435da751ac8d2173b2652eb64105</code>（没错，比原来的 P2PKH 要更简单、更抽象）；而其 Bech32 编码的地址是：<code>bc1q2kh9z6zvgdp4mf634jxjzuajv5htvsg9ulykp8</code>，长度是 42 个字符。</p><h3 id=Bech32m><a href=#Bech32m class=headerlink title=Bech32m></a>Bech32m</h3><p>“Bech32m” 是由 BIP 0350 <sup><a href=#note6 id=jump-6>[6]</a></sup> 定义的编码方法。它的提出是因为开发者们在 Bech32 编码中发现了一个漏洞：</p><p>当最后一个字符是 “p” 的时候，在该字符前面插入或删除任意数量个 “q”，都不会导致校验和报错，那么校验和机制就完全失去作用了。</p><p>如果不再增设标准化的比特币脚本，这问题很容易解决：P2WPKH 地址和 P2WSH 地址都有确定的长度，增加长度校验就好。然而，考虑到未来我们还会增加新的标准化脚本，其地址长度可能发生改变，就有必要修复这个问题。</p><p>Bech32m 通过改变 Bech32 校验和生成程序中的一个参数，修复了这个问题。</p><p>当前，Bech32m 仅用于编码随 “Taproot” 升级而增加的 “P2TR” 脚本的地址。未来可能用在其它标准化脚本的地址编码中。</p><h2 id=经济性><a href=#经济性 class=headerlink title=经济性></a>经济性</h2><p>在我们理解了地址是一个标准化的比特币脚本的特殊表现形式、地址的类型实际上来自于标准化比特币脚本的类型之后，不同类型的地址何以具有不同的经济性 —— 在花费时可能具有不同的手续费代价 —— 的问题也就迎刃而解。这是因为不同的比特币脚本具有不同的经济性。</p><p>为了维持网络的去中心化和安全性，比特币的区块大小是有限制的，能让交易体积更小的脚本就有了经济性上的优势。</p><p>在这一方面，带来最大变化的当属 2017 年激活的 “隔离见证（SegWit）” 软分叉。隔离见证在带来两种新的标准化脚本 “P2WPKH” 和 “P2WSH” 的同时，也为这两种脚本设计了全新的交易验证模式：</p><p>在传统（Legacy）的比特币脚本中，用于通过脚本公钥所定义的验证程序的数据（比如数字签名）会被放在交易（<code>scriptSignature</code> 字段）中；这就带来了所谓的 “交易熔融性” 问题 <sup><a href=#note7 id=jump-7>[7]</a></sup>，阻碍了我们用比特币脚本编程多方参与的应用，甚至会让钱包完全无法跟踪交易。</p><p>而隔离见证的交易验证模式，会将这部分数据放在交易之外（<code>witness</code> 字段）；而且，隔离见证引入了一种新的度量体积的单位（“virtual byte（vByte）”），放在 witness 字段中的数据，在度量体积时会得到折扣（这是有意的设计，为了让隔离见证的交易具备比传统交易更好的经济性）。</p><p>最终的结果是，隔离见证类型的脚本 P2WPKH 和 P2WSH 相比传统脚本 P2PKH 和 P2SH，具有显著更好的经济性：一方面，隔离见证脚本的脚本公钥更简洁；另一方面，传统脚本的签名放在交易中，隔离见证脚本的签名放在交易外，即使数据体积相同，后者的 vByte 也更小。</p><p>这里有一张表格，可以说明不同类型的脚本在作为交易的输入和输出时，会占据多大的体积。</p><p><img src=/images/bitcoin-address-types-its-essentials-and-its-economics/input-output-weights.png alt=input-output-weights></p><p style=text-align:center>- 图片来自：<a target=_blank rel=noopener href=https://bitcoinops.org/zh/blog/waiting-for-confirmation/#%E7%AB%9E%E4%BB%B7%E5%8C%BA%E5%9D%97%E7%A9%BA%E9%97%B4>Optech 限定周刊·等待确认</a> -</p><p>然后，这里还有一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/tools/calc-size/ >交易体积计算器</a>，可以告诉你不同数量的某一类型脚本会造成多大体积的交易。</p><p>注意：在考虑经济性时，不能只比较脚本在作为输入时候的体积，因为，一般来说比特币交易都会有 “找零输出”（你为交易提供的资金数量往往大于支付额，因此会把一些钱转回给自己）。找零输出通常会使用跟本钱包收款地址相同的类型的脚本。</p><h2 id=地址类型><a href=#地址类型 class=headerlink title=地址类型></a>地址类型</h2><p>本章节将介绍用户可能会接触到的不同类型的地址的特征和经济性。</p><h3 id=P2PKH><a href=#P2PKH class=headerlink title=P2PKH></a>P2PKH</h3><ul><li>使用 Base58 编码法。以数字 “1” 开头，长度一般是 34 个字符。</li><li>用于单签名钱包。</li><li>经济性较差。</li><li>例子（同上文）：<code>18p3G8gQ3oKy4U9EqnWs7UZswdqAMhE3r8</code></li></ul><h2 id=P2SH><a href=#P2SH class=headerlink title=P2SH></a>P2SH</h2><ul><li>使用 Base58 编码法。以数字 “3” 开头，长度一般是 34 个字符。</li><li>用户最常接触到的 P2SH 地址实际上是一种被称作 “Nested SegWit（P2SH）” 的脚本的地址，这个名字的意思是 “封装了隔离见证脚本的 P2SH 脚本”。<ul><li>能够实现这种封装是 P2SH 本身的能耐，但定义这种封装的根本目的是应对钱包软件的兼容性问题。由于隔离见证的地址使用了全新的编码方法，不实现新方法的钱包软件会将隔离见证地址识别为错误输入、无法从中复原出有效的比特币脚本。Nested SegWit P2SH 脚本则提供了一种恰当的折中：支付者的钱包（不论升不升级）都会将这样的地址理解为普通的 P2SH 地址，然后复原出一个 P2SH 脚本、正确构造交易；接收者的后续花费资金时，又可以（凭借支持隔离见证的钱包软件）获得一部分由隔离见证带来的好处。</li></ul></li><li>在同为单签名钱包时，经济性比 P2PKH 更好。</li><li>可用于多签名钱包（不论是否使用隔离见证特性）。</li><li>例子：<code>38Y2PBD1mihxtoVncaSz3oC2vRrjNF8sA2</code>（这个 P2SH 脚本封装了跟上文一样的 P2PKH 脚本，尽管这没有什么好处）</li></ul><h3 id=P2WPKH><a href=#P2WPKH class=headerlink title=P2WPKH></a>P2WPKH</h3><ul><li>原生的隔离见证脚本。使用 Bech32 编码法，以数字和字母 “bc1q” 开头，长度是 42 个字符。</li><li>用于单签名钱包。</li><li>经济性显著好于 P2PKH，也好于 Nested SegWit P2SH。</li><li>例子（同上文）：<code>bc1q2kh9z6zvgdp4mf634jxjzuajv5htvsg9ulykp8</code></li></ul><h3 id=P2WSH><a href=#P2WSH class=headerlink title=P2WSH></a>P2WSH</h3><ul><li>原生的隔离见证脚本。使用 Bech32 编码法，以数字和字母 “bc1q” 开头，长度是 62 个字符。</li><li>通常用于多签名钱包。</li><li>作为多签名钱包时，经济性显著好于 P2SH。</li><li>例子：<code>bc1q56cuwyqlmq64aq0y3c8swd8a9gefe4wf7faxe2uyatyahfrly5aq0e6mfc</code>（这个 P2WSH 脚本封装了跟上文一样的 P2PKH 脚本，尽管这没有什么好处）</li></ul><h2 id=P2TR><a href=#P2TR class=headerlink title=P2TR></a>P2TR</h2><ul><li>原生的隔离见证脚本（Taproot 是 “隔离见证 v1”）。使用 Bech32m 编码法，以 “bc1p” 开头，长度是 62 个字符。</li><li>既可用于单签名钱包，又可用于多签名钱包。</li><li>作为单签名钱包时，经济性略好于 P2WPKH，但已经几乎没有区别（此处是假设是将一个输入和一个找零输出作为交易的固有开销；使用的输入越多，P2TR 优势越大）。</li><li>作为多签名钱包时，借助一些 Schnorr 签名聚合算法的帮助，经济性可以比 P2WSH 还要好。但在本文撰写的时间（2024 年 11 月），钱包软件还很少实现这样的聚合算法，这是因为这些算法在交互上的复杂性。</li><li>P2TR 与以前的比特币标准脚本的重大区别在于：原来的脚本都会区分单签名钱包用户和高级脚本功能（“智能合约”）的用户，前者会使用公钥哈希值脚本，而后者（包括多签名装置和闪电通道这样的高级装置）会使用赎回脚本哈希值脚本；P2TR 第一次统一了两者，让我们无法从 脚本&#x2F;地址 的外在形态上直接推测其用途。因此，从长远来看，P2TR 会有更好的隐私性。</li><li>目前为止，还不是所有钱包都支持 P2TR 地址（但几乎所有钱包都支持 P2WPKH 和 P2WSH）。用户的选择范围和迁移能力都比较受限。此外，对基于 P2TR 的多签名装置的支持更是少之又少。</li><li>例子（随机选出）：<code>bc1pxy5r3slcqc2nhc0r5698gmsqwruenj9c8pzmsy5cedp3649wyktstc6z3c</code></li></ul><h2 id=结语><a href=#结语 class=headerlink title=结语></a>结语</h2><p>一个地址就代表着一个具体的比特币脚本；这样的比特币脚本是标准化的，凭借地址中的信息就可以完整复原出来。使用专门的编码方法，让地址变得更加紧凑，并具备检查抄写错误的功能。而不同地址类型的经济性，就来自于其背后的标准化比特币脚本的经济性。</p><h2 id=附录-A-描述符><a href=#附录-A-描述符 class=headerlink title="附录 A. 描述符"></a>附录 A. 描述符</h2><p>在 “地址的概念” 一节，我们已经提到，在两个场景中，用户可能需要一种紧凑而可靠的脚本记录：支付（传递）场景和长期保管场景。</p><p>而在 “编码方法” 一节，我们可以看出，这些编码方法的设计主要基于传递过程，而非长期保管场景。那么，在保管场景中，应如何保存地址？</p><p>幸运的是，我们如今有了一种恰当的方法，来表示一组（而非一个）地址，它就是 “输出（地址）描述符（output descriptor）”。</p><p>自比特币诞生、地址的概念出现以来，自主保管的技术和安全习惯都已改进了很多。一个重大的进步是所谓的 “层级确定式（HD）钱包”，其理念是用一段秘密材料按确定式随机算法推导出许多私钥，进而得出许多地址，从而一方面能够满足 “不重复使用地址” 的安全习惯，又能尽可能减少备份私钥的负担。</p><p>描述符也基于这一概念，它的做法是，将地址的类型以及生成这组地址的步骤用明文表示出来，再加上校验和。例如：</p><pre><code>wpkh([8b47f816/84h/0h/0h]xpub6C8vwWQ[...]NgW2SnfL/&lt;0;1&gt;/*)#c38kz2nr
</code></pre><p>从上面这段文字中，我们可以看出，它表示的是一组 P2WPKH 地址，而用在这组地址中的公钥，则是从一个指纹为 <code>8b47f816</code> 的主公钥中根据 <code>84h/0h/0h</code> BIP32 派生路径中派生出来的；并且，使用 <code>0</code> 和 <code>1</code> 的派生路径来区分收款地址和找零地址。最后， <code>c38kz2nr</code> 是校验和，可以校验有无抄写错误。</p><p>这样的字符串非常适合长期保管，也非常适合用于钱包迁移，因为它已将生成这组地址的过程完整地描述了。</p><h2 id=脚注><a href=#脚注 class=headerlink title=脚注></a>脚注</h2><p>1.<a id=note1> </a><a target=_blank rel=noopener href=https://en.bitcoin.it/wiki/Script#Script_examples>https://en.bitcoin.it/wiki/Script#Script_examples</a> <a href=#jump-1>↩</a></p><p>2.<a id=note2> </a><a target=_blank rel=noopener href=https://learnmeabitcoin.com/technical/keys/base58/ >https://learnmeabitcoin.com/technical/keys/base58/</a> <a href=#jump-2>↩</a></p><p>3.<a id=note3> </a><a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki>https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki</a> <a href=#jump-3>↩</a></p><p>4.<a id=note4> </a><a target=_blank rel=noopener href=https://en.wikipedia.org/wiki/BCH_code>https://en.wikipedia.org/wiki/BCH_code</a> <a href=#jump-4>↩</a></p><p>5.<a id=note5> </a><a target=_blank rel=noopener href=https://github.com/satoshilabs/slips/blob/master/slip-0173.md>https://github.com/satoshilabs/slips/blob/master/slip-0173.md</a> <a href=#jump-5>↩</a></p><p>6.<a id=note6> </a><a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki>https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki</a> <a href=#jump-6>↩</a></p><p>7.<a id=note7> </a><a href=https://www.btcstudy.org/2022/10/07/segregated-witness-benefits/#%E4%BF%AE%E5%A4%8D%E7%86%94%E8%9E%8D%E6%80%A7%E9%97%AE%E9%A2%98>https://www.btcstudy.org/2022/10/07/segregated-witness-benefits/#%E4%BF%AE%E5%A4%8D%E7%86%94%E8%9E%8D%E6%80%A7%E9%97%AE%E9%A2%98</a> <a href=#jump-7>↩</a></p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>