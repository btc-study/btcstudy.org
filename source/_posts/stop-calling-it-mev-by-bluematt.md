---
title: '别再管这叫 MEV 了'
author: 'Blue Matt'
date: '2024/05/08 17:40:44'
cover: ''
excerpt: 'MEV” 的广义定义 vs. “MEVil” 的更实用的定义'
categories:
- 比特币主网
tags:
- 文化
---


> *作者：Blue Matt*
> 
> *来源：<https://bluematt.bitcoin.ninja/2024/04/16/stop-calling-it-mev/>*



随着建立在比特币上的系统变得越来越有表达力，比特币的应用场景也迅速增长。虽然这让人非常激动，但这种更强表达力的支持者和批评者都同意，一个重要的顾虑是 “MEV” 风险。

令人遗憾的是，在比特币语境下，“MEV” 缺乏明确的定义；而这个术语的标准定义又过于宽泛，以至于在关于协议风险的讨论中完全无用。

“MEV”（“矿工可抽取价值（Miner Extractable Value）”）这个术语来源于以太坊社区，并且，广义来说，它意味着 矿工/质押人 可以在构造区块时抽取的所有价值。这既包括了明面上（in-band）的交易处理手续费、区块补贴，也包括了任何非标的（out-of-band）、可以从交易者处直接收到的手续费；可以通过重新排序交易、插入自己的交易、爆破智能合约账户、甚至重组区块链来抽取的价值。

具备如此广泛的含义，就使得 “我们担心 MEV 问题” 一定程度上变成了无用的空话 —— 我们担心的是矿工获得他们本就有权获得的区块补贴吗？显然不是。更糟糕的是，以太坊社区对 MEV 的担忧与比特币的担忧有一些共同的部分，但绝对不是完全相同的。

不过，要理解比特币中的 MEV 风险，学习以太坊的历史也是有用的。随着以太坊上的区块构建（为了尽可能抽取 MEV）变得越来越专业化，一些影响已经出现：

首先，也是最令人担心的，只有非常、非常少数的几个已经投入了足量资本（雇佣了世界一流工程师）的公司可以在挑选和创建利润最大的交易、创建新区块上具有竞争力。从网络抗审查性的角度看，这是非常致命的 —— 只有少数公司在（或者说可以）挑选可以进入区块的几乎所有交易，抗审查的一切希望都会破灭。

其次，那些在去中心化交易所上的交易，以及更广泛地说，使用具有不固定对手方的协议的交易，常常会发现自己的对手方变成了区块的交易挑选人，并会损失一些金钱。这有许多不同的形式，最常见的形式就是交易的挑选人会在去中心化和中心化的交易之间进行价格套利，从价格差变成自己的利润。这影响了以太坊上更具表达力的合约的用户的体验。

比特币，不论是作为一个系统还是一个社区，一直在寻求[通过去中心化的交易挑选来最大化抗审查性](https://bluematt.bitcoin.ninja/2016/01/14/decentralization/)，远远超过其它目标。但是，今天，比特币的交易挑选已经高度中心化，形式是矿池挑选交易。幸运的是，其中没有很强的经济激励，只是历史技术原因。虽然这使我们可以通过[对挖矿软件栈的技术调整](https://stratumprotocol.org/)来使比特币显著地重新去中心化，但是，任何对采用这些技术的金融反激励都会彻底破坏比特币的长期抗审查性。因此，我认为，如果最终我们落得跟今天的以太坊一样的下场，我们就可以直接放弃比特币的抗审查价值立场了，因为根本无法以任何合理的办法来实现它。

因此，第一类 MEV（及其结果，中心化的压力）也是比特币的一个重大潜在问题。第二个问题（执行质量和有用性降级）就不是那么严重了。事实上，给定比特币的抗审查性高于一切的理念，我认为，牺牲交易执行的质量换来抗审查性的提升，都是值得的，至少在整个比特币系统的层面上是这样的。

一些比特币人已经将这种中心化 MEV 风险称为 “MEVil”（“邪恶的 MEV（MEV that is evIL）”）。具体来说，导致矿工有激励应用复杂技术来保证自己包含在下一个区块中的交易可获得最大价值的 MEV 就是 MEVil。这样的技术的形式可能是改变交易在一个区块中的排序，或者创建新的交易，但并不包括在公开市场上使用手续费替换（“RBF”）来创建具体的行为。更进一步，因为长期来说可能出现挖矿力的去中心化，MEVil 也不包括多区块的审查攻击 —— 这样的攻击需要一些矿工的串谋，也要求矿工愿意放弃眼前的利润以谋求延后的更大利润，并承担竞争对手与自己争夺利润的风险。

许多在比特币上开发更强表达力系统的开发者已经断定比特币上也不可避免会出现 MEV，我们应该直接作好准备。然而，我认为，这种意见根源于 “MEV” 的广义定义，而不是 “MEVil” 的更实用的定义。比特币上的 MEVil 并不是不可避免的，尽管避免它需要开发富有表达力系统的工程师们仔细考虑他们的工作的后果。

这里，考虑一些被广义的 MEV 定义包含在内、但引入了或没有引入 MEVil 的例子是有帮助的：

在讨论让交易可以在有利可图时被替换的系统时，人们常常会提到 MEV。举个例子，链上的一个无需私钥、任何人都可以领取的输出，或者一个去中心化交易所中在不正确的价格上执行的一笔交易。在这些例子中，任何人，也包括矿工，都可以创建一笔新交易，从而直接或间接地获得一些价值。虽然这显然是 MEV（不管怎么说，这些价值很可能会以某种形式流向矿工），但这不太可能带来 MEVil。改写比特币的 10 分钟出块间隔和公开的交易池，任何人都有机会为领取这部分价值的能力投标（提供支付更高的挖矿手续费）。这让矿工可以完全被动地抽取其中的价值，不需要实现任何定制化的的、高级的逻辑来监控或创建这样的领取交易。过去几年中，我们看过许多这样的交易池内投标竞赛的例子，就[包括发送到不安全生成的私钥中的大笔资金](https://x.com/mononautical/status/1757513853204582598)。这也暗示着，通过私密中继的形式接收这样的交易的矿工也会确保将这样的交易提交到公开交易池，从而吸引其他人继续竞标、增加矿工的收入。

许多团队都在开发的一种热门方案叫做 “rollup”。这是一种侧链，但侧链上的交易数据会被嵌入比特币区块链。因为这些系统可能拥有可以任意表达的智能合约，它们有可能具有形成高级 MEV 抽取的能力，就像我们在今天的以太坊上看到的。然而，在绝大部分情况下，这样的系统都不会在比特币上形成 MEVil。在绝大部分 rollup 系统中，都有一个或一小组 “定序器”，负责挑选进入 rollup 区块的交易及其顺序。因此，这些定序器拥有抽取 MEV 的排他性能力，而比特币矿工无法用交易挑选或者排序的权力来影响 rollup 上的交易。

不过，一些叫做 “based roolup” 的 rollup 系统，给了比特币矿工直接挑选和排序 rollup 交易的能力。这就产生了创造 MEVil 的巨大风险，而且事实上，如果我们能看到大量幼稚 based rollup 的开发，我认为比特币可能会面临可悲的命运。当然，based rollup 的开发者有一些简单的技巧可以极大地减少 MEVil 风险。首先，based roolup 可以实用比特币区块哈希值作为键来随机化排序，从而移除矿工排序 roolup 交易的能力。这样一来，矿工若要影响 rollup 交易的排序，就必须愿意完全放弃有效的比特币区块，放弃可能很客观的利润。其次，based rollup 开发者可以跨越多个区块来随机化交易排序，从而保证单个比特币矿工无法审查 rollup 交易，进一步减少他们实质提取 MEVil 的能力。虽然这可能会在一定程度上延长 rollup 交易的确认时间，我强烈建议 rollup 的开发者们考虑一下，愿意等待 6 次确认与愿意等待 7、8、9 次确认的用户之间是否有实质上的区别。

我也鼓励开发者们、比特币人以及任何用脚投票的人 —— 如果某一个 rollup 系统为比特币引入了巨大的 MEVil 风险，那就直接实用另一个系统 —— 如果你不这样做，这样的系统的有用性最终也会被升高的比特币挖矿中心化压力破坏掉。从这个角度看，中心化的、联盟化的 rollup 显然安全得多，而 based roolup 或者带有一种 “强制入块” 机制的系统应该三思而后用！

另一个被当成比特币 MEV 的常见例子是非标准交易（或者更广义地说，以公开交易池以外的方式触达矿工的任何交易）的入块。虽然这实质上引入了强大的中心化压力，因为越大的矿工越有激励运行这样的服务，毫无疑问是 MEVil，我们却还没有看到这样的交易的实质需求和收益。实际上，如前所述，矿工也有激励将通过私密中继接收到的交易提交到公开交易池，从而允许公开的 RBF 竞标。虽然非标准交易的入块作为一种新事物，显然是有需求的，但并不确定这个市场会不会长期存在。进一步说，Bitcoin Core 可以、也应该、并且通常都让所有交易都是标准交易，仅仅在交易构成 DoS 攻击或者交易让 Bitcoin 无非准确计算有竞争力的区块模板时才有所限制。随着 Bitcoin Core 持续优化，对任何非标准交易的需求都会持续萎缩，从而减少任何 MEVil 抽取的潜在收益。

最后，一些特殊的链上币已经发展出了收藏价值。显著的是，特定区块（尤其是在难度调整或者区块补贴调整周期之后的区块）的 coinbase 输出中新挖出的币通常会比其比特币面额更有价值。虽然这对可互换性有负面影响，抽取这样的额外价值也可以认为是一种 MEVil。不管怎么说，获取这部分价值可能需要额外的人力资本投资，以评估和参与 “稀有聪” 的市场。这些收藏品的长期价值依然是不确定的，而且，高估它们的价值通常会被关心比特币系统的长期生存能力和性能的比特币人（正确地）认为是反社会的。幸运的是，这样（可能）拥有实际价值的 “稀有聪” 只在极少数区块中出现（现在每四年才出现一次区块补贴调整），这就降低了它们对矿工的整体影响。

虽然不远处许许多多事情可能会给比特币带来 MEVil、它们会显著影响比特币的长期抗审查性（因此影响其长期价值），还没有理由害怕这样的结果一定会出现。实际上，虽然 MEV 在比特币上是不可避免的，而且今天已经存在了，在描述我们的抗审查性和中心化顾虑时，“MEV” 是一个几乎无用的术语。工程师和用户在开发者和选择为比特币增加额外表达能力的平台是，必须谨慎考虑这些系统可能引入的 MEVil 风险。必须避免主动开发和使用可能为比特币引入 MEVil 的系统、并给予负面的社会评价，不然，这些系统以及比特币系统自身的长期价值可能会被摧毁。

（完）