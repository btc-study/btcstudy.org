---
title: '剖析工作量证明'
author: 'Hugo Nguyen'
date: '2020/09/04 16:40:25'
title_image: ''
excerpt: '这个渺小的哈希值，计算它只花费了非常少的能量，却是为了产生它而要求付出的大量能量的直接表现'
categories:
tages:
- [PoW]
---

*作者：Hugo Nguyen*

*来源：<https://bitcointechtalk.com/the-anatomy-of-proof-of-work-98c85b6f6667>*

*译者：阿剑*


工作量证明（Proof-of-Work，PoW）一开始发明的时候是用来[防止垃圾邮件](https://en.m.wikipedia.org/wiki/Proof-of-work_system)的。不一会之后，它就被用在电子现金系统中 [[作者注1](#zhu1)]。

表象之下，PoW 中的挖矿实际上在做的事情就是将动能（电力）转化为一个账本区块。一台矿机重复地运行哈希计算，直到它解决一个密码学难题。所有的哈希运算都会被丢弃，除了那个能够解决问题的哈希值。

这个渺小的哈希值，计算它只花费了非常少的能量，却是为了产生它而要求付出的大量能量的直接表现，是挖出区块的证明。若要重写区块，后来的一个攻击者同样要运行哈希计算，次数跟原来产生它要求的次数大致相等。

让我们再重复一遍：反写需要花费相同次数的哈希计算，但不是相等数量的能量。因为那个哈希值只是花费能量的一个表现，却并非能量本身。

斗转星移，这个哈希值作为一个代表会变得越来越不精确，因为后来升级的硬件会变得越来越有效率。能量本身不会变化，但它的旧日代表会逐渐“漏损”。

另一种观察这一过程的方式，是将 Pow 挖矿想象成为虚拟的区块附加物理重量。时间流逝，变老的区块会被破坏、变得越来越轻。假定其它区块的重量不变，这同样也会减少整条链的重量。

比特币对抗这种磨损过程的方式是不断创建新的区块，加入新的重量。这保证链的顶端在当时总是很重的，因此保护了整条链的完整性。 ` 重的链 == 安全的链 ` 

（有些人说，“最重的链”要比中本聪说的“最长的链”更加准确。“最长的链”这一术语很容易误导人，因为我们使用这个词时意思并不是字面意义上的长度。）

SHA256 是比特币工作量证明挖矿使用的哈希方程。SHA256 保护这个账本不被重写。一个哈希进，一个哈希出；挖出一个哈希，要反写就需要一个哈希。就是这一点，给予了比特币不可篡改的属性 [[作者注2](#zhu2)]。 

仔细想想，你会觉得它真是太神奇了。哈希计算竟完全服从于保护账本的目的！现实世界中，很少有什么东西是 100% 无保留地贡献自己同时又是高效的（举例来说，汽油和内燃机就不是这样）。

现实中，哈希方程可能也不是 100%的，但也是接近于这个值的。因为不可逆转性依赖于哈希结果是完全随机的（就像你摇骰子一样），而算法是无法真实地模拟现实世界的随机性的。

幸运的是，对我们来说，像 SHA256 这样的哈希函数已经被证实是[充分随机的](https://www.eecs.harvard.edu/~michaelm/postscripts/soda2008b.pdf)，也就是所谓的 “伪随机”。我们已经对 SHA256 做了很多年的检验和压力测试，在这背后有一堆研究文献。所以，这里尚不存在什么我们需要太担心的东西。

基本上，我认为，给区块“附加能量”的想法是对的，并且有可能是唯一一种在实际上模拟不可更改性的办法。

**使用消耗掉的能源为一个区块背书允许我们客观地评估不可更改性。相反，任何不基于能量的办法最终都会要求某些人[对不可更改性的主观诠释](https://twitter.com/hugohanoi/status/953346280134029312)** [[作者注3](#zhu3)]。

通过为一个区块附加能量，我们使它具备”形式“，使它拥有真实的重量，并在物理世界中造成影响。我们同样可以认为工作量证明是一种将一堆 0和1 注入现实生活的魔法。

换句话来说，**工作量证明是电子世界与物理世界之间的桥梁**。

把这一点跟以太猫比比看？它们是由一些人创建的，并由他们在自认合适的时候修正和移除。他们的独特性和存在性既不被保证，也不可信赖。

即便当前工作量证明的变体失败了，我有信心，会有其它为区块附加能量的方式。

我的结论是，工作量证明在区块链中的应用也许会被证明是极其重要和广泛的，更甚于一开始意想中的那样。工作量证明给了我们不可更改性，不可更改性给了我们不受……的货币，而这种货币，可能会潜在地改变这个社会组织自身的方式（要更深入地思考，请看尼克·萨博的绝妙文章[《社会可扩展性》](https://unenumerated.blogspot.com/2017/02/money-blockchains-and-social-scalability.html)）。

----

<p id="zhu1">作者注1：在电子现金中使用工作量证明的想法也许根植于90年代末戴伟（Wei Dai）的 b-money 和尼克·萨博的比特金提议。哈尔·芬尼（Hal Finney）在2004年创造了工作量证明在电子现金中的第一个实现（RPOW）。</p>

<p id="zhu2">作者注2：不可更改性是一个相对的概念。我们说”不可更改性“时，通常的意思是，它在实践是哦那个是不可更改的，而不是绝对不可更改的（译者注：即在技术上不可更改）。即便黄金，加入足够多的能量也会熔化。</p>

<p id="zhu3">作者注3：其中一种办法是权益证明（Proof-of-Stake，PoS）。请看<a href="https://medium.com/@hugonguyen/proof-of-stake-the-wrong-engineering-mindset-15e641ab65a2">我评论权益证明的文章</a>，理解其中的陷阱以及为什么它可能不如工作量证明。（编者注：中译本见文末超链接《<a href="https://ethfans.org/posts/proof-of-stake-the-wrong-engineering-mindset">权益证明与错误的工程思维</a>》）</p>

（完）