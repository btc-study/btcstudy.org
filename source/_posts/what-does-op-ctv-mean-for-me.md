---
title: 'OP_CTV 有什么用？'
author: 'zen so red'
date: '2022/09/13 09:48:44'
cover: ''
excerpt: '一个有 OP_CTV 的世界是什么样的'
tags:
- CTV
---


> *作者：zen so red*
> 
> *来源：<https://zensored.substack.com/p/what-does-op-ctv-mean-for-me>*



我准备讲讲 OP_CTV 的一些实际用途。技术文档可能会告诉你它是怎么工作的，用途文档则会描述一种通用的用途。这些都很好，但我想做的是，使用具体的语言，讲讲一个有 OP_CTV 的世界对你（一个普通的比特币用户）来说是什么样的。

我们先来了解 OP_CTV 的一些杀手级应用：智能保险柜、更平稳的支付，以及更少的受信任中介。

## 智能金库

今年，你在比特币里能够用上的最智能的保险柜就是某些形式的多签名钱包，也就是你的冷存储钱包需要多于一把私钥来解锁。它是有用的，因为它能保护你，不会因为有人盗走你的一把私钥就损失所有资金，也不会因为弄丢一把私钥而损失所有资金。

但是，多签名钱包最终还是落脚到私钥上。你能够在私钥上做的文章是有限的。每次你想访问自己的金库时，你都需要开启你的私钥，然后开始签名交易。对于大部分人来说，他们的冷存储都是单私钥的，因为多私钥很难管理。在最糟糕的条件下，如果有人得到了你的私钥，TA 立即就能把你的比特币花光。这种灾难从整体上来说，可以说是必要的，**但不必是这样的**。

如果比特币可以稍微聪明一点，你就可以让你的生活简单很多。

- **许可式的花费**：设置你的冷存储的许可条件，使得即使你的私钥被盗也不会导致资金被盗。你可以预先定义你的 BTC 可以发到哪个地址，或者你可以让它只能缓慢解锁。
- **免信任的信托**：让比特币自身来管理你留给自己的小孩和爱人的储蓄。不需要第三方受托人来遵从你的意愿，更不需要他们走上法庭。信托将变成仅仅是紧急计划的一部分。
- **原子化的热钱包**：设想你的冷存储的一个很小的比例会定期解锁，使得你的手机闪电钱包拥有使用这些资金的权力。如果你不需要用，它甚至可以原子化地重新锁定，不需要你手动操作。

（译者注：这里简单介绍一下 CTV 的工作原理会更容易理解。可以认为，CTV 的作用就是让一笔资金只能被某一笔交易花费。而我们能够使用交易来指定的东西是很多的，比如，可以指定资金转移的目标地址；假设那个目标地址本身也是带有 CTV 锁的，那我们就能实现上面说的这些功能，包括逐步解锁。）

想象一下，如果这些技术能够在比特币上得到应用，你在使用冷钱包保管资金、将资金转移到热钱包时，将会多么安全。更少的损失、更少的中介。它是为我们这个复杂世界准备的简单资金管理技术。

## 支付成本平滑化

你不会同时给几百个人支付。但你所用的交易所很可能会这么做。在区块空间需求高涨的时候，他们要付出更高的代价才能给你支付。交易所将使用额外的转账手续费，把这些费用转嫁给你，或者，会把这些费用隐藏在服务手续费中。不管怎么说，都是你在为这些费用买单，不是他们。现在来说，这没什么大不了的，但如果有一天比特币的用户基数冲破了 10 亿大关呢？比特币将越来越需要控制拥堵的手段。

今天，交易所也没有实用的办法能够同时给 100 多人支付，他们只能创建一笔更大体积的交易、在网络拥堵期间支付更高的手续费。用了 OP_CTV，交易所可以避免这些高成本，通过一笔体积很小的交易给几百个人支付，每个人都可以等到手续费变得更便宜时再花费自己的比特币。

（译者注：这种功能的实现大概是这样的：假定一个 UTXO 由 10 位用户拥有，那么这个 UTXO 就有 10 个并列的解锁条件，是为这 10 位用户分设的；同时，这些解锁条件不仅有数字签名，还有 CTV，CTV 将使得对应的用户在花费时只能花费一定的数量，并将剩余的数量发送到一个同样带有 CTV 锁的 UTXO 中。这就保证了，10 位用户无论谁先取款，其余用户的资金都不会被侵占，因为 CTV 就指定了能够花费这笔资金的交易，而交易本身就给出了输出（资金分配情形）。这个概念跟所谓的 “支付池（payment pool）” 可以认为是一回事。但若要实用，这个概念依然要结合默克尔抽象脚本树，不然锁定脚本的体积会很大。）

这种削平支付成本的功能不仅对交易所有用，举凡你想要给很多雇员支付、跟客户开启闪电网络通道、创建某种形式的智能保险柜，都是有用的。

## 许多其它应用

OP_CTV 还可以给我们生命周期更长的闪电通道、闪电节点之间更强的连通性、更便宜的闪电通道关闭交易、免信任的期权合约，[等等](https://utxos.org/uses/)。更重要的是，这些应用降低了我们在使用比特币网络时，需要投注给商业伙伴和用户的信任。减少新人是比特币的核心，优化这个特性只会让比特币变得更加强大。

对于创造出 CTV 的工程师来说，一个彩蛋是：实现上述所有功能的 OP_CTV 关键代码只有不到 200 行！对于它可能造就的影响来说，这个代码量简直微不足道。

## 感谢阅读！

感谢您的阅读，请问，关于 OP_CTV ，你还有什么期待的吗？什么功能是你绝不会尝试的？普通用户出来表达自己的需求和愿望，跟开发者出来讨论实现和替代方案同样重要。所以请留下你的评论，转发这篇文章，然后说出来。想要表达你对某一种特性的兴奋和支持不要求你是一个技术专家。我们怎么走，取决于开发者的实现和用户的需求，但如果你不说出来，我们就永远也到不了远方。

作者提醒：本文略过了可以在今天实现上述某一些功能的另类方案，但这些替代方案都更加繁琐，在作者看来，是超出当前的普通用户的能力范围的，或者，就要引入对第三方的额外信任。排除这些替代方案，上述的所有功能在没有 OP_CTV 或类似操作码的前提下都无法完成。

最后，非常感谢编辑这篇文章的贡献者！

（完）