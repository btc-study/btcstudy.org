---
title: '闪电网络服务商的崛起'
author: 'Pav'
date: '2023/07/11 16:16:47'
cover: '../images/the-rise-of-lightning-service-providers/1z-GG-OjFB-'
excerpt: '何以需要 LSP 以及 LSP 的未来'
categories:
- 闪电网络
tags:
- 闪电网络
---


> *作者：Pav*
> 
> *来源：<https://medium.com/synonym-to/the-rise-of-lightning-service-providers-6410274d5b70>*



![img](../images/the-rise-of-lightning-service-providers/1z-GG-OjFB-)

## 闪电网络的增长

闪电网络在过去一年出现了显著的增长，已建立的容量高达 5432 BTC，而且还在以 30% 的年化增长率继续增长。根据来自 NASDAQ 的一篇文章，2021 年的增长速度最高，30 天的增长速度达到峰值，换算过来是接近 400% 的年化增长率，超过 8000 万用户可以使用闪电支付（[来源](https://www.nasdaq.com/articles/bitcoin-lightning-network-continues-to-grow)）。自那以来，公开通道的容量增长已经放缓，但以过去 30 天的平均增长速度来看，年化增长率依然超过 30% 。

![img](../images/the-rise-of-lightning-service-providers/bco-ZzeMJ9N)

这里有一张图表，关于在闪电网络上流动性最充沛的节点。前十个节点的容量总计为 3784.76 BTC，占据了整个网络总流动性的 69.9% 。截图时间为本文撰写之时，2023 年 5 月 4 日。

![img](../images/the-rise-of-lightning-service-providers/gf9WGXrZA6n)

还有一些东西也跟上了闪电网络的增长，不过，不幸的是，我说的是托管方案。在使用量上，托管方案远远超过自保管应用（后文有详细说明）。

注意：这份图表只包含了公开的闪电节点的数据。

![img](../images/the-rise-of-lightning-service-providers/1-UMgZ5vyAP)

也许这并不令人意外，因为闪电网络还是难以使用。对于希望尝试闪电网络的人来说，使用一种自托管的应用可能有点麻烦 —— 从用户体验的角度看，我们依然还有很长的路，才能追上托管应用。

## 闪电网络流动性与获客挑战

如前所述，闪电网络难以理解，而且不得不承认，依然难以使用。这就是为什么你得先了解几个关键概念。首先是闪电网络中的流动性概念。我们来回顾一下 “流动性” 在闪电网络的语境中是什么意思。

在闪电网络中，发送和接收比特币都需要相应的流动性。闪电网络由双向的通道的组成，每一条通道的两端都有各自的余额，可以用来路由、发送和接收支付。

锁定在具体一条通道中的资金的总数，就叫这条通道的 “容量”，或者说 “流动性”。所以，流动性可以分成两种。

### 入账流动性

因为闪电通道的结构，如果你要使用闪电网络，那么你需要入账流动性，才能接收支付。其实，入账流动性就是你的通道对手在跟你的通道中的 BTC 余额。

### 出账流动性

相反，出账流动性指的是你可以用来通过闪电网络发送的资金的数量。出账流动性就是你当前在通道中拥有的 BTC 数量。

![img](../images/the-rise-of-lightning-service-providers/hcKeCAb6g4B)

<p style="text-align:center">- 图片来源：<a href="https://bitcoin.design/guide/how-it-works/liquidity/">Ref - Bitcoin Design</a> -</p>


这些听起来是没啥问题，但你要从闪电网络新用户的角度来理解它们，就会发现问题。作为一名新用户，为了能够接收资金，你必须先发起支付，这是反直觉的，而且一定程度上会让新人感到困惑。（译者注：这是因为，在当前的闪电工程实现中，建立通道需要由发起的一方提供通道的全部容量，因此，在通道刚刚建立的时候，发起的一方只有出账流动性而没有入账流动性。工程实现的进步（比如双向注资通道）以及后文的一些服务手段，可以缓解乃至解决这个问题。）

在闪电网络中为刚进入的新用户提供足够多的流动性，可能是非常困难的，原因如下：

**通道的注资**：为了在闪电网络中开启一条支付通道，参与者需要锁定一定数量的比特币到通道中，而且要锁定一段时间。但是，如果没有人愿意锁定资金，或者如果资金都集中在少数几个通道中，流动性可能会失衡，而且让用户难以为自己的交易找到合适的路径。

**通道再平衡**：当交易发生在网络中，该支付所经过的闪电通道内的余额分布就会改变。举个例子，如果一方持续接收支付、且收到的数额大于自己花出去的数额，那么通道就会失衡，会限制可以从一个方向流动过去的数量（译者注：在这里，也会限制此人继续接收支付的能力）。为了维持流动性并让交易体验顺滑，通道的参与者需要主动重新平衡自己的通道，要么是接收资金，要么是支付资金，以维持一个最优的平衡，这是复杂而且耗时的工作。

**路由挑战**：闪电支付的成功依赖于参与者能够找出一条由通道组成的、让彼此相连且通道都有足够多流动性的路径。如果流动性失衡了，或者说路径上没有充分可用的通道，就会阻碍交易的完成。随着网络的增长、参与者数量和通道数量的增加，路由会变得更有挑战性。

**流动性供应的激励措施**：在闪电网络中提供流动性有自己的风险，例如长时间锁定资金但一无所获（因为通道没有被使用）的风险、因为通道关闭的争议而可能损失资金的风险。如果没有为用户提供充分的激励，可用的资金就会短缺。

同时，这些也是为什么闪电网络服务供应商（缩写为 “LSP”）对闪电网络的增长以及客服这些挑战如此关键的原因。

## 引入闪电网络服务商

就像互联网服务商（ISP）给你提供访问互联网的路径，LSP 给闪电网络上的用户和商家提供流动性和网络服务。其中一些服务包括：

- 与用户开启通道
- 路由
- 连接性和通道管理
- 自动化
- 销售入账流动性
- 通道再平衡
- 开启零确认通道
- 传统的支付处理

LSP 会对部分或全部服务收取费用，而且收费方式也多种多样 —— 详见下文。

如前所述，LSP 在引导用户进入闪电网络的过程中扮演着重要角色，而它会反过来触发一个良性循环：

> 所路由的支付越多，他们能够从锁定在闪电网络中得到的手续费就越多。话虽如此，用于闪电网络的比特币比起放在冷存储中的比特币面临更多风险，这是一种取舍。
>
> —— Roy Sheinfeld，Breez 钱包 CEO

![img](../images/the-rise-of-lightning-service-providers/0KpbTS1MpBf)

LSP 对于提升用户体验以及简化商家和应用供应者的操作极为重要。为了让闪电网络扩展到成百万上亿的用户，我们不可能期待每个人都称为闪电网络的专家。人们应该无需知晓闪电网络的工作原理就能使用比特币和闪电网络，就像互联网在今天的用户体验一样。

## 提高接受度同时保证自主保管

当前，支付通道的初始资金是由发起它的一方来提供的。当双向注资技术变得更加成熟、得到广泛支持之后，这种局面会改变。见：https://bitcoinmagazine.com/technical/first-dual-funded-lightning-channel-opens 。

开启闪电通道只会让你可以发送资金（即获得出账流动性），但不会让你可以接收资金（即获得入账流动性）。为了获得入账流动性，要么你需要在开启通道之后先花费一些资金，要么使用可以按你的需要为你提供流动性的服务（LSP）。

LSP 跟用户开启通道的办法有非常多，因此用户的体验也迥然不同。这些方法在隐私性和信任程度上也有各自的取舍。

随着[托管方案](https://medium.com/synonym-to/lightning-from-reckless-to-reliable-4efe3cf35611)的兴起，现在更多的用户在使用托管方案而不是自保管方案。这种趋势的一个原因是使用闪电网络所面临的流动性约束。托管方案可以抽象掉这些问题，当然，这也不是没有代价的。

一个被低估的、没有得到充分讨论的事情是，LSP 不仅可以帮助提升可扩展性和闪电网络的接受度，同时还可以让用户保持资金的自主保管。

不像托管方案，用户不得不依赖于第三方来管理资金，你可以使用 LSP 同时完全保管自己的资产，完全遵循比特币的理念，而不需要把私钥交给对方。

## 解决入账流动性问题的技术

LSP 利用了多种技术，让自主保管变得更加便利。这里是一些用于简化闪电网络用户体验的方法和技术的简要介绍。

### 闪电网络作为一项服务（LaaS）

Breez 已经宣布了他们扩展闪电网络的提议 —— LaaS 。他们的开源 Breez SDK 让开发者和第三方供应商可以在自己的应用中集成 P2P 闪电支付，而无需预先学习或精通技术。

### 零确认通道

为了创建闪电通道，你首先需要一笔链上交易，并等待这笔交易得到比特币区块链的确认，需要等待 10 分钟到 30 分钟。这远远不能称得上最优的用户体验。

零确认的通道让用户可以使用通道而无需等待交易得到区块链的确认，从而加速新用户的进入流程。

取舍就是需要一定的信任。用户必须依赖于 LSP 不会在收到支付执行之后取消掉交易。

### 原子化互换/潜水艇互换

潜水艇互换可以协助链上资金和链下资金的原子化互换，从而简化用户的比特币转移流程，让他们可以在 Layer1 和 Layer2 之间移动资金，而不需要管理通道的开启和关闭。

**Peerswap** —— 一种由 Blockstream 开发的技术，允许用户使用潜水艇互换免信任地重新平衡自己的通道（译者注：Peerswap 的特殊性在于它允许你跟自己的通道对手直接做互换。）

**Loop** —— 由 Lightning Labs 开发的技术。Loop 是一个潜水艇互换服务商（本质上就是链上和链下比特币之间的一座桥）。如果一个用户需要更多的入账流动性，你可以讲资金发送给 Lightning Labs，然后在链上获得资金，这是非托管的。

**Splicing** —— 它可以动态地改变通道的容量，而无需关闭通道，而且在链上留下的踪迹更少。本质上就是让通道的容量可以变化，而不是只能固定不变，所以 LSP 可以重新配置资本。

### Liquidity Ads

由 Blockstream 开发，Liquidity Ads 是一套协议，提供了一种协调流动性分布的轻量化方法，而且是去中心化的。节点可以公开宣布自己需要流动性并愿意提供一些费用，或者可以提供流动性但需要收取一些费用。你可以认为，它是一种广告牌，让你可以宣布你愿意提供的流动性。你可以设定自己要求的价格，然后在 “gossip 网络” 中广播，每个节点都可以使用这个网络，也都可以从中收到消息。

### LSP Spec

钱包和 LSP 之间创建互通性的公开协议。

## LSP 的类型

![img](../images/the-rise-of-lightning-service-providers/wf1SQC0cDJz)

LSP 有许多形式，可以满足不同的用户体验和细分市场。常见的三种 LSP 类型是：

- **钱包内置型** —— Breez、Bitkit（Blocktank） 、Blixt 和 Phoenix Wallet
- **流动性和点对点市场型** —— Magma、LightningNetwork+、Lightning Labs 的 Pool、Liquidity Ads
- **网站门户型/小工具型** ——  Blocktank、LNBig、Lightspark
- **协议型** —— Core Lightning 的 Liquidity Ads、LSP Spec

## LSP 供应商和协议的清单

[**Boltz**](https://boltz.exchange/)

Boltz 是一个潜水艇互换供应商，但它也会跟没有足够多收款容量的用户开启通道。

[**Breez**](https://breez.technology/)

Breez 会开启零确认通道，从而利用用户的流动新，以在用户终端分配流动性。一旦用户下载好了钱包，Breez 会自动为他们开启一条通道。

[**Blocktank**](https://synonym.to/products/)

Blocktank LSP 是一种全方位服务的 LSP，它由一系列的软件工具组成，商家、应用、互联网平台和比特币人可以使用这些工具让闪电网络连接变现，并自动化管理通道流动性。

Blocktank LSP 为多种类型的商家和用户提供了解决方。

这种工具是少见的开源工具之一，而且即可以通过网站小工具使用，也可以通过 API 使用，完全使用商家的不同需要。

[**Cequals By Block**](https://cequals.xyz/ by Block)

通过提供流动性、服务和基础设施来简化闪电网络生态系统，让每个人都能从更快、更低成本的支付中获益。

[**Coincept**](https://coincept.com/)

可以通过链上比特币或闪电发票从 Coincept 处购买入账流动性。

[**Dunder LSP**](https://github.com/hsjoberg/dunder-lsp)

依然在开发之，还未登陆生产环境。

它支持 “按需开启通道”，意思是如果一个闪电钱包在没有入账流动性的时候获得了支付，Dunder 会跟这个钱包开启一条通道，并支付等于原支付数额减去链上手续费的数额。Dunder 正在赋能 Blixt Wallet。

[**Lightning2Me**](https://lightningto.me/)

帮助闪电节点解决流动性问题。

[**Lightning Conductor**](https://mainnet.lightningconductor.net/channels)

收费开启通道。

[**Lightning Network+**](https://lightningnetwork.plus/)

Lightning Network Plus (LN+) 是一个免费的网页 app，帮助闪电网络的用户找到其他用户并创建流动性互换的闭环（可能是三角形、四边形或五边形），从而获得出账和入账的流动性。这样的流动性互换叫做 “Ring of Fire”。在 LN+ 登记你的节点，就可以免费加入流动性互换。

[**Lightspark**](http://lightspark.com/)

Lightspark 的服务和工具目标成为最快、最简单和最可靠的全球支付收发方法。使用闪电网络实现极低的手续费。

[**LNBig**](https://lnbig.com/)

虽然 LNBig 并不将自己宣传为一个 LSP，但他们是闪电网络上的第一个大型实体 —— 他们的匿名群开启了几百条通道，而且当前是闪电网络上锁定 BTC 最多、通道最多的群体。

[**LN.Capital**](https://ln.capital/)

使用 Torq 的自动化高级工作流，保证你的资本永不滞留。全天候自动化调整通道的手续费并再平衡通道。让手动调整成为过去式。

[**LNRouter**](https://lnrouter.app/liquidity-ads)

LNRouter 提供收费的入账流动性。提升支付的速度和资本效率。

[**Liquidity Ads**](https://bitcoinops.org/en/topics/liquidity-advertisements/)

Liquidity advertisements 允许一个节点公开自己向对等节点开启新通道、贡献流动性的意愿。提供流动性的节点说明自己所提供的流动性的时间以及为此收取的费用；购买流动性的一方使用双向注资交易支付租金。

[**LQWD**](https://lqwdfintech.com/)

LQwD 是一个专注于公司支付基础设施和解决方案的 LSP。这家公司的使命是开发机构级别的服务，支持闪电网络并驱动更强的功能、交易容量、用户采用以及比特币的扩容。LQwQ 还持有比特币作为运营资产，在闪电网络上建立节点和支付通道。值得一提，他们是唯一一家只提供闪电网络流动性服务的公司。

[**LSP Spec**](https://github.com/BitcoinAndLightningLayerSpecs/lsp)

LSP 的 API 规范。

当前的范围限于通道的销售以及针对你的通道的服务（还有提供这些服务的对等节点）。一旦重要的概念得到解决，我们也许就可以开发出流动性市场的概念，以及其他的钱包和信息服务。

[**Magma by Amboss**](https://amboss.space/magma)

Magma 是一个闪电网络上的流动性市场。用户可以通过 Magma 市场购买或卖出通道。Magma 的初衷是让任何闪电节点懂易于使用，而不论这些节点使用什么样的软件实现。

[**Phoenix by Acinq**](https://phoenix.acinq.co/)

在你的手机（或桌面端）上运行一个单独的闪电节点，从而你可以移动资金、建立入账流动性。通道可以手动管理，也可以自动管理。

[**Pool by Lightning Labs**](https://lightning.engineering/pool/)

Pool 是一种点对点的市场，可以购买通道。它让需要流动性的用户跟拥有资本的用户可以找到彼此。

[**Voltage / Flow**](https://voltage.cloud/flow/)

利用了 Pool 的特性，并提供可以从别的节点处购买通道的功能。你可以创建双向注资通道，从而一开始就可以收发支付。

[**ZeroFeeRouting**](https://zerofeerouting.com/)

为通道开启收取一次性的费用，并承诺不收取路由手续费（请注意，这是这个节点不收取，路径上的其他节点可能收取） **— now closed**

## 变现模式

靠无私奉献可不能实现我们在自主保管的采用上的目标。LSP 的激励模式是，LSP 帮助用户进入闪电网络，因为他们可以从中获得利益。从 LSP 的角度看，流动性是一项投资。

人们在闪电网络上部署资金，应该考虑不放在闪电网络上的机会成本。在闪电网络上锁定资金有自己的风险 —— 当一名开启通道的用户变得不活跃，也就意味着通道变得不活跃了，而这条通道中的 LSP 的资金就没有收益。

不过，可以考虑一些商业模式，有些已经出现了，预计还会有更多。

- **订阅制（会员制）** —— 顾名思义，用户每月给 LSP 支付一次订阅费，以获得入账流动性。虽然表面上这是一个好点子，但缺点在于这种办法无法随用户的使用量模式而调整。

- **租赁制** —— 有闲置资金的人可以按双方约定的价格出租这些资金。Lightning Labs 的 Pool 就提供了这样的功能，可以让拍卖者向出租者提交出价。最高出价的人（向出租人提供最高收益的人）将赢得拍卖。

  类似于订阅制，难以根据用量模式来调整。

- **路由费** —— LSP 为成功的路由支付的数额收取固定的路由费（通常是 1 ~ 2 聪）以及一个浮动的比例费用。这可能是最好的模式之一，它可以适应用户的使用量，而且对用户来说很便宜。问题在于，当前的路由费的费率太低了。不过，随着网络的增长，路由费可能会因为网络的交易量增长而提高，成为 LSP 的更可靠的收益来源。

- **一次性费用** —— ZeRoFeeRouting 就是这样的一个例子，只为 200 0000 聪的入账流动性收取 8000 聪的一次性费用。注意，零手续费仅适用于 ZeroFeeRouting 的节点，如果路由通过了其他人的节点，可能依然要支付手续费（当然数额都很小）。这种办法的一个好处是，它可以让进入的程序和用户体验变得平滑，可能会让闪电网络对主流用户更有吸引力。但是，这可能会误导一些用户，以为绝对完全不需要付手续费。此外，随着网络的扩大和手续费的提高，这个模式是否可持续，尚在未定之天，尤其是，当商家要使用这样的服务的时候。

## LSP 的未来

闪电网络在持续演化，LSP 也如此。我在这里尝试描述 LSP 和闪电网络的成长趋势、它们如何让更多用户获得自我主权。

### 持续增长

伴随着闪电网络的上升取仕，越来越多的 LSP 出现，而且它们会进一步整合到基于闪电网络的应用中。捍卫比特币网络的理念，自主保管的世界是我们的终极目标，而 LSP 代表了让这个愿景成为现实的一种努力。

闪电网络的持续增长的趋势得到了 [Block Inc](https://block.xyz/2022/btc-report.pdf) 最近的一份报告的确认，他们调查了来自 14 个国家的 9500 个人。这份报告指出，许多受访者都将比特币视为社会运动人士的一种支付基础设施，比特币可以用来购买商品和服务，可以转移资金给家人，这符合货币的本来目的。这份报告还有其它发现：

- 低收入的受访者将 购买力/支付能力 视为持有比特币的首要利用。
- 来自中国的受访者将比特币视作一种交易手段的想法最强烈。
- 高收入的受访者将 购买力/支付能力 放在第二位，稍低于投资回报。
- 亚洲人对比特币的未来表现出最强的乐观主义。
- 在阿根廷这样的法币高通胀国家，比特币的采用率格外高。

短期来看，可能会出现托管式的金融解决方案，让用户将自己的比特币放在闪电网络上作为流动性，或者路由费而无需管理节点和流动性。但这种方案会不会成功还有待观察。

### 交易所正在接受闪电网络

并不意外，所有人都能看到更多交易所继 Bitfinex 和 Kraken 之后接受了闪电网络。当前，我们已经看到 Coinbase 和 Binance 已经表明了集成闪电网络的意图，我们在[之前的文章](https://medium.com/synonym-to/charging-ahead-why-its-time-for-exchanges-to-add-lightning-54241ac6cf33)里讲过了。

这可以为 LSP 提供应用场景，让交易所可以提供即时的取款和存入，方便有套利和即时交易需求的用户。

### 钱包

随着越来越多的用户发现闪电网络，钱包的采用将呈火箭飙升。这样的趋势将为钱包提供机会，通过向用户租借流动性找出新的收益模式。LSP 可以协助路由的外包，从而提升支付的可靠性和用户体验，同时钱包供应商将控制自己的节点。

### PoS 机和商家

PoS 机也会从闪电网络受益  —— 理想情况下，商家将使用自主保管模式，而不是一个支付处理上，但这可能要好几年时间。

闪电网络给新进入的商家提出了流动性和支付路由上的挑战，他们在一开始可能无法接收支付。但是，采用 LSP 解决方案，他们的业务马上就可以起步。

提升闪电网络的用户体验、提供适应于新进入的用户基数的流动性，还有许多工作要做但好消息是，我们现在不缺努力让自主保管的未来成为现实的公司！

（完）