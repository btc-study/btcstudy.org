var $posts={scroller:function(){function e(){return this.callbacks=[],this}return e.prototype.bindScrollEvent=function(){var e=this;window.addEventListener("scroll",function(s){var o=!1,t=window.pageYOffset;o||(o=!0,setTimeout(function(){var i={event:s,beforeOffsetY:t};e.callbacks.forEach(function(e){e(i)}),o=!1},150))})},e},showTopic:function(e){var s=document.body.clientWidth<=768?document.getElementById("postTopicMobile"):document.getElementById("postTopic"),o=document.getElementById("postTitle"),t=document.getElementById("mobile-header-logo"),i=document.getElementById("header-menu"),l=document.getElementById("header"),c=document.getElementById("mobile-header"),d=document.getElementById("postTopicMobile"),a=o.getBoundingClientRect(),n=o.offsetTop+a.height;if(window.pageYOffset>n){var r=e&&e.beforeOffsetY,m=r-window.pageYOffset>0;s.classList.remove("is-hidden-topic-bar"),s.classList.remove("hidden"),i.classList.add("hidden-menu"),t.classList.add("hidden-menu"),c.classList.add("header-shadow"),l.classList.add("header-shadow"),s.classList.add("immediately-show"),r-window.pageYOffset===0?(s.classList.remove("is-switch-post-title"),s.classList.remove("is-show-post-title"),s.classList.contains("is-show-scrollToTop-tips")?(s.classList.remove("is-show-scrollToTop-tips"),s.classList.add("is-flash-scrollToTop-tips")):d.classList.remove("hidden")):m&&window.pageYOffset>2*window.innerHeight&&(s.classList.remove("immediately-show"),s.classList.remove("is-show-post-title"),s.classList.remove("is-switch-post-title"),s.classList.remove("is-flash-scrollToTop-tips"),s.classList.add("is-show-scrollToTop-tips"),s.classList.add("immediately-show"),d.classList.remove("hidden"))}else s.classList.remove("is-flash-scrollToTop-tips"),s.classList.remove("is-show-scrollToTop-tips"),s.classList.remove("is-switch-post-title"),s.classList.remove("is-show-post-title"),s.classList.remove("immediately-show"),s.classList.add("is-hidden-topic-bar"),s.classList.add("hidden"),i.classList.remove("hidden-menu"),t.classList.remove("hidden-menu"),c.classList.remove("header-shadow"),l.classList.remove("header-shadow"),d.classList.add("hidden")},catalogueHighlight:function(){var e=document.querySelectorAll(".toc a");if(0===e.length)return!1;var s=document.querySelector(".toc");return function(){var o=[],t="is-active";e.forEach(function(e){if(e.href){var s=decodeURI(e.href).split("#")[1];o.push(document.getElementById(s))}});for(var i=null,l=window.pageYOffset,c=0;c<o.length;c++){var d=o[c];if(!(d.offsetTop>l+5)){i?d.offsetTop+10>=i.offsetTop-10&&(i=d):i=d;var a=document.querySelector(".toc ."+t);a&&a.classList.remove(t);var n='.toc a[href="#'+encodeURI(i.id)+'"]',r=document.querySelector(n);r.classList.add(t);var m=s.getBoundingClientRect().height;r.offsetTop>=m-10?s.scrollTo({top:r.offsetTop+100-m}):s.scrollTo({top:0})}}}},smoothScrollToTop:function(){var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;e>1?(window.requestAnimationFrame($posts.smoothScrollToTop),scrollTo(0,Math.floor(.85*e))):scrollTo(0,0)},mounted:function(){var e=new(this.scroller()),s=this.catalogueHighlight();s&&e.callbacks.push(s),e.callbacks.push(this.showTopic),e.bindScrollEvent(),$claudia.fadeInImage(document.querySelectorAll(".post-content img")),document.getElementById("postTopicMobile").addEventListener("click",this.smoothScrollToTop)}};$posts.mounted();