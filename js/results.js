!function(){if("/search/"===window.location.pathname){var t,e,n,a=(t="w",e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),null!=(n=window.location.search.substr(1).match(e))?decodeURIComponent(n[2]):"currency"===t?"ETH":"");if(!a)return window.location.href="/";var r=function(t){var e=[];((t.posts||[]).forEach(function(t){(t.title.includes(a)||t.text.includes(a))&&e.push(t)}),e.length)?(document.getElementById("key").innerText="“"+a+"”",document.getElementById("result-length").innerText=e.length+" 篇文章",document.getElementById("result-list").innerHTML="<ul>"+function(t){var e="",n=new RegExp(a,"g"),r=function(t){return t.replace(n,'<span class="keywords">'+a+"</span>")};return t.forEach(function(t){e+='<li><a href="/'+t.path+'"><div class="cover" style="background-image: url(//res.btcstudy.org/btcstudy'+function(t){var e=t.cover||"/images/BITCOIN.png";return/^\//.test(e)||(e="/"+e),e.replace(/^(\/)?\.\./,"")}(t)+')"></div><div class="post-data"><h3>'+r(t.title)+"</h3><p>"+r(t.text.substr(0,90))+'...</p><div class="post-author-data"><img src="'+(t.avatar||"/images/default_avatar.png")+'" alt="avatar" /><span>'+t.author+"</span><time>"+t.date+"</time></div></div></a></li>"}),e}(e)+"</ul>",$("#no-data").addClass("hidden")):$("#no-data").removeClass("hidden")};fetch("/content.json").then(function(t){return t.json()}).then(function(t){r(t)})}}();