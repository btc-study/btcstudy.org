<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>评估 CoinJoin 实现的框架</title><meta name="keywords" content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name="description" content="比特币思想的中文集结地"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css?v=1675068529853"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/style/common/iconfont.css?v=1675068529853"><link rel="stylesheet" href="/style/base.css?v=1675068529853"><link rel="stylesheet" href="/style/common/helper.css?v=1675068529853"><link rel="stylesheet" href="/style/themes/animation.css?v=1675068529853"><script>function ready() {
  var bodyEl = document.querySelector('.body-container');
  var theme = localStorage.getItem('theme') || 'light';
  if (!['light', 'dark'].includes(theme)) {
    theme = 'light';
    localStorage.setItem('theme', 'light');
  }
  bodyEl.classList.remove('appearance-auto');
  bodyEl.classList.add('appearance-' + theme);
  quickInitialTheme();
}
function quickInitialTheme() {
  var theme = localStorage.getItem('theme') || 'light';
  var logoLightEl = document.querySelector('.logo-light');
  var logoDarkEl = document.querySelector('.logo-dark');
  
  var mLogoLightEl = document.querySelector('#mobile-header-logo > .logo-light');
  var mLogoDarkEl = document.querySelector('#mobile-header-logo > .logo-dark');
  var themeBtnEl = document.getElementById('theme-btn');
  
  var slideThemeLightEl = document.querySelector('.slide-theme-light');
  var slideThemeDarkEl = document.querySelector('.slide-theme-dark');
  
  document.body.classList.add(theme);
  if (theme === 'dark') {
    logoLightEl.classList.add('hidden');
    logoDarkEl.classList.remove('hidden');
    
    mLogoLightEl.classList.add('hidden');
    mLogoDarkEl.classList.remove('hidden');
    
    themeBtnEl.classList.remove('icon-icon_dark');
    themeBtnEl.classList.add('icon-icon_light');
    
    slideThemeLightEl.classList.remove('hidden');
  } else {
    slideThemeDarkEl.classList.remove('hidden');
  }
}
document.addEventListener("DOMContentLoaded", ready);</script><script src="/js/common.js?v=1675068529853"></script><script src="/js/libs/zepto.min.js"></script><link rel="stylesheet" href="/style/post.css?v=1675068529853"><link rel="stylesheet" href="/style/themes/highlight.css?v=1675068529853"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="BTC Study" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column" onload="initialTheme()"><div class="clip"></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id="header"><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href="/"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id="header-menu"><a class="is-inline-block header-activity mr-4" href="/">首页</a><a class="is-inline-block mr-4" href="/archives">全站目录</a><a class="is-inline-block mr-4" href="/tags">标签</a><a class="is-inline-block mr-4" href="/maps">地图</a><a class="is-inline-block mr-4" href="/mempool">mempool</a><a class="is-inline-block mr-4" target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input" type="range" min="12" max="32" step="2"></div></div></div><i class="iconfont icon-icon_dark mr-1" id="theme-btn"></i><div class="search-wrap"><input class="pl-3" id="search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search" id="search-input-btn"></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">评估 CoinJoin 实现的框架</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn2"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input2" type="range" min="12" max="32" step="2"></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id="mobile-header"><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id="mobile-header-logo"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopicMobile"><p class="is-full-height">评估 CoinJoin 实现的框架</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class="mobile-search-wrap"><div class="search-input"><input class="pl-3" id="mobile-search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class="mobile-search-input-btn">搜 索</button></div></div></header><div class="mobile-slide-menu"><a class="header-activity" href="/">首页</a><a href="/archives">全站目录</a><a href="/tags">标签</a><a href="/maps">地图</a><a href="/mempool">mempool</a><a target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class="slide-menu-fontsize"><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1675068529853"> </script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E9%9D%9E%E6%89%80%E6%9C%89%E7%9A%84-Coinjoin-%E5%AE%9E%E7%8E%B0%E9%83%BD%E4%B8%80%E4%B8%AA%E6%A0%B7"><span class="toc-text">并非所有的 Coinjoin 实现都一个样</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B6%E5%9B%9E%E4%BD%A0%E7%9A%84%E9%9A%90%E7%A7%81"><span class="toc-text">收回你的隐私</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E4%B8%8E%E8%80%85%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-text">参与者的数量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%BE%E9%9B%B6%E8%BE%93%E5%87%BA"><span class="toc-text">找零输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%81%E7%9A%84%E9%9D%A2%E9%A2%9D"><span class="toc-text">币的面额</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Coinjoin-%E8%BD%AE%E6%AC%A1%E9%97%B4%E7%9A%84%E7%9B%B8%E4%BA%92%E5%85%B3%E8%81%94"><span class="toc-text">Coinjoin 轮次间的相互关联</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E5%85%A8%E8%8A%82%E7%82%B9"><span class="toc-text">个人全节点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E8%B0%83%E5%91%98"><span class="toc-text">协调员</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E7%BB%AD%E8%B4%B9"><span class="toc-text">手续费</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id="postTitle">评估 CoinJoin 实现的框架</h1><div class="page-author"><div class="is-flex is-flex-direction-row page-data mr-6"><img class="mr-1" src="//res.btcstudy.org/btcstudy/images/default_avatar.png" alt="Thibaud Maréchal"><div class="page-author-info"><strong>Thibaud Maréchal</strong><time class="has-text-grey" datetime="2022-12-18T07:41:31.000Z">2022-12-18</time></div></div><div class="is-flex"><a href="/tags/CoinJoin"><i class="page-tag mr-1 px-1">CoinJoin<!-- 订正图片路径--></i></a></div></div><article class="mt-4 post-content"><blockquote>
<p><em>作者：Thibaud Maréchal</em></p>
<p><em>来源：<a target="_blank" rel="noopener" href="https://bitcoinmagazine.com/technical/navigating-bitcoin-coinjoin">https://bitcoinmagazine.com/technical/navigating-bitcoin-coinjoin</a></em></p>
</blockquote>
<p>“离间计” 是一种久经考验的军事策略，意思是通过让人们产生分歧、自相残杀而不是一致对外，从而分裂一群人。Wasabi 和 Samourai 这两种流行的比特币钱包，各有各的 Coinjoin 实现，一直在彼此拆台。JoinMarket 是另一种 Coinjoin 实现，也跟其它的隐私特性开发者有过激烈的辩论。</p>
<p>随着不断开展的戏剧事件，了解比特币的隐私和 coinjoin 技术变得非常困难。应该信任谁？如何验证他们说的话？都是不清不楚的。这些戏剧到底为比特币的观望者、普通的比特币用户和虔诚信仰者带来了什么呢？无尽的困惑、恐惧、不确定和怀疑（FUD）。比特币本身令人尴尬的隐私状况，和一直在发生的闹剧，赶走了新的用户。开发者、布道者和普通 用户在上面浪费了宝贵的时间，随便干点什么，都比追踪他们的闹剧要强。</p>
<p>显然，关于 “如何正确实现 coinjoin” 本身，人们还没有达成共识；那么，应该如何实现 coinjoin 以尽可能优化用户的隐私性和比特币的区块空间效率呢？不同的实现之间有何取舍？哪一些实现有明显的缺陷吗？未来几年，数十亿的用户将转向 使用比特币，coinjoin 又如何跨越从寥寥数人问津到主流用户采用的鸿沟呢？</p>
<p>我们要通过追问根本的问题和提出一些假设来了解 coinjoin 技术并建立一些心智模型，这些模型将在后续的文章中评估不同的 Coinjoin 实现时派上用场。</p>
<h2 id="并非所有的-Coinjoin-实现都一个样"><a href="#并非所有的-Coinjoin-实现都一个样" class="headerlink" title="并非所有的 Coinjoin 实现都一个样"></a>并非所有的 Coinjoin 实现都一个样</h2><p>区块空间效率是一个重点，因为要确保 coinjoin 交易能够随比特币一起扩展，被全世界越来越多人所用。但它很少被当作第一优先级来讨论。任何忽略区块空间稀缺性的 Coinjoin 设计都是在没有必要地轰炸区块链，同时积累技术债 —— 随着更多用户到来，这种债务会变得越来越难以偿还。在区块链上留下尽可能少的足迹似乎是一个很合理的目标：少量的交易即可达到可接受的匿名程度，听起来很不错。</p>
<ul>
<li>那么，什么样才是可以接受的匿名程度？</li>
<li>匿名性在比特币隐私的语境下是什么意思？</li>
<li>特定的 Coinjoin 设计是如何处理区块空间稀缺性的？</li>
</ul>
<h2 id="收回你的隐私"><a href="#收回你的隐私" class="headerlink" title="收回你的隐私"></a>收回你的隐私</h2><p>在比特币中，匿名性意味着没有突出的、异常的特征，让给定的一笔交易跟账本上的其它交易有区别。当然，比特币网络在设计上不能保证这一点，它只是一个准匿名系统，其资金的形式（UTXO，未花费的交易输出）因为有独一无二的历史，一般来说不是同质化的。</p>
<p>Coinjoin 技术给比特币网络增加了一点匿名性，因为它打破了交易的输入与输入的关联、让输出看起来都没有分别。区块链分析公司还使用其它的线索来观察比特币网络，比如交易输入所有权同一性假设、左手倒右手假设、整数假设、时区分析，等等，这些线索不一定能被 coinjoin 掩盖。</p>
<p>Coinjoin 帮助比特币用户收回了一些隐私性，但不是一切隐私问题的灵丹妙药。如果隐私被理解为分享信息的自主选择权，更好的隐私性可以通过 coinjoin 技术来实现，但选择正确的 Coinjoin 实现至关重要。</p>
<ul>
<li>使用 coinjoin 的时候，我的隐私性目标是什么样的？</li>
<li>Coinjoin 实现可以帮我抵御什么样的线索分析？</li>
<li>我想要避免哪些风险？</li>
</ul>
<h2 id="参与者的数量"><a href="#参与者的数量" class="headerlink" title="参与者的数量"></a>参与者的数量</h2><p>现有的 Coinjoin 实现使用了不同的办法来提高隐私性。但不管这些实现在设计上如何考量，“匿名集”（匿名程度的一种度量）似乎是最传统的评估 Coinjoin 收获的办法。其它文章可能会使用别的办法。这里的假设是，要么你可以通过参加一笔较大的 Coinjoin 交易来实现更高的匿名性，要么你可以通过参加多次较小的 Coinjoin 交易来实现。这两个参数（参与者数量、参与次数）都有意义，但是否某一个会比另一个更重要？</p>
<p>从区块空间效率的角度来说，这里的假设应该是单笔较大的（参与者较多）交易比多次较小（参与者较少）的交易要好。</p>
<ul>
<li>单笔较大的 coinjoin 交易和多笔较小的 coinjoin 交易，哪个隐私性更好？</li>
<li>如何进行真实、严格的验证？多小的 coinjoin 交易就算 “太小了”？</li>
<li>有无估算你从一笔 coinjoin 交易中得到的隐私性好处的真实指标？</li>
<li>关于 coinjoin 交易的体积和次数，偏重何者的区块空间效率更高？</li>
<li>预期币会随着越来越多人开始使用 coinjoin 而参与多次 coinjoin，是现实的吗？参加多少次算是足够？会不会过犹不及？</li>
</ul>
<p>简而言之，coinjoin 通过给予用户合理推诿的能力，让他们可以收回一些隐私性。推诿的可信度是对概率的度量 —— 你的比特币到底是被花掉了，还是放到了你依然控制的另一个地址？可能性有多大？某一个输入跟某一个输出有关系的概率有多大？</p>
<p>显然，作为一个囤币者，多个选项的概率越平均，你的合理推诿能力就越强。这种能力是很难保持的，因为需要处处提防。找零输出对在乎隐私的比特币用户来说常常是个问题，也是持续不断的讨论和批评的中心。为什么找零输出在 coinjoin 技术的语境下争议如此之大？</p>
<h2 id="找零输出"><a href="#找零输出" class="headerlink" title="找零输出"></a>找零输出</h2><p>这都是因为确定性的关联。如果为比特币交易的隐私性设计一条光谱，那么最左边是绝对的合理推诿能力，意思是完全没有办法知道输入和输出之间的关联。Coinjoin 的语境中也有所谓的 “随机性” 或者 “熵”。这里的假设是，越是随机，或者说熵越高，就越好。而光谱的另一端则是一笔交易有 100% 的确定性关联 —— 每一个输入中的价值去到了哪个输出都一清二楚。</p>
<p>反直觉的是，高熵并不必然意味着交易提供了良好的隐私性。如果一笔交易有三个输入和三个输出，每个输出的价值都相等，那么从技术上来说它有 100% 的熵，意思是无法辨别这三个输出有什么区别；但是，依然有 33.33% 的概率猜中一个输入关联着哪个输出。高熵并不意味着良好的合理推诿能力。</p>
<p>找零输出几乎总是跟其前序交易有非常高的确定性关联。换句话来说，几乎没有疑问，找零输出跟产生它的交易是有关的。如果一个找零输出跟其它的经过 coinjoin 的匿名输入一起花费，那可能会变成一个重大的隐私问题（虽然某些情况可能有例外）。这样的联合花费通常被称为 “UTXO 整合”，如果毛毛躁躁就做了，可能会对隐私性造成致命影响。</p>
<p>如果拿找零输出跟经过 coinjoin、获得了一些合理推诿能力的输出一起花费，找零输出可能会让它们去匿名化。这种失误很常见，有时候当事人还后知后觉。几年的隐私加强活动，就此功亏一篑。那么如何避免这种找零输出问题？</p>
<p>现有的 Coinjoin 实现有三种处理找零输出的办法：将找零隔离到另一个不参与 coinjoin 的钱包中；将找零输出放在参与 coinjoin 的同一个钱包中；通过不设找零，完全放弃掉找零输出。最后一者从隐私性 和区块空间效率的角度看是最好的选择，但我们还需要进一步的探究才能证实或者证伪这个假设。</p>
<ul>
<li>熵的分数足以量化一笔 coinjoin 交易对你的隐私性的影响吗？</li>
<li>将找零输出隔离对另一个钱包 vs. 完全放弃找零，哪一种做法更好？</li>
<li>找零输出对你的隐私只有负面影响吗？</li>
</ul>
<h2 id="币的面额"><a href="#币的面额" class="headerlink" title="币的面额"></a>币的面额</h2><p>在 coinjoin 交易中去除找零输出，将要求币的面值是可变的。换句话说，参与这样的 coinjoin 交易的输入就不能是（例如）0.1 BTC 这样的固定面额（译者注：原文在这里使用的是 “input（输入）”，但疑应为 “输出”），否则就无法（至少非常难）不设找零而消耗掉输入，因为大部分的 UTXO 都没有整数（例如，在输出等面额的 coinjoin 交易中输入 0.19572394 BTC 将产生 0.1 BTC 的输出和 0.09572394 BTC 的找零）。</p>
<p>找零输出可能对你的隐私性有害，还记得吗？在 coinjoin 交易中使用多个不等面额的输入和输出，似乎也是个糟糕的想法，因为它会让输入和输出之间的确定性关联更清晰，对不对？其实，既对又不对，这样看情况。如果一笔 coinjoin 只有寥寥几位参与者（输入和输出都很好）那么使用不同的面额就会是一个糟糕的想法。但如果有很多个输入和输出呢，那会怎么样？</p>
<p>在较大的 coinjoin 交易中，使用多个面额可以为每一个结果输出带来更强的合理推诿能力，无需创建找零输出、也不需要发起额外的交易，因此它对区块空间的利用效率更高。当前似乎已经有不少选择了。</p>
<ul>
<li>Coinjoin 交易使用固定的面额还是多种面额更好？</li>
<li>如果要使用多种面额的币，coinjoin 交易应该有多少参与者呢？</li>
<li>使用多种面额是去除 coinjoin 交易的找零输出的最好方法吗？</li>
</ul>
<p>不必说，不论币的面额是否可变、coinjoin 交易是大是小，多次 Coinjoin 之间产生相互关联都是不可接受的，对吧？这里又有一个需要理解的重要细节。</p>
<h2 id="Coinjoin-轮次间的相互关联"><a href="#Coinjoin-轮次间的相互关联" class="headerlink" title="Coinjoin 轮次间的相互关联"></a>Coinjoin 轮次间的相互关联</h2><p>据说，让曾经加入过同一笔 Coinjoin 交易的输入再次参加同一笔 Coinjoin 交易，是毫无合理性可言的。已经共享过 Coinjoin 交易的参与者们，似乎无法从共同参与另一次 Coinjoin 中获益。这对隐私似乎有害，也经常受到批评。</p>
<p>但要是一笔 Coinjoin 交易很大、其一些输入来自其它的 Coinjoin 交易、并且这些 Coinjoin 交易又来自其它 Coinjoin 交易呢？在这种情况下，一起再次混币的参与者依然能提升自己的隐私新，哪怕他们都来自同一笔 Coinjoin 交易。如果每一次 Coinjoin 交易都足够大，那么用户就不需要多次混币，虽然他们可以这样做以进一步提升他们的匿名性。</p>
<p>如果许多大型的 Coinjoin  交易产生连接，最终的匿名集应该能提供大量的合理推诿能力，即使这些资金以前曾经参与过共同的 Coinjoin。</p>
<ul>
<li>Coinjoin 轮次之间的相互关联，也就是使用了过去 Coinjoin 交易的结果，就其本身而言是坏事吗？</li>
<li>当需要再次混合以往 Coinjoin 的结果时，这笔 Coinjoin 应该要多大，才是安全的？</li>
</ul>
<h2 id="个人全节点"><a href="#个人全节点" class="headerlink" title="个人全节点"></a>个人全节点</h2><p>在参与 coinjoin 的时候，你应该运行自己的比特币全节点吗？从表面上看，这是个好主意，而且实际上也往往是。一些 Coinjoin 实现让用户可选，而另一些则要求用户这样做。还有一些甚至不让你使用自己的全节点。要谴责他们吗？你已经读到了这里，那么你应该猜到了，答案是微妙的，而且打开了一个很深的兔子洞。</p>
<p>运行自己的全节点也意味着可用性上的取舍，而且如果不是所有用户都使用，可能不会增加很多隐私性。甚至，运行全节点会给你一种安全性和隐私性的错觉，如果很少 coinjoin 参与者使用全节点，你这样做是极为有害的。如果你把 Tor 用作 coinjoin 技术的一种匿名方法（我们这里先提一句），那么使用可信的全节点来广播 Coinjoin 交易是好的，就像一般情况一样。这里面有非常多的细节，而且，当然，你不应该相信我说的，你要自己验证。</p>
<p>为了不要落入自我表扬隐私性好的人的陷阱，我们有一些根本的问题要问他们：</p>
<ul>
<li>你的 Coinjoin 是允许使用全节点呢，还是要求使用全节点，还是不允许使用全节点？</li>
<li>如果个人全节点不是强制性的，你们采取了什么隐私保护措施呢？Tor？区块过滤器？</li>
<li>如果我运行自己的全节点，但预计绝大部分用户都会使用受信任的第三方节点来参与 Coinjoin，这对我的隐私性有什么样的影响？协调员可以让我去匿名化吗？</li>
</ul>
<p>关于隐私性上的忧虑，始终关键的一点是，搞清楚你想保护什么、你想对抗谁。运行全节点并让自己的钱包使用它，是使用比特币的正确方式，因为它让你无需信任任何人，就可以验证你的钱包余额、把你的交易广播到网络中。但如果你要参与 coinjoin，那就总会有一个 “协调员”。协调员是干什么的、怎么选出来的？往下读。</p>
<h2 id="协调员"><a href="#协调员" class="headerlink" title="协调员"></a>协调员</h2><p>Coinjoin 的协调员负责让每个参与者注册自己的输入和输出、在广播交易之前签名协商好的交易。大部分的 Coinjoin 实现都默认设置了一个中心协调员，它是协议的一个单点故障。迄今为止，社区中的绝大部分人都认为这是一种可以接受的权衡。那么，中心化的协调员会出错吗？当然会啊。有一些实现允许任何人来充当协调员，每一次的 Coinjoin 交易都可以使用不同的协调员，但这也面临其它的一些取舍，我们后面再说。</p>
<p>Coinjoin 是非托管的，即使协调员出错，资金也不会损失。协调员永远不应当知道比公开在比特币网络中的信息更多的东西。为什么呢？因为如果协调员知道的比公开的多，那么协调员就会变成攻击的目标，因为它有大量敏感的数据，可以挖掘出来针对信任这项服务的比特币用户。</p>
<p>你永远不应该信任你的 Coinjoin 协调员。如果一个 Coinjoin 协调员无法作恶，那是好事。要是它能作恶，那么它最终会消亡，因为错误、疏忽、被迫或彻底的不诚实等等原因。</p>
<p>敏感数据的一个例子是 XPUB（比特币钱包的主公钥），会确定无疑地泄露一个钱包的所有信息：这个钱包所控制的地址、过去现在和未来的所有比特币交易。另一个例子是运行自己的全节点的用户跟信任协调员的全节点的用户的比例，因为这可以去匿名化运行自己的节点的用户，因此可以确定地知道这些用户的输入与输入的关联。不过这是另一个微妙的话题，需要进一步的研究和讨论。</p>
<ul>
<li>协调员知道比公开在比特币网络上的信息更多的东西吗？</li>
<li>用户是否向协调员泄露了敏感信息，比如他们的 XPUB，或者他们是否运行了自己的全节点？</li>
<li>协调员是否声称因为有法律机制所以用户可以信任他们（即：法院警告、监管措施，等等）？</li>
</ul>
<h2 id="手续费"><a href="#手续费" class="headerlink" title="手续费"></a>手续费</h2><p>最后，谁来为 Coinjoin 交易支付手续费？这样的比特币交易可能体积很大，因此手续费昂贵，而且有时候手续费的结构对用户来说是不清楚的。很难知道你为了更好的隐私性需要付出多大的代价，甚至你不知道自己到底能不能从中获得更好的隐私性。一些 Coinjoin 实现允许一个输入从其它输入处购买隐私性 —— 这些其它输入只是为了提升自己的匿名集而无偿参与的。可以通过 coinjoin 来获得报酬？你没看错，是可以的。</p>
<p>某一些模式依赖于共同分担手续费，只有一些 UTXO 会支付手续费，其它的不会。另一些模式依赖于邀请越来越多的新的干净的输入（没有混合过的）来为现有的 Coinjoin 交易注资、混合当前匿名性不够高的输入。从长期来看，一些模式似乎是不可持续的，也有一些是很幼稚的，或者对大部分用户来说太贵了。</p>
<p>而且，我们讲的手续费到底指什么？一般来说，参与 Coinjoin 交易的输入需要支付协调费（或者叫吃单者费用，是为了获得一定程度的匿名性而支付的服务费）以及比特币网络的手续费。特定的 Coinjoin 模型可以在某些情况下免除这些费用。Coinjoin 的经济模式是很深的话题，也需要进一步的探究，才能获得更深的理解。</p>
<ul>
<li>谁，给 Coinjoin 交易里的什么东西付费？总的费用包括什么？</li>
<li>Coinjoin 协调员的经济激励在哪？</li>
<li>每一轮 Coinjoin 都要付费吗？还是什么时候可以免费呢？</li>
</ul>
<p>你已经读到了这里，那么，我的希望是，不求你在选择 Coinjoin 方案是能做到事事了然，但能问出合理的问题。一套评估不同 Coinjoin 实现的思维模式，或者说框架，对于考量使用 Coinjoin 拿回自己的隐私性的用户是非常有用的。分辨社交媒体上的噪音需要智性上的诚实，以及严格运用正确的评估系统。</p>
<p>（完）</p>
</article></div></div></main><script src="/js/post.js?v=1675068529853"></script><script src="/js/highlight.min.js?v=1675068529853"></script><script>var containerEl = document.querySelector('.post-container');
var postFontSize = localStorage.getItem('post-font-size') || '16';
var inputEl = document.querySelector('#size-change-input');
var inputEl2 = document.querySelector('#size-change-input2');
inputEl.value = postFontSize;
inputEl2.value = postFontSize;
containerEl.style.fontSize = postFontSize + 'px';
$(function(){
  function setSizeChangeInputValue(size) {
    $('.post-container').css('font-size', size + 'px');
    localStorage.setItem('post-font-size', size);
    $('#size-change-input').val(size);
    $('#size-change-input2').val(size);
  }
  $('#size-change-input').on('input propertychange', function(e) {
    const size = e.target.value;
    setSizeChangeInputValue(size);
  });
  $('#size-change-input2').on('input propertychange', function(e) {
    const size = e.target.value;
    setSizeChangeInputValue(size);
  });
});
</script><script>hljs.initHighlightingOnLoad();</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/btcstudy">Twitter</a><!-- Github--><!-- Ins--><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml">rss</a><!-- 知乎--><!-- 领英--><!-- 脸书--><!-- Telegram--><a title="telegram" target="_blank" rel="noopener nofollow" href="//t.me/btcstudyorg">Telegram</a></section></footer><script async src="/js/buttons.js?v=1675068529853"></script><script async src="/js/index.js?v=1675068529853"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-JVCJ9XXG1Z');</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306";
  hm.async = true;
  hm.defer = true;
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
  </script></body></html>