<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>隔离见证的好处</title><meta name="keywords" content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name="description" content="比特币思想的中文集结地"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css?v=1675433295101"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/style/common/iconfont.css?v=1675433295101"><link rel="stylesheet" href="/style/base.css?v=1675433295101"><link rel="stylesheet" href="/style/common/helper.css?v=1675433295101"><link rel="stylesheet" href="/style/themes/animation.css?v=1675433295101"><script>function ready() {
  var bodyEl = document.querySelector('.body-container');
  var theme = localStorage.getItem('theme') || 'light';
  if (!['light', 'dark'].includes(theme)) {
    theme = 'light';
    localStorage.setItem('theme', 'light');
  }
  bodyEl.classList.remove('appearance-auto');
  bodyEl.classList.add('appearance-' + theme);
  quickInitialTheme();
}
function quickInitialTheme() {
  var theme = localStorage.getItem('theme') || 'light';
  var logoLightEl = document.querySelector('.logo-light');
  var logoDarkEl = document.querySelector('.logo-dark');
  
  var mLogoLightEl = document.querySelector('#mobile-header-logo > .logo-light');
  var mLogoDarkEl = document.querySelector('#mobile-header-logo > .logo-dark');
  var themeBtnEl = document.getElementById('theme-btn');
  
  var slideThemeLightEl = document.querySelector('.slide-theme-light');
  var slideThemeDarkEl = document.querySelector('.slide-theme-dark');
  
  document.body.classList.add(theme);
  if (theme === 'dark') {
    logoLightEl.classList.add('hidden');
    logoDarkEl.classList.remove('hidden');
    
    mLogoLightEl.classList.add('hidden');
    mLogoDarkEl.classList.remove('hidden');
    
    themeBtnEl.classList.remove('icon-icon_dark');
    themeBtnEl.classList.add('icon-icon_light');
    
    slideThemeLightEl.classList.remove('hidden');
  } else {
    slideThemeDarkEl.classList.remove('hidden');
  }
}
document.addEventListener("DOMContentLoaded", ready);</script><script src="/js/common.js?v=1675433295101"></script><script src="/js/libs/zepto.min.js"></script><link rel="stylesheet" href="/style/post.css?v=1675433295102"><link rel="stylesheet" href="/style/themes/highlight.css?v=1675433295102"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="BTC Study" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column" onload="initialTheme()"><div class="clip"></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id="header"><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href="/"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id="header-menu"><a class="is-inline-block header-activity mr-4" href="/">首页</a><a class="is-inline-block mr-4" href="/archives">全站目录</a><a class="is-inline-block mr-4" href="/tags">标签</a><a class="is-inline-block mr-4" href="/maps">地图</a><a class="is-inline-block mr-4" href="/mempool">mempool</a><a class="is-inline-block mr-4" target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input" type="range" min="12" max="32" step="2"></div></div></div><i class="iconfont icon-icon_dark mr-1" id="theme-btn"></i><div class="search-wrap"><input class="pl-3" id="search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search" id="search-input-btn"></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">隔离见证的好处</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn2"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input2" type="range" min="12" max="32" step="2"></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id="mobile-header"><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id="mobile-header-logo"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopicMobile"><p class="is-full-height">隔离见证的好处</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class="mobile-search-wrap"><div class="search-input"><input class="pl-3" id="mobile-search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class="mobile-search-input-btn">搜 索</button></div></div></header><div class="mobile-slide-menu"><a class="header-activity" href="/">首页</a><a href="/archives">全站目录</a><a href="/tags">标签</a><a href="/maps">地图</a><a href="/mempool">mempool</a><a target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class="slide-menu-fontsize"><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1675433295102"> </script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E5%A4%8D%E7%86%94%E8%9E%8D%E6%80%A7%E9%97%AE%E9%A2%98"><span class="toc-text">修复熔融性问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E6%94%B6%E7%9B%8A%EF%BC%9F"><span class="toc-text">谁能收益？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF"><span class="toc-text">更多信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sighash-%E6%93%8D%E4%BD%9C%E7%9A%84%E7%BA%BF%E6%80%A7%E5%A2%9E%E9%95%BF"><span class="toc-text">Sighash 操作的线性增长</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E5%8F%97%E7%9B%8A%EF%BC%9F"><span class="toc-text">谁能受益？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF-1"><span class="toc-text">更多信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BA%E9%80%9A%E8%BF%87-P2SH-%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%A4%9A%E7%AD%BE%E5%90%8D%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-text">增强通过 P2SH 实现的多签名的安全性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E5%8F%97%E7%9B%8A%EF%BC%9F-1"><span class="toc-text">谁能受益？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF-2"><span class="toc-text">更多信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="toc-text">脚本的版本控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E5%8F%97%E7%9B%8A%EF%BC%9F-2"><span class="toc-text">谁能受益？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8A%E5%87%8F-UTXO-%E7%9A%84%E5%A2%9E%E9%95%BF%E7%8E%87"><span class="toc-text">削减 UTXO 的增长率</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E5%8F%97%E7%9B%8A%EF%BC%9F-3"><span class="toc-text">谁能受益？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF-3"><span class="toc-text">更多信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E4%B8%8D%E9%AA%8C%E8%AF%81%E7%AD%BE%E5%90%8D%E6%97%B6%EF%BC%8C%E6%95%88%E7%8E%87%E4%BC%9A%E6%8F%90%E9%AB%98"><span class="toc-text">在不验证签名时，效率会提高</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E5%8F%97%E7%9B%8A%EF%BC%9F-4"><span class="toc-text">谁能受益？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97-%E5%AE%B9%E9%87%8F-x2F-%E4%BD%93%E7%A7%AF-%E6%8F%90%E5%8D%87"><span class="toc-text">区块 容量&#x2F;体积 提升</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E5%8F%97%E7%9B%8A%EF%BC%9F-5"><span class="toc-text">谁能受益？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E5%90%91%E4%B8%80%E4%B8%AA%E7%BB%BC%E5%90%88%E7%9A%84%E5%8C%BA%E5%9D%97%E9%99%90%E5%88%B6"><span class="toc-text">通向一个综合的区块限制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E8%83%BD%E5%8F%97%E7%9B%8A%EF%BC%9F-6"><span class="toc-text">谁能受益？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF-4"><span class="toc-text">更多信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2016-10-19-%E6%9B%B4%E6%96%B0"><span class="toc-text">2016-10-19 更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2020-06-23-%E6%9B%B4%E6%96%B0"><span class="toc-text">2020-06-23 更新</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id="postTitle">隔离见证的好处</h1><div class="page-author"><div class="is-flex is-flex-direction-row page-data mr-6"><img class="mr-1" src="//res.btcstudy.org/btcstudy/images/default_avatar.png" alt="Bitcoin Core"><div class="page-author-info"><strong>Bitcoin Core</strong><time class="has-text-grey" datetime="2022-10-07T17:35:02.000Z">2022-10-08</time></div></div><div class="is-flex"><a href="/tags/%E9%9A%94%E7%A6%BB%E8%A7%81%E8%AF%81"><i class="page-tag mr-1 px-1">隔离见证<!-- 订正图片路径--></i></a></div></div><article class="mt-4 post-content"><blockquote>
<p><em>作者：Bitcoin Core</em></p>
<p><em>来源：<a target="_blank" rel="noopener" href="https://bitcoincore.org/en/2016/01/26/segwit-benefits/">https://bitcoincore.org/en/2016/01/26/segwit-benefits/</a></em></p>
<p><em>原文出版于 2016 年 1 月 26 日。</em></p>
</blockquote>
<p>“隔离见证（Segregated Witness）” 软分叉包含了许多特性，其中大部分都是纯粹技术性的。本文总结了这些特性可以带来的一些好处。</p>
<h2 id="修复熔融性问题"><a href="#修复熔融性问题" class="headerlink" title="修复熔融性问题"></a>修复熔融性问题</h2><p>比特币交易是用 64 位的十六进制哈希值来标记的，这个哈希值称为 “交易标识符（txid）”，既取决于被花费的资金，也取决于接下来谁能花费这笔交易的结果。</p>
<p>不幸的是，计算 txid 的方式使得任何人都可以稍微改动交易、在不改变交易的含义的同时改变交易的标识符。这个叫 “第三方熔融性（third-party malleability）”。BIP62 （“熔融性处理措施”）尝试从细节上解决这个问题，但作为一项共识检查，实现起来过于复杂，因此已经被撤回了。</p>
<p>举个例子，当你把一笔 txid 为 “ef74…c309” 的交易发送到网络中之后，一个第三方（比如网络中转发你的交易的一个节点，或者是尝试在区块中打包你的交易的矿工）可以稍微修改你的交易，结果是修改后的交易依然花费相同的资金并支付给相同的地址，但在确认时却使用截然不同的 txid “683f…8bfa”。</p>
<p>更一般地来说，如果一笔交易的一个乃至多个签名者修改了他们的交易，这笔交易将依然有效，而且会支付相同的数额到相同的地址，但 txid 会完全改变，因为它也包含了签名（译者注：在计算 txid 时，是是连签名也包含了进去的）。改变签名数据（但不改变输出和输入的选择）从而修改交易的一般情形，叫做 “脚本签名熔融性”。</p>
<p>隔离见证允许用户将交易可熔融的部分移到 “交易见证数据（transaction witness）” 并使之与交易的主体隔离开来，这样见证数据的改变就不会影响 txid 的计算，这就解决了脚本签名熔融性。</p>
<h3 id="谁能收益？"><a href="#谁能收益？" class="headerlink" title="谁能收益？"></a>谁能收益？</h3><ul>
<li><strong>跟踪被花费的比特币的钱包</strong>：跟踪你的转账的状态将变得更加容易，只需通过 txid 来监控区块链即可。但如果交易可以被第三方熔铸，钱包就必须实现额外的代码，来处理 txid 变化的情形。</li>
<li><strong>希望花费未确认交易的用户</strong>：如果 Alice 在交易 001 中给 Bob 支付了，而 Bob 又要使用 001 的结果在交易 002 中给 Charlie 支付，那么，Alice 的支付被熔铸会使交易 002 作废，Charlie 就得不到支付了。如果 Bob 是值得信赖的人，那么他会给 Charlie 重新发起一笔支付；但如果他不是，他就可以抵赖。</li>
<li><strong>闪电网络</strong>：修复了第三方熔融性和脚本签名熔融性，闪电网络实现起来就不必那么复杂，而且在区块空间的利用效率上可以高效很多。移除了脚本签名熔融性之后，把区块链监控任务外包出去的闪电网络轻节点也成为了可能，不必非得运行比特币全节点才能运行闪电网络客户端。</li>
<li><strong>使用区块链的任何人</strong>：当前的智能合约（比如微支付的通道），以及人们期待的新型智能合约，在设计、理解和监控上都会更加简单。</li>
</ul>
<p>注意：只有所有输入都使用隔离见证输出的交易才能避免熔融性（可以是直接的隔离见证输出，也可以是向后兼容的、使用 P2SH 封装的隔离见证输出）。</p>
<h3 id="更多信息"><a href="#更多信息" class="headerlink" title="更多信息"></a>更多信息</h3><ul>
<li><a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Transaction_Malleability">Bitcoin Wiki·交易熔融性</a></li>
<li><a target="_blank" rel="noopener" href="http://cointelegraph.com/news/115374/the-ongoing-bitcoin-malleability-attack">Coin Telegraph：论熔融性攻击（2015）</a></li>
<li><a target="_blank" rel="noopener" href="https://bitcoinmagazine.com/articles/the-who-what-why-and-how-of-the-ongoing-transaction-malleability-attack-1444253640">Bitcoin Magazine：论熔融性攻击（2015）</a></li>
<li><a target="_blank" rel="noopener" href="http://diyhpl.us/wiki/transcripts/scalingbitcoin/hong-kong/overview-of-bips-necessary-for-lightning/">“概述闪电网络必需的 BIP”</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0062.mediawiki">BIP 62</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0140.mediawiki">BIP 140 – 修复熔融性的另一种方法</a></li>
<li><a target="_blank" rel="noopener" href="http://bitcoin.stackexchange.com/questions/22051/transaction-malleability-in-the-blockchain/22058#22058">关于 683f…8bfa 交易的 stack exchange 问答</a></li>
</ul>
<h2 id="Sighash-操作的线性增长"><a href="#Sighash-操作的线性增长" class="headerlink" title="Sighash 操作的线性增长"></a>Sighash 操作的线性增长</h2><p>直接扩大比特币区块的简单办法面临一个重大问题：对特定类型的交易，签名的哈希计算操作是以平方级增长的，而不是线性增长的。</p>
<p><img src="//res.btcstudy.org/btcstudy/images/segregated-witness-benefits/d-scale.png" alt="Linear versus quadratic"></p>
<p>实际上，如果一笔交易的体积翻倍，那么签名操作的次数可能会翻倍，为了验证这些签名而需要运行哈希计算的数据量也会翻倍。这在现实中也出现过，一个区块一般需要 25 秒来验证，但一笔恶意构造的交易可能需要超过 3 分钟来验证。</p>
<p>隔离见证通过改变签名所需的交易哈希值的计算方式来解决这个问题：一笔交易的每个字节最多只需要哈希两次。这样做以更高的效率提供了相同的功能，：生成更大型的交易时，不会产生签名哈希操作的问题，即使是恶意构造的交易、支持更大的区块（因此支持更大体积的交易）也不用担心。</p>
<h3 id="谁能受益？"><a href="#谁能受益？" class="headerlink" title="谁能受益？"></a>谁能受益？</h3><p>移除签名验证时候被哈希的数据以平方级增长的问题，让区块的体积可以安全地提高。扩大区块而不限制交易的体积，让比特币可以继续支持来自和发往大群体的支付，例如挖矿交易的支付和众筹服务的支付。</p>
<p>修改后的哈希算法只应用在对见证数据发起的签名操作上，所以放在区块主体中的签名操作可以使用更低的限额。</p>
<h3 id="更多信息-1"><a href="#更多信息-1" class="headerlink" title="更多信息"></a>更多信息</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0143.mediawiki">BIP 143</a></li>
<li><a target="_blank" rel="noopener" href="http://rusty.ozlabs.org/?p=522">Rusty Russell 讲解一笔需要 25 秒来验证的交易</a></li>
<li><a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Common_Vulnerabilities_and_Exposures#CVE-2013-2292">CVE 2013-2292 on Bitcoin wiki</a></li>
<li><a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-July/009494.html">限制交易体积为 100kB 的提议</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/bitcoinclassic/bitcoinclassic/commit/842dc24b23ad9551c67672660c4cba882c4c840a">Bitcoin Classic 0.11.2 分支的代码增加了对 sighash 字节的共识限制</a></li>
</ul>
<h2 id="增强通过-P2SH-实现的多签名的安全性"><a href="#增强通过-P2SH-实现的多签名的安全性" class="headerlink" title="增强通过 P2SH 实现的多签名的安全性"></a>增强通过 P2SH 实现的多签名的安全性</h2><p>当前使用 P2SH 的多签名支付是以 160 比特的 HASH160 算法（SHA256 算法叠加 RIPEMD 算法）来保护的。但是，假如某一个签名者希望偷走所有的资金，TA 可以找出一对会哈希碰撞的脚本原像：一个是这个多签名脚本的有效地址，另一个是会给 TA 支付所有资金的脚本；只需要 80 比特（2<sup>80</sup>）的暴力搜索即可，这在一个资源极为丰富的攻击者那里已经是可以企及的数量级了。（作为参考，以稳定的每秒做 10<sup>18</sup> 次哈希运算的速率计，比特币的挖矿网络每两周就能完成 80 比特的暴力搜索）</p>
<p>而隔离见证只会在给单个公钥的支付中使用 HASH160（这种攻击在这里是没有用的），而在支付给脚本哈希值时使用 256 位的 SHA256 哈希值。</p>
<h3 id="谁能受益？-1"><a href="#谁能受益？-1" class="headerlink" title="谁能受益？"></a>谁能受益？</h3><p>任何给多签名输出和智能合约支付的人，都能从脚本的额外安全性中受益。</p>
<h3 id="更多信息-2"><a href="#更多信息-2" class="headerlink" title="更多信息"></a>更多信息</h3><ul>
<li><a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-January/012198.html">Gavin Andresen 提问 80 比特的攻击是否值得担心</a></li>
<li><a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-January/012202.html">Ethan Heilman 介绍了一种循环搜索算法</a></li>
<li><a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-January/012227.html">Rusty Russell 计算了执行一次攻击的成本</a></li>
<li><a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-January/012218.html">Anthony Towns 应用循环搜索算法爆破了一些交易</a></li>
<li><a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-January/012234.html">Gavin Andresen 总结了上述内容</a></li>
</ul>
<h2 id="脚本的版本控制"><a href="#脚本的版本控制" class="headerlink" title="脚本的版本控制"></a>脚本的版本控制</h2><p>改变比特币的脚本允许我们实现更强的安全性和功能性。但是，脚本的设计仅允许我们实现向后兼容的变更（软分叉），办法是将 10 个额外的 OP_NOP 操作码之一替换成可以条件式使脚本执行失败的新操作码，而不替换的 OP_NOP 在执行时是什么也不做的。这对许多的变更来说已经足够了 —— 例如引入一种新的签名方法，或者一种新的特性如 OP_CLTV —— 但既有些怪异（例如，OP_CLTV 必须接上一个 OP_DROP 才能使用），也无法用来启用简单到把两个字符串拼在一起这样的功能。</p>
<p>隔离见证为脚本引入了一个版本号，解决了这个问题：非隔离见证时代需要需要硬分叉才能使用的额外操作码，现在只需增加一个脚本版本就可以支持。</p>
<h3 id="谁能受益？-2"><a href="#谁能受益？-2" class="headerlink" title="谁能受益？"></a>谁能受益？</h3><p>更容易就能改变脚本操作码，让比特币可以更容易实现更加高级的脚本编程手段，包括像引入 Schnorr 签名、使用密钥恢复来压缩签名体积、支持侧链、使用默克尔抽象语法树（MAST）创建更加智能的合约这样的变更，也包括其它还在研究阶段的想法。</p>
<h2 id="削减-UTXO-的增长率"><a href="#削减-UTXO-的增长率" class="headerlink" title="削减 UTXO 的增长率"></a>削减 UTXO 的增长率</h2><p>每个参加比特币共识验证的比特币节点都维护着一个未花费的交易输出（UTXO）数据库，以确定收到的一笔新交易是有效的还是错误的。为了网络的高效运行，这个数据库必须能够快速地查询和修改，而且最好能够放在内存（RAM）中，所以保证数据库的体积尽可能小是有价值的。</p>
<p>但是，随着比特币的成长，这一点会变得更难，因为每一个新用户都拥有至少一个 UTXO，而且会倾向于拥有多个 UTXO 以提升隐私性以及灵活性，或者为支付通道和其它智能合约提供支持。</p>
<p>隔离见证改善了这种处境，因为它使得签名数据（不会影响 UTXO 集的体积）相比于会影响 UTXO 集体积的数据，在征收手续费时可以获得 75% 的折扣。人们预期这会鼓励用户偏向使用对 UTXO 集的影响尽可能小的交易，以便尽可能降低手续费，并鼓励开发者在设计智能合约和新特性时尽可能降低对 UTXO 集的影响。</p>
<p>因为隔离见证是一种软分叉，而且不会增加区块主体的体积，在最差的情形下，UTXO 集的增长率会保持不变。（译者注：最差的情形应指隔离见证无人使用的情形。）</p>
<h3 id="谁能受益？-3"><a href="#谁能受益？-3" class="headerlink" title="谁能受益？"></a>谁能受益？</h3><p>削减 UTXO 的增长率将有利于矿工、企业家和运行全节点的用户，他们可以在更多用户进入比特币系统时帮助维持比特币网络当前的安全性。帮助尽可能降低 UTXO 集增长率的用户和开发者可以从更低的手续费中受益（而无视自己的交易对 UTXO 集增长率影响的用户则不能）。</p>
<h3 id="更多信息-3"><a href="#更多信息-3" class="headerlink" title="更多信息"></a>更多信息</h3><ul>
<li><a target="_blank" rel="noopener" href="http://statoshi.info/dashboard/db/unspent-transaction-output-set">Statoshi UTXO dashboard</a></li>
</ul>
<h2 id="在不验证签名时，效率会提高"><a href="#在不验证签名时，效率会提高" class="headerlink" title="在不验证签名时，效率会提高"></a>在不验证签名时，效率会提高</h2><p>历史交易的签名跟未来交易的签名相比可能不是那么有意义 —— 举个例子，Bitcoin Core 默认不会检查早于最近的检查点的交易的签名，而一些 SPV 客户端完全不检查任何签名，直接相信这些签名已经被矿工和其他节点检查过了。但是，当前，签名数据是一笔交易的组成部分，必须有才能计算交易的哈希值。</p>
<p>将签名数据隔离开来，使得对签名数据不感兴趣的节点可以将签名数据从硬盘中删除，甚至一开始就不下载签名数据，从而节约资源。</p>
<h3 id="谁能受益？-4"><a href="#谁能受益？-4" class="headerlink" title="谁能受益？"></a>谁能受益？</h3><p>随着更多交易使用隔离见证地址，运行剪枝节点或 SPV 节点的用户将能使用更少的带宽和硬盘空间来运行节点。</p>
<h2 id="区块-容量-x2F-体积-提升"><a href="#区块-容量-x2F-体积-提升" class="headerlink" title="区块 容量&#x2F;体积 提升"></a>区块 容量&#x2F;体积 提升</h2><p>因为旧的节点只会下载剔除了见证数据的区块，所以只会对这些数据执行 1 MB 的区块体积限制。新的节点，将理解带有见证数据的完整区块，因此能够自由使用新的规则来代替这个限制，从而允许区块体积扩大。因此，隔离见证利用了这个机会，将区块体积的限制提高到了接近 4 MB，并添加了新的开销限制，以保证区块在资源使用上保持平衡（实际上，这样的结果是一个接近 1.6 MB 到 2 MB 的体积限制）。</p>
<h2 id="谁能受益？-5"><a href="#谁能受益？-5" class="headerlink" title="谁能受益？"></a>谁能受益？</h2><p>运行升级后的钱包的用户将能把签名移到交易的见证数据字段中，从而利用扩大的区块空间。</p>
<h2 id="通向一个综合的区块限制"><a href="#通向一个综合的区块限制" class="headerlink" title="通向一个综合的区块限制"></a>通向一个综合的区块限制</h2><p>当前的共识有两种施加在区块体积上的限制：区块体积不能超过 1 MB，以及，单个区块内的所有交易的签名检查总数不能超过 20000 次（两者是相互独立的）。</p>
<p>如果只有一个限制，那么找出可以打包在一个区块内的最有利可图的交易组合就是背包问题（knapsack problem）的一个案例，可以容易地使用一套简单的贪婪算法接近完美地解决。但是，加入第二个约束，就会在某些情况下让问题变得非常难解，而且在现实中，人们已经发现这个理论上的问题会迫使矿工挖掘远低于允许容量的区块。</p>
<p>想要解决这个问题，要么需要一次硬分叉，要么需要可持续地降低区块大小。因为隔离见证无法解决这个问题，它只能落脚在不会让情况变得更糟：尤其是，隔离见证没有为隔离出来的见证数据使用一个独立的限制，相反，它为 UTXO 数据和见证数据的加权总和施加了一种限制，让两者作为一个合并的整体同时受到限制。</p>
<h3 id="谁能受益？-6"><a href="#谁能受益？-6" class="headerlink" title="谁能受益？"></a>谁能受益？</h3><p>最终来说，如果未来有一次硬分叉能改变区块容量的限制，变成各种参数的单一加权总和，那么矿工将受益。例如：</p>
<pre><code>50*sigops + 4*basedata + 1*witnessdata &lt; 10M
</code></pre>
<p>这样一来，矿工将很容易准确地填满区块同时最大化手续费收入，而且用户也将受益，因为他们可以为需要挖出的交易更可靠地计算合理的手续费。</p>
<h3 id="更多信息-4"><a href="#更多信息-4" class="headerlink" title="更多信息"></a>更多信息</h3><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Knapsack_problem">背包问题</a></li>
<li><a target="_blank" rel="noopener" href="https://bitcointalk.org/index.php?topic=1166928.0;all">2015 年 8 月在 bitcointalk 论坛上关于 Sigop 攻击的讨论</a></li>
<li><a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-December/011870.html">Gregory Maxwell 在 bitcoin-dev 邮件组中讨论对见证数据的限制</a></li>
<li><a target="_blank" rel="noopener" href="http://diyhpl.us/wiki/transcripts/scalingbitcoin/hong-kong/validation-cost-metric/">“验证成本度量” 抄本</a></li>
</ul>
<h2 id="2016-10-19-更新"><a href="#2016-10-19-更新" class="headerlink" title="2016-10-19 更新"></a>2016-10-19 更新</h2><p>本文的早期版本列出了 “致密的欺诈证明” 作为隔离见证的一种好处。但是，在最终实现的版本中，隔离见证没有让这种技术变得更加容易：无论有没有隔离见证，都需要未来的一次软分叉来启用致密的欺诈证明并获得相应的好处，而且，也将需要在区块中为之安排专门的承诺（例如，放在 coinbase 交易中），而不能延伸隔离见证所用的承诺数据。</p>
<p>早期版本的原文为：</p>
<blockquote>
<p><strong>致密的欺诈证明</strong></p>
<p>随着比特币用户基数的扩大，验证整个区块链自然会变得更加昂贵。为了保持比特币的去中心化和免信任化特性，让无法验证整条区块链的用户至少能在可以负担的范围内便宜地验证尽可能多的交易，就变得很重要。</p>
<p>隔离见证通过允许未来的软分叉延伸见证数据的结构以包含承诺数据，改善了我们的处境。它将允许轻客户端（SPV 节点）执行一些共识规则，例如一个区块内产生的比特币的数量，区块的体积，以及一个区块所用的签名检查操作的数量。</p>
<p><strong>谁能受益？</strong></p>
<p>欺诈证明让 SPV 用户可以帮助执行比特币的共识规则，这有可能会大幅提升比特币网络在整体上的安全性，同时减少个人用户被攻击的可能性。</p>
<p>在未来的软分叉中，这些欺诈证明可以添加到见证数据结构中，然后帮助 SPV 客户端实施对交易的共识规则，甚至不使用隔离见证特性的交易也不能例外。</p>
</blockquote>
<h2 id="2020-06-23-更新"><a href="#2020-06-23-更新" class="headerlink" title="2020-06-23 更新"></a>2020-06-23 更新</h2><p>本文的早期版本将 “签名输入的值”  作为隔离见证的一种好处。但是，在最终实现的版本中，隔离见证没有让它变得安全：无论有没有隔离见证，未来都需要一次软分叉，来时被签名的输入值变得可以依赖。</p>
<p>因为每个输入的值都是被单独签名的，所以表面上的手续费依然可以通过欺骗的方式操纵。（CVE-2020-14199）</p>
<p>（译者注：如果我没有搞错的话，这个问题在隔离见证的后继者 —— taproot 软分叉 —— 中已经修复了。）</p>
<p>早期版本的原文为：</p>
<blockquote>
<p><strong>签名输入的值</strong></p>
<p>当一个硬件钱包在签名一笔交易时，它可以很容易地验证被花费的总数额，但只有拿到被花费的所有输入的完整拷贝，才能安全地确定手续费；而且必须哈希每一个输入，才能确保它们没有被填充错误的数据。因为单笔交易的体积上限是 1 MB，即使被签名的交易本身非常小，验证输入也并不必然就是一个便宜的操作。</p>
<p>隔离见证通过显式地哈希输入的值，来解决这个问题。这意味着，一个硬件钱包可以直接获得交易的哈希值、索引号和数值（以及被用到的公钥），而且可以安全地签名正在发起的交易，无论被花费的交易有多大、多复杂。</p>
<p><strong>谁能受益？</strong></p>
<p>硬件钱包的制造商和用户是显然的受益方；但是，这也可能会让 “物联网” 应用可以更安全地在嵌入式设备中使用比特币。</p>
<p><strong>更多信息</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0143.mediawiki">BIP 143</a></li>
</ul>
</blockquote>
<p>（完）</p>
</article></div></div></main><script src="/js/post.js?v=1675433295102"></script><script src="/js/highlight.min.js?v=1675433295102"></script><script>var containerEl = document.querySelector('.post-container');
var postFontSize = localStorage.getItem('post-font-size') || '16';
var inputEl = document.querySelector('#size-change-input');
var inputEl2 = document.querySelector('#size-change-input2');
inputEl.value = postFontSize;
inputEl2.value = postFontSize;
containerEl.style.fontSize = postFontSize + 'px';
$(function(){
  function setSizeChangeInputValue(size) {
    $('.post-container').css('font-size', size + 'px');
    localStorage.setItem('post-font-size', size);
    $('#size-change-input').val(size);
    $('#size-change-input2').val(size);
  }
  $('#size-change-input').on('input propertychange', function(e) {
    const size = e.target.value;
    setSizeChangeInputValue(size);
  });
  $('#size-change-input2').on('input propertychange', function(e) {
    const size = e.target.value;
    setSizeChangeInputValue(size);
  });
});
</script><script>hljs.initHighlightingOnLoad();</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/btcstudy">Twitter</a><!-- Github--><!-- Ins--><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml">rss</a><!-- 知乎--><!-- 领英--><!-- 脸书--><!-- Telegram--><a title="telegram" target="_blank" rel="noopener nofollow" href="//t.me/btcstudyorg">Telegram</a></section></footer><script async src="/js/buttons.js?v=1675433295102"></script><script async src="/js/index.js?v=1675433295102"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-JVCJ9XXG1Z');</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306";
  hm.async = true;
  hm.defer = true;
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
  </script></body></html>