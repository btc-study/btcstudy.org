<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>Bitcoin Optech 周报 204 期：闪电网络开发者会议总结</title><meta name="keywords" content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name="description" content="比特币思想的中文集结地"><meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css?v=1673504754387"><link rel="preload" as="style" onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1673504754387"><link rel="stylesheet" href="/style/base.css?v=1673504754387"><link rel="stylesheet" href="/style/common/helper.css?v=1673504754387"><link rel="stylesheet" href="/style/themes/animation.css?v=1673504754387"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1673504754387"></script><script src="/js/libs/zepto.min.js"></script><link rel="stylesheet" href="/style/post.css?v=1673504754387"><link rel="stylesheet" href="/style/themes/highlight.css?v=1673504754387"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="BTC Study" type="application/atom+xml"></head><body class="is-flex is-flex-direction-column" onload="initialTheme()"><div class="clip"></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id="header"><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href="/"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id="header-menu"><a class="is-inline-block header-activity mr-4" href="/">首页</a><a class="is-inline-block mr-4" href="/archives">全站目录</a><a class="is-inline-block mr-4" href="/tags">标签</a><a class="is-inline-block mr-4" href="/maps">地图</a><a class="is-inline-block mr-4" href="/mempool">mempool</a><a class="is-inline-block mr-4" target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input" type="range" min="12" max="32" step="2"></div></div></div><i class="iconfont icon-icon_dark mr-1" id="theme-btn"></i><div class="search-wrap"><input class="pl-3" id="search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search" id="search-input-btn"></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Bitcoin Optech 周报 204 期：闪电网络开发者会议总结</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn2"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input2" type="range" min="12" max="32" step="2"></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id="mobile-header"><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id="mobile-header-logo"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopicMobile"><p class="is-full-height">Bitcoin Optech 周报 204 期：闪电网络开发者会议总结</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class="mobile-search-wrap"><div class="search-input"><input class="pl-3" id="mobile-search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class="mobile-search-input-btn">搜 索</button></div></div></header><div class="mobile-slide-menu"><a class="header-activity" href="/">首页</a><a href="/archives">全站目录</a><a href="/tags">标签</a><a href="/maps">地图</a><a href="/mempool">mempool</a><a target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class="slide-menu-fontsize"><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1673504754387"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E9%97%BB"><span class="toc-text">新闻</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E7%89%88%E6%9C%AC%E5%92%8C%E5%80%99%E9%80%89%E7%89%88%E6%9C%AC"><span class="toc-text">新版本和候选版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%A4%A7%E7%9A%84%E4%BB%A3%E7%A0%81%E5%92%8C%E6%96%87%E7%8C%AE%E5%8F%98%E6%9B%B4"><span class="toc-text">重大的代码和文献变更</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id="postTitle">Bitcoin Optech 周报 204 期：闪电网络开发者会议总结</h1><div class="page-author"><div class="is-flex is-flex-direction-row page-data mr-6"><img class="mr-1" src="//res.btcstudy.org/btcstudy/images/default_avatar.png" alt="Bitcoin Optech"><div class="page-author-info"><strong>Bitcoin Optech</strong><time class="has-text-grey" datetime="2022-06-20T16:08:27.000Z">2022-06-21</time></div></div><div class="is-flex"><a href="/tags/%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C"><i class="page-tag mr-1 px-1">闪电网络</i></a><a href="/tags/%E5%BC%80%E5%8F%91"><i class="page-tag mr-1 px-1">开发</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Bitcoin Optech</em></p><p><em>来源：<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2022/06/15/">https://bitcoinops.org/en/newsletters/2022/06/15/</a></em></p></blockquote><p>本周的周报总结了关于在比特币点对点网络中支持交易包转发的讨论，分享了一份来自最近的闪电网络开发者会议的总结，还介绍了一种关于闪电网络上的花费者和路由节点如何能以互惠的方式优化可靠性并降低手续费的论述。此外还有我们的常规栏目：软件的新版本和候选版本总结、热门的比特币基础设施软件的重大变更。</p><h2 id="新闻"><a href="#新闻" class="headerlink" title="新闻"></a>新闻</h2><ul><li><p><strong>关于交易包转发升级提议的持续讨论</strong>：近期的一份关于<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/package-relay/">交易包转发</a> 的 BIP 草案（见<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2022/05/25/#package-relay-proposal">周报 #201</a>）在过去几周了收到了附加性的评论：</p><ul><li><em>用法局限性</em>：Anthony Towns <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-May/020496.html">询问</a> 支持交易包转发的两个对等节点间的沟通，是否应该说明各自支持的交易包体积上限和深度上限，不然使用非默认设定的节点将重复收到关于自己不想要的交易包的提醒，浪费带宽。该 BIP 的作者 Gloria Zhao <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-May/020512.html">说明</a>：第一个版本的交易包转发协议应该会使用 25 笔交易和 101,000 vbyte 的体积限制。</li><li><em>仅宣布交易包的图谱</em>：Eirc Voskuil <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-May/020518.html">再次评论</a>道，如果一个节点知道了某笔低费率祖先交易的高手续费后代，应该可以直接通知其对等节点这两笔交易的关系，也就是 “交易图谱”。收到通知的节点可以请求任何本地没有的交易。在这个帖子的一个单独部分中，Towns <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-May/020520.html">指出</a>：除非收集到相关的所有交易，否则交易图是无法验证的，所以还必须保证一个节点无法通过谎报交易图来阻止某一笔交易被转发。</li><li><em>使用短标识符</em>：多个开发者建议使用 [BIP152][] 形式的短标识符（short ids）。Zhao <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020539.html">解释道</a>：短标识符对区块转发是有用的，因为节点会首先验证新区块的工作量证明（这是难以创造的），所以攻击者想通过这个机制来消耗节点资源的成本是非常高的。但是，如果转发的是很容易创造的数据，短标识符就有可能被不断滥用，变成一种拒绝服务式攻击。</li><li><em>不标准的祖先交易</em>：Suhas Daftuar <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020542.html">介绍</a>了一种情景，在此情景中实现了交易包转发的节点可能会不断重复请求相同的数据。如果转发方法在较旧的节点和较新的节点中不同（比如发生了软分叉），这种情景尤为可能出现。</li><li><em>区块哈希信标的挑战</em>：Daftuar 还指出，这套协议的一个特性可能会给其他软件制造麻烦。当前的 BIP 草案规定了节点在宣布交易包时需要附带本地区块链最新区块的哈希值。这使得接收的节点可以忽略掉很久以前的交易包（以及另一条链上的交易包），因为这些交易包跟接收节点当下的交易池可能没关系了。但是，Daftuar 指出，可能许多用来发送交易的软件 —— 也是最终可能用来发送交易包的软件 —— 并不跟踪当前区块链的最新区块哈希值。</li></ul></li><li><p><strong>闪电网络开发者会议的总结</strong>：Olaoluwa Osuntokun 提供了一份关于上周奥克兰（Oakland）闪电网络开发者会议的<a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-June/003600.html">详细总结</a>。其中的主题包括：</p><ul><li><p><em>基于 Taproot 的闪电网络通道</em>：参与者讨论了将闪电网络迁移到完全使用 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/taproot/">taproot</a> 特性的第一步。后续步骤有可能加入对 “<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/ptlc/">点时间锁合约（PTLC）</a>” 的支持（见<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2021/09/01/#preparing-for-taproot-11-ln-with-taproot">周报 #164</a>）。</p></li><li><p><em>Tapscript 和 MuSig2</em>：作为迁移到基于 taproot 的通道的一部分，我们需要将现有的脚本转化为能够最高效利用区块空间的 tapscript 脚本。此外，还需要在一切可预期双方会则作行动的地方使用 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/musig/">MuSig2</a> 协议来创建签名。所有这些都需要实现和测试来保证它们的工作情况。</p></li><li><p><em>递归的 MuSig2</em>：简单的 MuSig2 将允许 Alice 和 Bob 一起创建一个签名。递归的 MuSig2 将允许（举个例子）Alice 使用她的热钱包和硬件签名设备生成她的那部分签名，而无需 Bob 执行任何特殊的操作，Bob 也不会知道 Alice 在使用多于一个私钥来签名。现在大家讨论的是如何设计闪电网络对 MuSig2 的用法，来保证可以使用递归的 MuSig2。还讨论了递归 MuSig2 的安全性。</p></li><li><p><em>闪电网络技术基础的插件</em>：另一种说明闪电网络协议规范变化的方法。当前，闪电网络规范的变化是作为一个补丁加入到现有的规范中的。但是，一些开发者倾向于使用 BIP 所用的方法：对协议的重大变更是用一套乃至多套专门说明这些变更的文档作为规范的。这些开发者相信，专门的文档更易于撰写和阅读，因此可以简化和加速开发进度。</p></li><li><p><em>闪电网络消息协议升级</em>：会议还延续了当前对闪电网络 gossip 协议升级的讨论（见<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2022/02/23/#updated-ln-gossip-proposal">周报 #188</a>），这套协议是用来转发关于新通道和通道更新的消息的。根据这份总结，参与者们倾向于在短期内进行微小升级以支持基于 MuSig2 的 taproot 通道，以及将协议升级到完全支持 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2019/07/17/#bolts-607">TLV</a> 语义。</p></li><li><p><em>高效消息协议</em>：如<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2022/05/04/#ln-gossip-rate-limiting">周报 #198</a> 所述，开发者正在研究使用 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/minisketch/">minisketch</a> 来降低节点间同步 LN gossip 的带宽，我们还可凭此进一步降低更新通道的最小时间的间隔。</p></li><li><p><em>洋葱消息拒绝服务式攻击</em>：多个闪电网络实现已经支持<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/onion-messages/">洋葱消息协议</a>，既作为使用 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/spontaneous-payments/">keysend</a> 支付功能来通讯的替代方法，也作为还在提议阶段的 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/offers/">BOLT12 主动支付协议</a>的通信层。但是，如<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2022/03/09/#paying-for-onion-messages">周报#190</a> 所述，一些开发者依然担心洋葱消息无法抵御许多不同类型的拒绝服务式攻击。讨论了多种防止拒绝服务式攻击的方法。</p></li><li><p><em>路径盲化</em>：一种提议了许多年（见<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2020/02/19/#decoy-nodes-and-lightweight-rendez-vous-routing">周报#185</a>）并且现在已经用于洋葱消息的协议也在开展实验，用在常规支付中以允许用户在接收支付时无需公开自己的闪电网络节点的身份。这种方法面临的挑战之一是它要沟通更多的路由信息，所以要使用更大数据量的发票。这可能会让路径盲化的高效实现依赖于更新颖的发票管理协议，比如 BOLT12 主动支付协议或者 <a target="_blank" rel="noopener" href="https://github.com/fiatjaf/lnurl-rfc">LNURL</a>。还讨论了许多别的难点。</p></li><li><p><em>余额打探及共享</em>：当前，使用多种技术，你可以 <em>打探</em> 出网络中某个通道的余额分布。这样的侦测对执行侦测的节点来说是没有成本的，却会对网络的普通用户造成困扰，还会降低隐私性。对专门的 “<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/channel-jamming-attacks/">通道干扰攻击</a>” 的缓解措施也能帮助限制侦测，但当前人们还有疑虑，所以参与者们讨论了一些节点设定上的简单变更，让侦测变得更困难。</p><p>此外，一个之前大家讨论过的思想实验是，把执行侦测的节点可能获取的信息提取出来并主动、免费地分享。要是每一个节点都这样做，带宽要求和隐私降级都会削弱闪电网络的关键优势 —— 但这会让支付路由高效得多。没有人支持这种想法，但之前的一个研究课题讨论了每个节点都只向自己的直接通道对手分享一些可被侦测的信息的想法。有人主张这会极大地提高支付路由的成功率，比如可以增加 “<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/jit-routing/">柔性的通道再平衡（Just-in-time channel rebalancing）</a>” 机制。</p></li><li><p><em>蹦床路由与移动支付</em>：<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/trampoline-payments/">蹦床路由</a>允许一个花费者将寻路的任务外包给网络中的另一个节点，还可以选择性维持闪电网络通常的隐私性，即防止任何中间节点知道花费者和接收者的身份。这种外包对移动端的闪电网络客户端尤其有用，因为它们本身不打算为其他节点路由支付。会议总结中提到，蹦床支付可以跟 <em>一跳保管支付（first hop payment holds）</em>（见<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2021/10/20/#paying-offline-ln-nodes">周报 #171</a>）相结合，后者的意思是支付由花费者的直接通道对手保管，直到接收节点下一次上线，他能允许一个经常离线的手机节点可靠地接收来自其他经常离线的手机节点的支付。</p></li><li><p><em>闪电网络统一资源位置符加闪电网络技术基础十二</em>：闪电网络统一资源位置符（LNURL）协议允许一个节点向一个互联网服务器（webserver）请求一个 [BOLT11][] 发票；而 BOLT12 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/offers/">主动支付</a> 协议允许一个节点向网络中的另一个节点请求发票。围绕这些协议的其它侧面，参与者们讨论了这两个协议如何相互兼容，使得节点可以使用其中一个或同时使用两个。</p></li></ul></li><li><p><strong>使用路由费来说明流动性</strong>：开发者 ZmnSCPxj 在 Lightning-Dev 邮件组中<a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-June/003598.html">发帖</a>，论证了最便宜和可靠的支付如何可以通过花费者和路由节点之间的博弈理论行为来实现：</p><ul><li>花费者要选择路由费更少的路径。</li><li>路由节点要随着通道可用容量的降低而收取更高的手续费。例如：假设一条通道的大部分余额都是 Alice 的，她可以可靠地路由支付给 Bob，因此她不应该收太多手续费；但是，随着更多的余额被支付给了 Bob，Alice 路由更多支付的能力会下降，所以她应该收取更高的手续费。</li></ul><p>ZmnSCPxj 使用供给和需求经济学表述了这套论证 —— 随着一个方向上（比如 Alice 到 Bob）的路由支付需求上升，其它方向上可以路由的资金的供给量自然会下降。提高路由费的价格可以遏制需求量的上升，直到供给量因为人们相反方向（从 Bob 到 Alice）的支付而恢复。</p><p>花费者已经会自然而然（在其它条件都相同时）选择更低的手续费了，所以 ZmnSCPxj 认为，任何路由节点，只要使用了 高供给量/低手续费 和 低供给量/高手续费 的策略，都会自动让通道保持合理的平衡，并且因此能够在其通道存活的时间里处理更多的成功支付（相比不使用这种策略的节点）。因为路由节点只能从成功的支付中得到报酬，所以使用这种策略的节点会更有竞争力。</p><p>这种方法的一个关键好处在于它让花费者的寻路变得非常容易 —— 在容量允许的范围内，只需要通过最便宜的路径来支付即可。缺点则是，在这种策略下，每次路由手续费率的变更都暗示了通道平衡的相应变化，因此会暴露最近通过这个通道来路由的支付的面额。举个例子，如果 Alice→Bob、Bob→Carol 和 Carol→Dan 三条通道的可用容量都下降了 1 BTC，那么你可以合理猜测，Alice 或其通道对手路由了 1 BTC 的支付给 Dan 或者 Dan 的通道对手。还有一个问题是，每次通道的手续费率变更都要 gossip 到整个网络中，这会提高带宽要求，也会导致虚假的路由失败（例如，因为花费者 Sally 不知道 Alice 提高了手续费率，所以试图通过 Alice 跟 Bob 的通道来路由一笔支付，但是使用更旧（也即是更低）的费率，然后 Alice 就拒绝掉了）。</p><p>ZmnSCPxj 介绍了多种缓解措施，有一些是无需改变闪电网络协议就可以在节点上实现的，有些则要求略微改变闪电网络的 gsssip 协议。截至本期周报撰写之时，这些缓解策略还未得到邮件组的任何讨论，虽然 Olaoluwa Osuntokun 在闪电网络开发者会议总结中已经提到了它们（已经由 Optech 在上一段中作了进一步总结）。</p></li></ul><h2 id="新版本和候选版本"><a href="#新版本和候选版本" class="headerlink" title="新版本和候选版本"></a>新版本和候选版本</h2><p><em>热门比特币基础设施项目的新版本和候选版本。请考虑升级到新版本或帮助测试候选版本。</em></p><ul><li><a target="_blank" rel="noopener" href="https://github.com/lightningnetwork/lnd/releases/tag/v0.15.0-beta.rc6">LND 0.15.0-beta.rc6</a> 是这个热面的闪电网络节点实现的下一个大版本的候选版本。</li></ul><h2 id="重大的代码和文献变更"><a href="#重大的代码和文献变更" class="headerlink" title="重大的代码和文献变更"></a>重大的代码和文献变更</h2><p><em>本周出现重大变更的有：<a target="_blank" rel="noopener" href="https://github.com/bitcoin/bitcoin">Bitcoin Core</a>、<a target="_blank" rel="noopener" href="https://github.com/ElementsProject/lightning">Core Lightning</a>、<a target="_blank" rel="noopener" href="https://github.com/ACINQ/eclair">Eclair</a>、<a target="_blank" rel="noopener" href="https://github.com/lightningdevkit/rust-lightning">LDK</a>、<a target="_blank" rel="noopener" href="https://github.com/lightningnetwork/lnd/">LND</a>、<a target="_blank" rel="noopener" href="https://github.com/bitcoin-core/secp256k1">libsecp256k1</a>、<a target="_blank" rel="noopener" href="https://github.com/bitcoin-core/HWI">硬件钱包接口（HWI）</a>、<a target="_blank" rel="noopener" href="https://github.com/rust-bitcoin/rust-bitcoin">Rust Bitcoin</a>、<a target="_blank" rel="noopener" href="https://github.com/btcpayserver/btcpayserver/">BTCPay Server</a>、<a target="_blank" rel="noopener" href="https://github.com/bitcoindevkit/bdk">BDK</a>、<a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/">Bitcoin Improvement Proposals (BIPs)</a> 以及 <a target="_blank" rel="noopener" href="https://github.com/lightning/bolts">Lightning BOLTs</a>。</em></p><ul><li><a target="_blank" rel="noopener" href="https://github.com/bitcoin/bitcoin/issues/24171">Bitcoin Core #24171</a> 该变了初始化区块下载（IBD）的行为，如果没有连向的对等节点（outbound peer）提供区块数据，就向连入的对等节点（inbound peer）请求区块数据。以前，只有在完全没有连向的对等节点时，节点才会向连入的对等节点请求数据。这种行为可能导致节点暂停，因为其连向的对等节点不提供区块数据。此外，一旦连向的对等节点恢复服务，节点依然会变成仅向他们请求区块。</li><li><a target="_blank" rel="noopener" href="https://github.com/bitcoindevkit/bdk/issues/593">BDK #593</a> 开始使用 <a target="_blank" rel="noopener" href="https://github.com/rust-bitcoin/rust-bitcoin">rust bitcoin</a> 0.28，它包含了对 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/taproot/">taproot</a> 和 taproot <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/topics/output-script-descriptors/">输出脚本描述符</a>的支持。</li></ul></article></div></div></main><script src="/js/post.js?v=1673504754387"></script><script src="/js/highlight.min.js?v=1673504754387"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/btcstudy">Twitter</a><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml">rss</a><a title="telegram" target="_blank" rel="noopener nofollow" href="//t.me/btcstudyorg">Telegram</a></section></footer><script async src="/js/buttons.js?v=1673504754387"></script><script async src="/js/index.js?v=1673504754387"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script></body></html>