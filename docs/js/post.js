var $posts={scroller:function(){function e(){return this.callbacks=[],this}return e.prototype.bindScrollEvent=function(){var t=this;window.addEventListener("scroll",function(e){var o=window.pageYOffset;setTimeout(function(){var s={event:e,beforeOffsetY:o};t.callbacks.forEach(function(e){e(s)})},150)})},e},showTopic:function(e){var s=document.body.clientWidth<=768?document.getElementById("postTopicMobile"):document.getElementById("postTopic"),o=document.getElementById("postTitle"),t=document.getElementById("mobile-header-logo"),i=document.getElementById("header-menu"),l=document.getElementById("header"),c=document.getElementById("mobile-header"),d=document.getElementById("postTopicMobile"),n=o.getBoundingClientRect(),o=o.offsetTop+n.height;window.pageYOffset>o?(o=0<(n=e&&e.beforeOffsetY)-window.pageYOffset,s.classList.remove("is-hidden-topic-bar"),s.classList.remove("hidden"),i.classList.add("hidden-menu"),t.classList.add("hidden-menu"),c.classList.add("header-shadow"),l.classList.add("header-shadow"),s.classList.add("immediately-show"),n-window.pageYOffset==0?(s.classList.remove("is-switch-post-title"),s.classList.remove("is-show-post-title"),s.classList.contains("is-show-scrollToTop-tips")?(s.classList.remove("is-show-scrollToTop-tips"),s.classList.add("is-flash-scrollToTop-tips")):d.classList.remove("hidden")):o&&window.pageYOffset>2*window.innerHeight&&(s.classList.remove("immediately-show"),s.classList.remove("is-show-post-title"),s.classList.remove("is-switch-post-title"),s.classList.remove("is-flash-scrollToTop-tips"),s.classList.add("is-show-scrollToTop-tips"),s.classList.add("immediately-show"),d.classList.remove("hidden"))):(s.classList.remove("is-flash-scrollToTop-tips"),s.classList.remove("is-show-scrollToTop-tips"),s.classList.remove("is-switch-post-title"),s.classList.remove("is-show-post-title"),s.classList.remove("immediately-show"),s.classList.add("is-hidden-topic-bar"),s.classList.add("hidden"),i.classList.remove("hidden-menu"),t.classList.remove("hidden-menu"),c.classList.remove("header-shadow"),l.classList.remove("header-shadow"),d.classList.add("hidden"))},catalogueHighlight:function(){var d,n=document.querySelectorAll(".toc a");return 0!==n.length&&(d=document.querySelector(".toc"),function(){for(var s=[],e="is-active",o=(n.forEach(function(e){e.href&&(e=decodeURI(e.href).split("#")[1],s.push(document.getElementById(e)))}),null),t=window.pageYOffset,i=0;i<s.length;i++){var l,c=s[i];c.offsetTop>t+5||((!o||c.offsetTop+10>=o.offsetTop-10)&&(o=c),(c=document.querySelector(".toc ."+e))&&c.classList.remove(e),c='.toc a[href="#'+encodeURI(o.id)+'"]',(c=document.querySelector(c)).classList.add(e),l=d.getBoundingClientRect().height,c.offsetTop>=l-10?d.scrollTo({top:c.offsetTop+100-l}):d.scrollTo({top:0}))}})},smoothScrollToTop:function(){var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;1<e?(window.requestAnimationFrame($posts.smoothScrollToTop),scrollTo(0,Math.floor(.85*e))):scrollTo(0,0)},mounted:function(){var e=new(this.scroller()),s=this.catalogueHighlight();s&&e.callbacks.push(s),e.callbacks.push(this.showTopic),e.bindScrollEvent(),$claudia.fadeInImage(document.querySelectorAll(".post-content img")),document.getElementById("postTopicMobile").addEventListener("click",this.smoothScrollToTop)}};$posts.mounted();