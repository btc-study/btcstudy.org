<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>Taproot 及比特币未来的可能</title><meta name="keywords" content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name="description" content="比特币思想的中文集结地"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css?v=1675838663973"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/style/common/iconfont.css?v=1675838663973"><link rel="stylesheet" href="/style/base.css?v=1675838663973"><link rel="stylesheet" href="/style/common/helper.css?v=1675838663973"><link rel="stylesheet" href="/style/themes/animation.css?v=1675838663973"><script>function ready() {
  var bodyEl = document.querySelector('.body-container');
  var theme = localStorage.getItem('theme') || 'light';
  if (!['light', 'dark'].includes(theme)) {
    theme = 'light';
    localStorage.setItem('theme', 'light');
  }
  bodyEl.classList.remove('appearance-auto');
  bodyEl.classList.add('appearance-' + theme);
  quickInitialTheme();
}
function quickInitialTheme() {
  var theme = localStorage.getItem('theme') || 'light';
  var logoLightEl = document.querySelector('.logo-light');
  var logoDarkEl = document.querySelector('.logo-dark');
  
  var mLogoLightEl = document.querySelector('#mobile-header-logo > .logo-light');
  var mLogoDarkEl = document.querySelector('#mobile-header-logo > .logo-dark');
  var themeBtnEl = document.getElementById('theme-btn');
  
  var slideThemeLightEl = document.querySelector('.slide-theme-light');
  var slideThemeDarkEl = document.querySelector('.slide-theme-dark');
  
  document.body.classList.add(theme);
  if (theme === 'dark') {
    logoLightEl.classList.add('hidden');
    logoDarkEl.classList.remove('hidden');
    
    mLogoLightEl.classList.add('hidden');
    mLogoDarkEl.classList.remove('hidden');
    
    themeBtnEl.classList.remove('icon-icon_dark');
    themeBtnEl.classList.add('icon-icon_light');
    
    slideThemeLightEl.classList.remove('hidden');
  } else {
    slideThemeDarkEl.classList.remove('hidden');
  }
}
document.addEventListener("DOMContentLoaded", ready);</script><script src="/js/common.js?v=1675838663973"></script><script src="/js/libs/zepto.min.js"></script><link rel="stylesheet" href="/style/post.css?v=1675838663973"><link rel="stylesheet" href="/style/themes/highlight.css?v=1675838663973"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="BTC Study" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column" onload="initialTheme()"><div class="clip"></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id="header"><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href="/"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id="header-menu"><a class="is-inline-block header-activity mr-4" href="/">首页</a><a class="is-inline-block mr-4" href="/archives">全站目录</a><a class="is-inline-block mr-4" href="/tags">标签</a><a class="is-inline-block mr-4" href="/maps">地图</a><a class="is-inline-block mr-4" href="/mempool">mempool</a><a class="is-inline-block mr-4" target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input" type="range" min="12" max="32" step="2"></div></div></div><i class="iconfont icon-icon_dark mr-1" id="theme-btn"></i><div class="search-wrap"><input class="pl-3" id="search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search" id="search-input-btn"></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Taproot 及比特币未来的可能</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id="change-size-btn2"></i><div class="size-input-wrap"><div class="input-wrap"><input id="size-change-input2" type="range" min="12" max="32" step="2"></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id="mobile-header"><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id="mobile-header-logo"><svg class="logo-light" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#000000"></path></g></g></g></svg><svg class="logo-dark hidden" width="125px" height="23px" viewBox="0 0 125 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>BTCStudy</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="首页-响应式" transform="translate(-249.000000, -23.000000)" fill-rule="nonzero"><g id="BTCStudy" transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id="BTC" fill="#F2A900"></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id="Study" fill-opacity="0.85" fill="#FFFFFF"></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id="postTopicMobile"><p class="is-full-height">Taproot 及比特币未来的可能</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class="mobile-search-wrap"><div class="search-input"><input class="pl-3" id="mobile-search-input" placeholder="请输入搜索关键词"><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class="mobile-search-input-btn">搜 索</button></div></div></header><div class="mobile-slide-menu"><a class="header-activity" href="/">首页</a><a href="/archives">全站目录</a><a href="/tags">标签</a><a href="/maps">地图</a><a href="/mempool">mempool</a><a target="_blank" rel="noopener" href="https://123btc.org/">123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class="slide-menu-fontsize"><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1675838663973"> </script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Taproot"><span class="toc-text">Taproot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BIP-340-%E2%80%94%E2%80%94-Schnorr-%E7%AD%BE%E5%90%8D"><span class="toc-text">BIP 340 —— Schnorr 签名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BIP-341-%E2%80%94%E2%80%94-Taproot"><span class="toc-text">BIP 341 —— Taproot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BIP-342-%E2%80%94%E2%80%94-Tapscript"><span class="toc-text">BIP 342 —— Tapscript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%9C%A8-Taproot-%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-text">不在 Taproot 中的内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%82%A3%E4%B9%88-Taproot-%E5%8D%87%E7%BA%A7%E5%AF%B9%E6%88%91%E6%9D%A5%E8%AF%B4%E6%9C%89%E4%BB%80%E4%B9%88%E6%84%8F%E4%B9%89%E5%91%A2%EF%BC%9F"><span class="toc-text">那么 Taproot 升级对我来说有什么意义呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%91%E5%8F%AF%E4%BB%A5%E5%88%A9%E7%94%A8-Taproot-%E6%9D%A5%E5%81%9A%E4%BB%80%E4%B9%88%E5%91%A2%EF%BC%9F"><span class="toc-text">我可以利用 Taproot 来做什么呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Schnorr-%E5%92%8C-Taproot-%E4%B8%BA%E4%B8%8B%E5%88%97%E5%88%9B%E6%96%B0%E6%89%93%E5%BC%80%E4%BA%86%E5%A4%A7%E9%97%A8"><span class="toc-text">Schnorr 和 Taproot 为下列创新打开了大门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scriptless-Scripts"><span class="toc-text">Scriptless Scripts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MuSig"><span class="toc-text">MuSig</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E7%AD%BE%E5%90%8D"><span class="toc-text">适配器签名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PTLC%EF%BC%88%E7%82%B9%E6%97%B6%E9%97%B4%E9%94%81%E5%90%88%E7%BA%A6%EF%BC%89"><span class="toc-text">PTLC（点时间锁合约）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DLC"><span class="toc-text">DLC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BIP118-AnyPrevOut"><span class="toc-text">BIP118: AnyPrevOut</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Eltoo"><span class="toc-text">Eltoo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CoinPool"><span class="toc-text">CoinPool</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BIP-119-OP-CTV"><span class="toc-text">BIP 119 OP_CTV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TLUV-%E9%99%90%E5%88%B6%E6%9D%A1%E6%AC%BE%E6%8F%90%E8%AE%AE"><span class="toc-text">TLUV 限制条款提议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Taproot-%E4%B9%8B%E5%A4%96%E7%9A%84%E5%85%B6%E5%AE%83%E5%8F%AF%E8%83%BD%E5%8D%87%E7%BA%A7"><span class="toc-text">Taproot 之外的其它可能升级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Stratum-v2"><span class="toc-text">Stratum v2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Erlay-%E4%B8%8E-BIP330"><span class="toc-text">Erlay 与 BIP330</span></a></li></ol></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id="postTitle">Taproot 及比特币未来的可能</h1><div class="page-author"><div class="is-flex is-flex-direction-row page-data mr-6"><img class="mr-1" src="//res.btcstudy.org/btcstudy/images/default_avatar.png" alt="Raymond Durk"><div class="page-author-info"><strong>Raymond Durk</strong><time class="has-text-grey" datetime="2021-12-30T15:44:48.000Z">2021-12-30</time></div></div><div class="is-flex"><a href="/tags/%E7%94%9F%E6%80%81"><i class="page-tag mr-1 px-1">生态<!-- 订正图片路径--></i></a><a href="/tags/Taproot"><i class="page-tag mr-1 px-1">Taproot<!-- 订正图片路径--></i></a></div></div><article class="mt-4 post-content"><blockquote>
<p><em>作者：Raymond Durk</em></p>
<p><em>来源：<a target="_blank" rel="noopener" href="https://raymonddurk.medium.com/bitcoin-after-taproot-86c93fe5cc0c">https://raymonddurk.medium.com/bitcoin-after-taproot-86c93fe5cc0c</a></em></p>
<p><em>原文撰写于 2021 年 11 月 15 日。</em></p>
</blockquote>
<p>Taproot 是比特币自 2017 年的 “隔离见证（SegWit）” 升级以来的最大升级，已经于昨天晚上激活。虽然从提出到激活花去了许多时间，但这次升级也为其它许多一直在并行开发的创新打开了空间。</p>
<h2 id="Taproot"><a href="#Taproot" class="headerlink" title="Taproot"></a>Taproot</h2><p>Taproot 实际上是自 <a target="_blank" rel="noopener" href="https://bitcointalk.org/index.php?topic=103172.0">2012</a> 以来一直在讨论的三项内容的合集，第一份 BIP 可以追溯到 <a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0114.mediawiki">2016</a> 年。在核心效果上，它略微提升了比特币的可扩展性，提高了部分用户（多签名用户）的隐私性，并使得许多新特性能够在未来的几年中开发出来。</p>
<h2 id="BIP-340-——-Schnorr-签名"><a href="#BIP-340-——-Schnorr-签名" class="headerlink" title="BIP 340 —— Schnorr 签名"></a>BIP 340 —— Schnorr 签名</h2><p>比特币当前正在使用 ECDSA 签名，但将会引入 Schnorr 签名；现在 Schnorr 签名的专利保护已经到期，所以时候已经到了。River 做了一个很棒的按步详解，如下图所示。但简而言之，公钥聚合让多签名（包含闪电网络用户）交易与常规的单签名比特币交易没有区别。这是通过将参与多签名的多个公钥聚合成一个新的组合公钥来实现的。这就意味着，你不再需要展示 3 个公钥中的 2 个（比如 ABC 中的 AB）来签名一笔交易，因为公钥 ABC 就足以代表三者的任意组合（AB、AC 和 BC）。这种节约效果涵盖所有的 m-n 多签名。</p>
<p><img src="//res.btcstudy.org/btcstudy/images/bitcoin-after-taproot/joSVZA.gif" alt="joSVZA"></p>
<p style="text-align:center">- 来源：<a target="_blank" rel="noopener" href="https://river.com/learn/what-are-schnorr-signatures/">River</a> -</p>


<h2 id="BIP-341-——-Taproot"><a href="#BIP-341-——-Taproot" class="headerlink" title="BIP 341 —— Taproot"></a>BIP 341 —— Taproot</h2><p>这个 BIP 关系到的就是 Taproot 升级的 Taproot  部分。它引入了一种新的脚本类型（Pay to Taproot，也叫 P2TR），来实现一种逻辑：既可以从一个 Schnorr 公钥中花费，同时又可以通过满足脚本的条件从一个默克尔根中花费。它是通过上述的 Schnorr 签名以及 MAST 来实现的。MAST 是 “Merkelized Alternative Script Tree（默克尔另类脚本树）” 的缩写，其正式名称为 “Merkelized Abstract Syntax Trees（默克尔抽象语法树）”。默克尔脚本树最深可以有 32 层，用大白话来说，就是最多可以为一笔资金创建 40 亿个脚本，而只要满足其中一个脚本的条件，这笔资金就可以被花费；这个被满足的脚本也是唯一一个需要在链上曝光的脚本，其余脚本则永远不会曝光；因为不曝光其它的条件，隐私性也显著提升。当前，只要动用一笔资金，该资金所有的花费条件都会曝光，意味着你可以很容易分辨出哪些是闪电网络通道，一个多签名用到的公钥有哪些。</p>
<p><img src="//res.btcstudy.org/btcstudy/images/bitcoin-after-taproot/igUob6Q.png" alt="img"></p>
<p style="text-align:center">- 来源：<a target="_blank" rel="noopener" href="https://river.com/learn/what-is-taproot/#schnorr-signatures">River</a> -</p>


<p>River 又给了一个很棒的图示，来解释你用 Taproot 公钥 Q 锁定的 5000 万聪既可以用 Schnorr 公钥 P 来花费，也可以使用公钥 M（默克尔根）下面的任何一个脚本条件来花费。</p>
<h2 id="BIP-342-——-Tapscript"><a href="#BIP-342-——-Tapscript" class="headerlink" title="BIP 342 —— Tapscript"></a>BIP 342 —— Tapscript</h2><p>Tapscript 通过验证 Taproot 花费的脚本和 Schnorr 签名，将上述所用特性结合在一起。它是通过引入多个新的操作码来实现的，并其添加方式也是灵活的，未来的升级可以更平滑地引入。</p>
<h2 id="不在-Taproot-中的内容"><a href="#不在-Taproot-中的内容" class="headerlink" title="不在 Taproot 中的内容"></a>不在 Taproot 中的内容</h2><p>不幸的是，跨输入的签名聚合（Cross Input Signature Aggregation）不在这次升级中。如 <a target="_blank" rel="noopener" href="https://www.reddit.com/r/Bitcoin/comments/8wmj5b/pieter_wuille_submits_schnorr_signatures_bip/e1wwriq/">Pieter Wuille</a> 在 2018 年写的：</p>
<blockquote>
<p>现在出现了许多改善比特币脚本执行的想法（MAST、Taproot、Graftroot、新的 sighash 模式、多签名方案，等等），显然已经多到没法再一次升级中实现全部。因为聚合会跟所有其它东西相互影响，推迟实现似乎是更好的选择。</p>
</blockquote>
<p>不过，一旦 CISA 实现，升级的后果之一将是 CoinJoin 得到经济上的激励。这是多个签名者节约后的签名成本将比单签名交易的更低。</p>
<h2 id="那么-Taproot-升级对我来说有什么意义呢？"><a href="#那么-Taproot-升级对我来说有什么意义呢？" class="headerlink" title="那么 Taproot 升级对我来说有什么意义呢？"></a>那么 Taproot 升级对我来说有什么意义呢？</h2><p>对现状来说影响不大。因为可能要过一年的时间才有足够多的钱包支持 Taproot 的各项功能。Taproot 在区块高度 709632 处激活后，钱包就将开始开发软件升级，以支持 Taproot。这不需要你创建新的助记词，整个体验也会跟 2017 年的隔离见证升级相似：你将可以选择两种地址类型。作为用户，你可以看到的唯一区别在于，新类型地址的前缀从 “bc1q” 变成了 “bc1p”，因为版本号增加，成了 SegWit v1。</p>
<h2 id="我可以利用-Taproot-来做什么呢？"><a href="#我可以利用-Taproot-来做什么呢？" class="headerlink" title="我可以利用 Taproot 来做什么呢？"></a>我可以利用 Taproot 来做什么呢？</h2><p>我个人会推荐你把旧的 UTXO 从旧的地址转入 Taproot 地址，只要交易池不是很满（译者注：交易池很满的时候，手续费率会比较高），这样你在未来发送交易时可以节约一些手续费，尤其如果你已经在使用，或一直在考虑使用多签名设置的话。因为多签名从本次升级中获得的节约效果更多。</p>
<p>它是怎么实现节约的呢？当前，如果你要从一个地址中花费，你需要在输入中包含公钥。Taproot 将公钥放在了要被花费的输出中（因此它会增加输出的体积）但节约了输入的体积。体积缩写的效果主要来自 Schnorr 签名成为默认的签名方案，因此也推荐使用多签名。</p>
<p><img src="//res.btcstudy.org/btcstudy/images/bitcoin-after-taproot/zqHU3SWxNLY" alt="img"></p>
<p style="text-align:center">- 来源：<a target="_blank" rel="noopener" href="https://twitter.com/murchandamus/status/1262062602298916865?s=20">Murch</a> -</p>


<p>你可能会想，“为什么我要在囤币时付出手续费，而不是真正花的时候再付呢？” 我一开始也想了同样的问题，但正如 Murch 指出的，在 2021 年的大部分时间里，交易池都不是很满，所以我们只需为每字节支付 1 聪就能让交易上链了。哪怕你要多付一次手续费，只要未来手续费涨到每字节 2 聪，你就是省钱了。所以如果你所用的钱包软件允许接收 Taproot 输出，你应该趁手续费不贵的时候，把 UTXO 都传进去，然后利用 Taproot 为多签提供的隐私性好处。</p>
<p><img src="//res.btcstudy.org/btcstudy/images/bitcoin-after-taproot/8yQNvBg.png" alt="img"></p>
<p style="text-align:center">- 来源：<a target="_blank" rel="noopener" href="https://twitter.com/murchandamus/status/1402443595026685955?s=20">Twitter 回答</a> -</p>


<p>它怎么能提高隐私性呢？<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/preparing-for-taproot/#multisignature-overview">Bitcoin Op Tech</a> 观察了 692039 号区块内的多签名使用。他们用颜色区分了闪电网络这样的 2-2 多签名交易以及常见的 2-3 多签名交易。如果这些多签名钱包都使用 Taproot 的密钥路径而不是更复杂的脚本，它们的交易将与普通的单签名交易没有区别。你也将无法分辨出具体的应用，比如  <a target="_blank" rel="noopener" href="https://blockstream.com/liquid/">Liquid</a> 就使用 11-15 的多签名。</p>
<p><img src="//res.btcstudy.org/btcstudy/images/bitcoin-after-taproot/OvYT64w.png" alt="img"></p>
<h2 id="Schnorr-和-Taproot-为下列创新打开了大门"><a href="#Schnorr-和-Taproot-为下列创新打开了大门" class="headerlink" title="Schnorr 和 Taproot 为下列创新打开了大门"></a>Schnorr 和 Taproot 为下列创新打开了大门</h2><h3 id="Scriptless-Scripts"><a href="#Scriptless-Scripts" class="headerlink" title="Scriptless Scripts"></a>Scriptless Scripts</h3><p><a target="_blank" rel="noopener" href="http://diyhpl.us/wiki/transcripts/layer2-summit/2018/scriptless-scripts/">这</a>是一种将智能合约的信息编码到签名中的方法。坦白说，许多东西超出了我的认知范围，我必须看两遍才能理解，但它会影响很多东西。你可以听听这个<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=jzoS0tPUAiQ&t=12960s">演讲</a>。很不幸，Andrew Poelstra 不上推特，但如果你在了解最新的开发进展时曾听过他上<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=M3grwZCwav0">播客</a>或<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=zv6_zXUI2-E">圆桌</a>，你会发现他的工作真值得关注，因为那会影响下面列举的大部分事物。</p>
<h3 id="MuSig"><a href="#MuSig" class="headerlink" title="MuSig"></a>MuSig</h3><p>MuSig 是基于 Schnorr 签名的多签名协议族。我说这是一个家族，是因为它现在就有 3 个版本：MuSig、MuSig2 和 MuSig-DN。我们很可能会看到 MuSig2 的实现，因为它易于使用。不过，所有三个版本都只适合 n-n 的情形，所以可以用在闪电网络中（闪电网络的通道是一个 2-2 的多签名合约），但不太可能用在 m-n 的多签钱包中。话说回来，也有人在开发基于 Schnorr 签名的（像 2-3 这样的）门限签名方案。</p>
<h3 id="适配器签名"><a href="#适配器签名" class="headerlink" title="适配器签名"></a>适配器签名</h3><p>适配器签名是一种可以将一个秘密值与签名数据结合起来，从而揭示签名；或者用签名来揭示秘密值的方法。它可用来实现多种用途，与合约的锁定和高效、隐私执行有关。两个这样的例子是 CoinSwap 和原子化互换（atomic swap），双方可以免信任地一手交钱一手交货（揭示秘密值）。这些是技术上的解释，但这里有 Rene 作的一个<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=a8Pdpz_Jzok">简单解读</a>，以及一个围绕 DLC（谨慎日志合约）的<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=a8Pdpz_Jzok&t=514">更长的解释</a>。</p>
<h3 id="PTLC（点时间锁合约）"><a href="#PTLC（点时间锁合约）" class="headerlink" title="PTLC（点时间锁合约）"></a>PTLC（点时间锁合约）</h3><p>适配器签名的另一个重要用法是 “点时间锁合约（Point Time Lock Contracts，PTLC）”。现正使用 HTLC（哈希时间锁合约）的闪电网络可能会升级到使用 PTLC，它可以<a target="_blank" rel="noopener" href="https://bitcoinops.org/en/preparing-for-taproot/#ptlcs">消除支付交易之间的可关联性</a>，从而提高用户的隐私性，并让他人更难发现哪个节点在转发支付。它实现这种效果用的不是脚本（不像 HTLC），而是适配器签名和标量推导出来的签名。它无法给予闪电网络用户完美的隐私，但确实让闪电支付变得更难跟踪，尤其是在跟多路径支付相结合的时候。你可以在<a target="_blank" rel="noopener" href="https://twitter.com/RaymondDurk/status/1268357523423350787?s=20">这里</a>看到一个 PTLC 的演示。</p>
<h3 id="DLC"><a href="#DLC" class="headerlink" title="DLC"></a>DLC</h3><p>有了 Taproot，谨慎日志合约（Discrete Log Contracts，DLC）可以更高效地实现。DLC 的大致含义是参与合约的双方对事件的结果打赌；可以用来对体育赛事打赌、创建奖金，等等。断言机发布对结果的签名。而双方可以用这个签名来执行合约并分割资金。现在 Suredbits 已经推出了<a target="_blank" rel="noopener" href="https://github.com/bitcoin-s/krystal-bull/releases">Krystal Bull</a> 帮你生成 DLC，可以在桌面端或者 Umbrel 节点中使用（演示视频见<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Gac_swBvl3A">此处</a>）。</p>
<h3 id="BIP118-AnyPrevOut"><a href="#BIP118-AnyPrevOut" class="headerlink" title="BIP118: AnyPrevOut"></a>BIP118: AnyPrevOut</h3><p>曾用名 “SIGHASH_NOINPUT”，后来称呼更新为 “SIGHASH_ANYPREVOUT” 和 “SIGHASH_ANYPREVOUTANYSCRIPT”。这个变化<a target="_blank" rel="noopener" href="https://github.com/ajtowns/bips/blob/bip-anyprevout/bip-0118.mediawiki#revisions">微不足道</a>，但主要的收获在于，当前的 BIP 利用了 <a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki">BIP342</a> 为 tapscript 安排的升级路径。所以，虽然它在技术上并不依赖于 Taproot，但 Taproot 升级移除了为之设立单独的 segwit 版本的需要。介绍一下背景，在 SegWit 引入之时，它还引入了 16 个版本后。2017 年新启用的、以 “bc1” 为前缀的隔离见证地址属于 segwit v0。而 Taproot 是此后第一个升级，使用 segwit v1 的版本号。</p>
<p>那到底什么是 AnyPrevOut 呢？它是一种签名方式，使用这种方式的签名的对象包含交易的大部分内容但不包含交易的输入。所以它允许一种特殊的花费方法：任何输入，只要满足使用该公钥的脚本，都可以用在交易中；如有必要，还可以切换输入。它使得支付的条件更灵活，提高了效率以及可扩展性，也打开了创新的空间。你可以在<a target="_blank" rel="noopener" href="https://anyprevout.xyz/">这里</a>了解更多。</p>
<h3 id="Eltoo"><a href="#Eltoo" class="headerlink" title="Eltoo"></a>Eltoo</h3><p>AnyPrevOut 可开启的一种技术叫做 “Eltoo”，这是一种闪电网络可用来取代当前的 LN-Penalty（基于惩罚的旧状态撤销机制）的执行方法。它对闪电网络的主要好处在于，你将不再需要为每一笔可能有问题的路由交易跟踪通道的备份数据。不过，Eltoo 也可以降低链上的成本、消除通道双方之间的一些安全担忧，并简化 “<a target="_blank" rel="noopener" href="https://www.tik.ee.ethz.ch/file/a20a865ce40d40c8f942cf206a7cba96/Scalable_Funding_Of_Blockchain_Micropayment_Networks%20(1).pdf">通道工厂</a>”。从通道工厂中获得的效率可以让多个用户使用一个 UTXO 互相开设闪电通道。你可以向 <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=kGQF3wtzr04">Christian Decker</a> 学习 BIP 118 和 Eltoo 的详情。</p>
<h3 id="CoinPool"><a href="#CoinPool" class="headerlink" title="CoinPool"></a>CoinPool</h3><p>另一个在 AnyPrevOut 合并之后可以实现的点子是 <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/017964.html">CoinPool</a>。它类似于 <a target="_blank" rel="noopener" href="https://bitcoinops.org/en/newsletters/2020/06/17/#coinpool-generalized-privacy-for-identifiable-onchain-protocols">JoinPool</a> 提议（下文将揭示），但它更具体地利用了 Taproot。因为允许多方共有一个 UTXO，并且该 UTXO 与其它的 UTXO 无法区分，它使得更隐私的闪电通道和金库等得以出现，因为你将不再能确定这个 UTXO 的哪个参与者发起了交易，因为你不再能假设只有一个主体持有它。</p>
<h3 id="BIP-119-OP-CTV"><a href="#BIP-119-OP-CTV" class="headerlink" title="BIP 119 OP_CTV"></a><strong>BIP 119</strong> OP_CTV</h3><p>OP_CHECKTEMPLATEVERIFY 是一个还在 BIP 阶段的提议，它提出了一个新的操作码来记录资金如何花费的条件。<a target="_blank" rel="noopener" href="https://utxos.org/">它可以支持许多用途</a>，在扩容方案、金融服务中使用这种紧急属性。一个简单的例子是继承方案。如果你是家里唯一一个了解比特币的人，你不想让家人在你去世之后第二天就把你的币全卖掉，你可以使用 OP_CTV 来指示你的钱包，每年转移 10% 的资金到一个特定的地址，持续转移 10 年。这样你来，你的家人就能从未来 10 年的价格涨幅中受益，而他们也不得不囤币因为每年都有支出的上限。</p>
<h3 id="TLUV-限制条款提议"><a href="#TLUV-限制条款提议" class="headerlink" title="TLUV 限制条款提议"></a>TLUV 限制条款提议</h3><p>不过，AJ Towns 最近提出了一个与 BIP 119 <a target="_blank" rel="noopener" href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019420.html">类似的想法</a>，叫做  “OP_Tapleaf_Update_Verify”。它依赖于 Taproot 升级以及一种叫做 “<a target="_blank" rel="noopener" href="https://gist.github.com/harding/a30864d0315a0cebd7de3732f5bd88f0">joinpool</a>” 的应用场景。JoinPool 是许多人共享一个 UTXO，它造成了独特的隐私效果，并打破了更多链上监控的假设。它对比 OP_CTV 的主要优势在于，用户可以自己退出，无需来自池中其它每个人的签名，这使得这种池子更容易运行，并在签名交易时节约手续费。</p>
<h2 id="Taproot-之外的其它可能升级"><a href="#Taproot-之外的其它可能升级" class="headerlink" title="Taproot 之外的其它可能升级"></a>Taproot 之外的其它可能升级</h2><h3 id="Stratum-v2"><a href="#Stratum-v2" class="headerlink" title="Stratum v2"></a>Stratum v2</h3><p><a target="_blank" rel="noopener" href="https://braiins.com/stratum-v2">Stratum v2</a> 是一种矿池协议的升级。Stratum v2 由 Pavel Moravec、Jan Capek 和 Matt Corallo 提出，它通过提升小体量的、在家挖矿的矿工跟矿池沟通的安全性，来进一步提高去中心化。而且，它使得个人矿工可以挖自己提出的区块，并在区块内包含有区别的交易子集，而不是只能挖掘矿池作为一个整体提出的区块。这给了业余的矿工贡多的灵活性，并让网络的抗审查性更抢，因为小矿工不再非得受制于矿池指定的规则。</p>
<p><img src="//res.btcstudy.org/btcstudy/images/bitcoin-after-taproot/Cr_BcuT__p_" alt="img"></p>
<p style="text-align:center">- （预期）为矿工赋能后的算力分布变化。来源：<a target="_blank" rel="noopener" href="https://medium.com/braiins/experts-discuss-stratum-v2-and-the-future-of-bitcoin-mining-d62568df73a6">Braiins</a> -</p>


<h3 id="Erlay-与-BIP330"><a href="#Erlay-与-BIP330" class="headerlink" title="Erlay 与 BIP330"></a>Erlay 与 <a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0330.mediawiki">BIP330</a></h3><p>Erlay 是对节点转发未确认交易的方式的改进提议。其<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1905.10518.pdf">论文</a>由 Gleb Naumenko、Pieter Wuille、Gregory Maxwell、Sasha Fedorova 和 Ivan Beschastnikh 撰写，声称可以节约超过 80% 的带宽。它还允许节点增加出站连接的数量。这可以帮助用户防御某些类型的攻击并提高隐私性。</p>
<p>如果哪位专家发现我上面的表述有误，请<a target="_blank" rel="noopener" href="https://twitter.com/RaymondDurk">联系我</a>。也请关注 <a target="_blank" rel="noopener" href="https://bitcoinops.org/">Bitcoin Op Tech</a>，这是一份介绍生态内开发进展的周报，我也大量运用这个网站来检验我自己的理解并提供额外的链接。</p>
<p><a target="_blank" rel="noopener" href="https://tippin.me/@RaymondDurk">Tippin.me&#x2F;@RaymondDurk</a></p>
<p>（完）</p>
</article></div></div></main><script src="/js/post.js?v=1675838663973"></script><script src="/js/highlight.min.js?v=1675838663973"></script><script>var containerEl = document.querySelector('.post-container');
var postFontSize = localStorage.getItem('post-font-size') || '16';
var inputEl = document.querySelector('#size-change-input');
var inputEl2 = document.querySelector('#size-change-input2');
inputEl.value = postFontSize;
inputEl2.value = postFontSize;
containerEl.style.fontSize = postFontSize + 'px';
$(function(){
  function setSizeChangeInputValue(size) {
    $('.post-container').css('font-size', size + 'px');
    localStorage.setItem('post-font-size', size);
    $('#size-change-input').val(size);
    $('#size-change-input2').val(size);
  }
  $('#size-change-input').on('input propertychange', function(e) {
    const size = e.target.value;
    setSizeChangeInputValue(size);
  });
  $('#size-change-input2').on('input propertychange', function(e) {
    const size = e.target.value;
    setSizeChangeInputValue(size);
  });
});
</script><script>hljs.initHighlightingOnLoad();</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/btcstudy">Twitter</a><!-- Github--><!-- Ins--><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml">rss</a><!-- 知乎--><!-- 领英--><!-- 脸书--><!-- Telegram--><a title="telegram" target="_blank" rel="noopener nofollow" href="//t.me/btcstudyorg">Telegram</a></section></footer><script async src="/js/buttons.js?v=1675838663973"></script><script async src="/js/index.js?v=1675838663973"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-JVCJ9XXG1Z');</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306";
  hm.async = true;
  hm.defer = true;
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
  </script></body></html>