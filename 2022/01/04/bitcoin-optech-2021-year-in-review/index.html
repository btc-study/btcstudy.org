<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>Bitcoin Optech：2021 比特币技术进展年度回顾</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/mempool>mempool</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Bitcoin Optech：2021 比特币技术进展年度回顾</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>Bitcoin Optech：2021 比特币技术进展年度回顾</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/mempool>mempool</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%9B%AE%E5%BD%95><span class=toc-text>目录</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%B8%80%E6%9C%88><span class=toc-text>一月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BA%8C%E6%9C%88><span class=toc-text>二月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%B8%89%E6%9C%88><span class=toc-text>三月</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#2021-%E5%B9%B4%E6%80%BB%E7%BB%93><span class=toc-text>2021 年总结</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#Taproot-%E7%9A%84%E6%BF%80%E6%B4%BB><span class=toc-text>Taproot 的激活</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%9B%9B%E6%9C%88><span class=toc-text>四月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BA%94%E6%9C%88><span class=toc-text>五月</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#2021-%E5%B9%B4%E6%80%BB%E7%BB%93-1><span class=toc-text>2021 年总结</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%83%AD%E9%97%A8%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E9%A1%B9%E7%9B%AE%E7%9A%84%E9%87%8D%E5%A4%A7%E6%9B%B4%E6%96%B0><span class=toc-text>热门基础设施项目的重大更新</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%85%AD%E6%9C%88><span class=toc-text>六月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%B8%83%E6%9C%88><span class=toc-text>七月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%85%AB%E6%9C%88><span class=toc-text>八月</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#2021-%E6%80%BB%E7%BB%93><span class=toc-text>2021 总结</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#Bitcoin-Optech><span class=toc-text>Bitcoin Optech</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%B9%9D%E6%9C%88><span class=toc-text>九月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%8D%81%E6%9C%88><span class=toc-text>十月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%8D%81%E4%B8%80%E6%9C%88><span class=toc-text>十一月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%8D%81%E4%BA%8C%E6%9C%88><span class=toc-text>十二月</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BB%93%E8%AE%BA><span class=toc-text>结论</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>Bitcoin Optech：2021 比特币技术进展年度回顾</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt="Bitcoin Optech"><div class=page-author-info><strong>Bitcoin Optech</strong><time class=has-text-grey datetime=2022-01-04T05:15:48.000Z>2022-01-04</time></div></div><div class=is-flex><a href=/tags/%E5%BC%80%E5%8F%91><i class="page-tag mr-1 px-1">开发</i></a><a href=/tags/Taproot><i class="page-tag mr-1 px-1">Taproot</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Bitcoin Optech</em></p><p><em>来源：<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/12/22/ >https://bitcoinops.org/en/newsletters/2021/12/22/</a></em></p></blockquote><p>这份特别版的 Optech Newsletter 总结了 2021 年全年比特币值得注意的发展。它是我们 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2018/12/28/ >2018</a> 年、<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2019/12/28/ >2019</a> 年和 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2020/12/23/ >2020</a> 年总结的续篇。</p><h2 id=目录><a href=#目录 class=headerlink title=目录></a>目录</h2><ul><li>一月<ul><li><a href=#signet>比特币核心中的 Signet</a></li><li><a href=#bech32m>Bech32m 地址</a></li><li><a href=#offers>洋葱消息和要约协议</a></li></ul></li><li>二月<ul><li><a href=#safegcd>更快的签名创建和验证</a></li><li><a href=#jamming>通道拥塞攻击</a></li></ul></li><li>三月<ul><li><a href=#quantum>量子计算风险</a></li></ul></li><li>四月<ul><li><a href=#amp>LN 原子多路径支付</a></li></ul></li><li>五月<ul><li><a href=#bip125>BIP125 的费用替换实现差异</a></li><li><a href=#dual-funding>双边供资通道</a></li></ul></li><li>六月<ul><li><a href=#csb>基于候选集的区块构建</a></li><li><a href=#default-rbf>默认的交易手续费替代</a></li><li><a href=#mpa>交易池包接收与包中继</a></li><li><a href=#ff>LN 快进及离线接收</a></li></ul></li><li>七月<ul><li><a href=#liq-ads>LN 流动性广告</a></li><li><a href=#descriptors>输出脚本描述符</a></li><li><a href=#zeroconfchan>零确认通道创建</a></li><li><a href=#anyprevout>SIGHASH_ANYPREVOUT</a></li></ul></li><li>八月<ul><li><a href=#fibonds>忠诚保证保险</a></li><li><a href=#pathfinding>LN 寻路</a></li></ul></li><li>九月<ul><li><a href=#tluv>OP_TAPLEAF_UPDATE_VERIFY</a></li></ul></li><li>十月<ul><li><a href=#txhids>事务继承标识别符</a></li><li><a href=#ptlcsx>PTLC 与 LN 快进</a></li></ul></li><li>十一月<ul><li><a href=#lnsummit>LN 开发者峰会</a></li></ul></li><li>十二月<ul><li><a href=#bumping>高级费用提升</a></li></ul></li><li>精选摘要<ul><li><a href=#taproot>Taproot</a></li><li><a href=#releases>热门基础设施项目的重大更新</a></li><li><a href=#optech>Bitcoin Optech</a></li></ul></li></ul><h2 id=一月><a href=#一月 class=headerlink title=一月></a>一月</h2><p id=signet></p><p>经过数年的讨论，1 月份首次<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/20/#bitcoin-core-0-21-0>发布</a>了支持 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/signet/ >signet</a> 的比特币核心版本，此前 C-Lightning <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2019/07/24/#c-lightning-2816>支持</a>，随后 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/02/#lnd-5025>LND</a> 也支持了。Signet 是任何人都可以用来模拟比特币主网络（mainnet）的测试网络，可以是以现在的状态，也可以是它发生某些变更后的状态（比如软分叉共识变化的激活）。大多数实现 signet 的软件也会支持一个默认的 signet，这为不同团队开发的软件提供了一个特别方便的手段，可以在一个安全的环境中进行测试，同时可以尽可能地接近他们在链上的环境。今年还<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/15/#signet-reorg-discussion>讨论</a>将有意的区块链重组添加到比特币核心的默认 signet 中，以帮助开发人员针对这类问题测试他们的软件。</p><p id=bech32m></p><p>1 月份还<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/13/#bech32m>宣布</a>了一个针对 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/bech32/ >bech32m</a> 的 BIP 草案。Bech32m 地址对 bech32 地址做了轻微修改，使其可以安全地用于 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/taproot/ >taproot</a> 和未来的协议扩展。今年晚些时候，一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/14/#tracking-bech32m-support>Bitcoin Wiki 页面</a>被更新用以跟踪钱包和服务对 bech32m 地址的采用。</p><p id=offers></p><p>另一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/27/#c-lightning-0-9-3>首次发布</a>的新协议是<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/onion-messages/ >洋葱消息</a>和 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/offers/ >要约协议</a>。洋葱消息允许一个 LN 节点向另一个节点发送消息，与基于 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/htlc/ >HTLC</a> 的消息发送相比，它的开销更小。要约使用洋葱消息，允许一个节点<em>提议</em>支付给另一个节点，允许接收节点返回详细的收据和其他必要的信息。洋葱消息和要约在今年剩下的时间里继续作为草案规范，但仍然有了进一步的进展，包括一个使用它们来<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/04/21/#using-ln-offers-to-partly-address-stuck-payments>减少滞碍支付的影响</a>的提案。</p><h2 id=二月><a href=#二月 class=headerlink title=二月></a>二月</h2><p id=safegcd></p><p>比特币的贡献者<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/02/17/#faster-signature-operations>推进</a>了对改进的签名创建和验证算法的研究，然后利用他们的研究产出了一个有额外改进的版本。当在 libsecp256k1（<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/03/24/#libsecp256k1-831>1</a>，<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/04/28/#libsecp256k1-906>2</a>）和<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/16/#bitcoin-core-21573>后来</a>的比特币核心中应用时，这将验证签名所需的时间减少了约 10% ——这是一个重大改进，考虑到需要验证比特币区块链中的大约 10 亿个签名。一些密码学家致力于确保这一变更在数学上是合理的，并且可以安全使用。这一变更也为在低功率的硬件签名设备上安全地创建签名的速度提升提供了巨大的推动。</p><p id=jamming></p><p><a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/channel-jamming-attacks/ >通道拥塞攻击</a>是 LN 自 2015 年以来的一个已知问题，在这一年里得到了持续的讨论，<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/10/#ln-summit-2021-notes>讨论</a>了<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/02/17/#renewed-discussion-about-bidirectional-upfront-ln-fees>各种</a><a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/20/#lowering-the-cost-of-probing-to-make-attacks-more-expensive>可能</a>的解决方案。不幸的是，没有找到广泛认可的解决方案，这个问题到年底仍然没有得到缓解。</p><p><img src=/images/bitcoin-optech-2021-year-in-review/2020-12-ln-jamming-attacks.png alt=2020-12-ln-jamming-attacks></p><h2 id=三月><a href=#三月 class=headerlink title=三月></a>三月</h2><p id=quantum></p><p>3 月份的重要<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/03/24/#discussion-of-quantum-computer-attacks-on-taproot>讨论</a>专门分析了量子计算机攻击比特币的风险，特别是针对 taproot 激活并被广泛使用的情况。比特币的原始功能之一，公钥散列——可能是为了使比特币地址更短而添加的——也可能使它在量子计算突然出现重大进展的情况下更难从有限的用户那里窃取资金。<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/taproot/ >Taproot</a> 没有提供这个功能，至少一个开发者担心它造成不合理的风险。大量的反驳意见被提出，社区对 taproot 的支持似乎没有改变。</p><hr><p id=taproot></p><h3 id=2021-年总结><a href=#2021-年总结 class=headerlink title="2021 年总结"></a>2021 年总结</h3><h3 id=Taproot-的激活><a href=#Taproot-的激活 class=headerlink title="Taproot 的激活"></a>Taproot 的激活</h3><p>到 2020 年底，一个包含支持 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/schnorr-signatures/ >schnorr</a> 签名和 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/tapscript/ >tapscrip</a> 的 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/taproot/ >taproot</a> 软分叉的实现已经<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2020/10/21/#bitcoin-core-19953>并入</a>比特币核心。协议开发者的工作很大程度上完成了；现在要看社区是否愿意激活 taproot，以及钱包开发者是否开始添加对它和相关技术的支持，如 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/bech32/ >bech32m</a> 地址。</p><ul><li><p><strong>1 月</strong>以 Bitcoin Core 0.21.0 的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/20/#bitcoin-core-0-21-0>发布</a>开始，这是第一个包含对 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/signet/ >signet</a> 支持的版本，包括已经激活 taproot 的默认 signet——给用户和开发者一个简单的地方来开始测试。</p></li><li><p><strong>2 月</strong>，在 <code>##taproot-activation</code> IRC 频道中举行了<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/02/10/#taproot-activation-meeting-summary-and-follow-up>系列</a><a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/02/24/#taproot-activation-discussion>会议</a>中的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/27/#scheduled-meeting-to-discuss-taproot-activation>第一次</a>，该频道将成为开发者、用户和矿工之间讨论如何激活 taproot 的主要场所。</p></li><li><p><strong>3 月</strong>开始，许多讨论参与者初步<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/03/10/#taproot-activation-discussion>同意</a>尝试一种特殊的激活方式，即<em>快速尝试</em>，其目的是为了快速收集矿工的反馈，但也给用户足够的时间来升级他们的软件来应用 taproot。快速尝试将成为激活 taproot 的实际<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/soft-fork-activation/ >机制</a>。</p><p>在激活讨论进行的同时，对其设计的其中一个决策进行了最后的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/03/24/#discussion-of-quantum-computer-attacks-on-taproot>讨论</a>，即使用裸公钥，有人认为这可能使用户资金被未来的量子计算机窃取的风险增加。许多开发者认为，这些担忧是没有必要的，或者至少是被夸大了。</p><p>同样在 3 月，比特币核心合并了对 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki>BIP350</a> 的支持，允许它支付给 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/bech32/ >bech32m</a> 地址。这种对 bech32 地址轻微变更的版本，用于支付原始 segwit 版本的地址，修复了一个可能导致 taproot 用户在一些非常罕见的情况下损失金钱的错误。(由 bech32 地址创建的原始 segwit 输出是安全的，不受这个错误的影响）。</p></li><li><p><strong>4 月</strong>，由于协议开发者和一些用户对两种略有不同的快速尝试激活机制的优点产生了<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/04/14/#taproot-activation-discussion>争论</a>，激活的进展几乎脱轨。然而，这两个不同版本的不同实现的作者达成了一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/04/21/#bitcoin-core-21377>妥协</a>才使得一个比特币核心<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/04/21/#taproot-activation-release-candidate>版本</a>的激活机制和参数被发布。</p></li><li><p><strong>5 月</strong>，矿工们<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/05/#bips-1104>能够</a>开始示意他们准备好应用 taproot，一个跟踪示意进度的网站开始<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/26/#how-can-i-follow-the-progress-of-miner-signaling-for-taproot-activation>流行</a>。</p></li><li><p><strong>6 月</strong>，矿工们<a target=_blank rel=noopener href=https://bitcoinops.orghttps//bitcoinops.org/en/newsletters/2021/06/16/#taproot-locked-in>锁定了 taproot</a>，承诺在 6 个月后的 709,632 区块实施激活。这意味着<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/09/#bitcoin-core-22051>钱包开发者</a>和<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/02/#bolts-672>其他基础设施开发者</a>是<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/12/#rust-bitcoin-589>时候</a>把更多的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/23/#bitcoin-core-21365>注意</a>力<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/16/#c-lightning-4591>放在</a>为 taproot <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/23/#rust-bitcoin-601>适配</a>他们的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/30/#key-derivation-path-for-single-sig-p2tr>软件</a>上了，<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/30/#bitcoin-core-22154>他们</a>中的许多人都这么<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/30/#bitcoin-core-22166>做</a>了。此外，还有一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/16/#bip-proposed-for-wallets-to-set-nsequence-by-default-on-taproot-transactions>提案</a>，允许链上的 taproot 钱包轻松地对使用各种合约协议（如 LN 和<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/coinswap/ >硬币交换</a>）的钱包的隐私提供帮助。Optech 也<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/23/#preparing-for-taproot-1-bech32m-sending-support>开始</a>了<a target=_blank rel=noopener href=https://bitcoinops.org/en/preparing-for-taproot/ >为 Taproot 做准备</a>系列。</p></li><li><p><strong>7 月</strong>，Bitcoin Wiki 的一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/14/#tracking-bech32m-support>页面</a>专门用来追踪钱包所需的 bech32m 地址格式的支持，以便在激活后能够使用 taproot。许多钱包和服务的开发者奋起直追，确保他们已经准备好让任何人在激活后使用 taproot。其他<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/14/#bips-943>软分叉提案</a>也被更新为使用 taproot 或从其激活中<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/10/#bips-1215>学习</a>。</p></li><li><p><strong>8 月</strong>对 taproot 的发展来说是平静的，尽管写了一些与taproot有关的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/08/25/#are-there-risks-to-using-the-same-private-key-for-both-ecdsa-and-schnorr-signatures>文档</a>。</p></li><li><p><strong>9 月</strong>，比特币最受欢迎的开源商户软件在其计划激活前增加了对 taproot 的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/15/#btcpay-server-2830>支持</a>。它还<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/15/#covenant-opcode-proposal>提出</a>了一个新的操作码，该操作码将特别利用 taproot 的特性来实现基于脚本的<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/covenants/ >契约</a>。</p></li><li><p><strong>10 月</strong>开始，随着 taproot 激活的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/20/#testing-taproot>临近</a>，<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/06/#rust-bitcoin-644>开发</a><a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/06/#rust-bitcoin-563>重新</a>开始。Taproot 的 BIP 已经更新，<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/03/#taproot-test-vectors>增加了测试向量</a>，以帮助钱包和基础设施开发者验证他们的实现。</p></li><li><p><strong>11 月</strong>庆祝了 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/17/#taproot-activated>taproot 的激活</a>。最初有一些混乱，因为 709,632 和随后的几个区块的矿工打包的区块并不包括任何 taproot 的花费交易。然而，由于一些开发者和矿池管理员的工作，在随后几天里开采的大多数区块都准备好了包含 taproot 花费的交易。<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/17/#changes-to-services-and-client-software>开发</a>和<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/10/#additional-compact-block-filter-verification>测试</a>适用于 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/12/15/#changes-to-services-and-client-software>taproot</a> 的软件仍在<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/17/#rust-bitcoin-691>继续进行</a>。</p></li><li><p><strong>12 月</strong>，比特币核心合并了一个 PR，允许<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/output-script-descriptors/ >描述符钱包</a>创建 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/bech32/ >bech32m</a> 地址来接收 taproot 付款。LN 开发者也进一步讨论了利用 taproot 的功能。</p></li></ul><p>尽管为 taproot 选择激活机制很复杂，而且在激活后立即出现了一些小混乱，但在比特币中增加对 taproot 软分叉的支持的最后步骤总体看来很顺利。这并不是 taproot 故事的结束。随着钱包和基础设施开发商开始使用它的许多功能，Optech 预计在未来几年将继续花费大量的时间来撰写与之相关的内容。</p><hr><h2 id=四月><a href=#四月 class=headerlink title=四月></a>四月</h2><p id=amp></p><p>LND 在四月加入了对原子化多路径支付（ Atomic Multipath Payments，<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/atomic-multipath/ >AMP</a>）的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/27/#lnd-5709>支持</a>，这也叫初版 AMP，因为它早于现在各大 LN 实现都支持的 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/multipath-payments/ >“简化多路径支付（Simplified Multipath Payments）”</a> 提出。AMP 对比 SMP 有隐私上的优势，而且能保证接收方在开始索要支付之前收到了所有部分。缺点在于，AMP 无法产生密码学上的支付证明。LND 实现 AMP 用于 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/spontaneous-payments/ >“自发支付（spontaneous payments）”</a> ，而自发支付根本上是无法提供支付证明的，因此不需要考虑 AMP 的这个重大缺点。</p><h2 id=五月><a href=#五月 class=headerlink title=五月></a>五月</h2><p id=bip125></p><p><a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki>BIP125</a>（交易<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/replace-by-fee/ >替换</a>规范）与比特币核心实现的差异被<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/12/#cve-2021-31876-discrepancy-between-bip125-and-bitcoin-core-implementation>曝出</a>。就我们所知，这没有导致比特币面临损失的风险，但它确实引发了一系列的讨论，关于意料之外的交易转发行为对合约用户（比如闪电网络）的风险。</p><p id=dual-funding></p><p>也是在五月，C-Lightning 项目<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/12/#c-lightning-4489>合并了</a>一个插件，用于管理 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/dual-funding/ >“双边供资通道（dual-funded channels）”</a> —— 这种通道是双方都提供了一定数量的初始资金的。加上今年早些时候<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/12/#c-lightning-4489>合并</a>的、关于双方充值的工作，这个插件让初始化通道的一方不仅能通过通道来花费资金，还能从通道的初始状态中接收资金。这种接收资金的初始化能力对商家来说尤其有用（他们主要使用闪电网络来接收支付，而不是发送资金）。</p><hr><p id=releases></p><h3 id=2021-年总结-1><a href=#2021-年总结-1 class=headerlink title="2021 年总结"></a>2021 年总结</h3><h3 id=热门基础设施项目的重大更新><a href=#热门基础设施项目的重大更新 class=headerlink title=热门基础设施项目的重大更新></a>热门基础设施项目的重大更新</h3><ul><li><a id=eclair-0-5-0 href=#eclair-0-5-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/06/#eclair-0-5-0>Eclair 0.5.0</a> 为可扩展的集群模式增加了支持（见<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2020/12/16/#eclair-1566>第 128 期周报</a>），区块链看门狗（见<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2020/11/11/#eclair-1545>第 123 期周报</a>），以及额外的插件钩子。</li><li><a id=bitcoin-core-0-21-0 href=#bitcoin-core-0-21-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/20/#bitcoin-core-0-21-0>Bitcoin Core 0.21.0</a> 加入了对使用<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/addr-v2/ >版本 2 地址宣布消息</a>的新型洋葱服务（Tor onion services）的支持，作为服务<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/compact-block-filters/ >致密区块过滤器</a>的可选功能；还支持 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/signet/ >signet</a>（默认的 signet 已经激活 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/taproot/ >taproot</a>）（译者注：signet 可以认为是一种私有的测试网，其中只有创建者签名的区块才是有效区块）。它也为原生使用 “<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/output-script-descriptors/ >输出脚本描述符</a>” 的钱包提供了实验性支持。</li><li><a id=rust-bitcoin-0-26-0 href=#rust-bitcoin-0-26-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/20/#rust-bitcoin-0-26-0>Rust Bitcoin 0.26.0</a> 加入了对 signet、版本 2 地址宣布消息的支持，并优化了对 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/psbt/ >“部分签名的比特币交易（PSBT）”</a> 的处理。</li><li><a id=lnd-0-12-0-beta href=#lnd-0-12-0-beta)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/01/27/#lnd-0-12-0-beta>LND 0.12.0-beta</a> 为 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/watchtowers/ >“瞭望塔（watchtowers）”</a> 增加了 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/anchor-outputs/ >“锚点输出（anchor outputs）”</a> 的支持，还加入了一种新的钱包子命令 <code>psbt</code> 来处理 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/psbt/ >PSBTs</a> 。</li><li><a id=hwi-2-0-0 href=#hwi-2-0-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/03/17/#hwi-2-0-0>HWI 2.0.0</a> 在 BitBox02 中加入了对多签名的支持，优化了文档，并支持使用 Trezor 硬件钱包来支付 <code>OP_RETURN</code> 输出。</li><li><a id=c-lightning-0-10-0 href=#c-lightning-0-10-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/04/07/#c-lightning-0-10-0>C-Lightning 0.10.0</a> 包含了对其 API 的一系列强化，以及对<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/dual-funding/ >双方充值</a>的实验性支持。</li><li><a id=btcpay-server-1-1-0 href=#btcpay-server-1-1-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/05/#btcpay-1-1-0>BTCPay Server 1.1.0</a> 增加了对 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2019/07/03/#lightning-loop-supports-user-loop-ins>“闪电环路（Lightning Loop）”</a> 的支持、加入了 <a target=_blank rel=noopener href=https://fidoalliance.org/fido2/fido2-web-authentication-webauthn/ >WebAuthN&#x2F;FIDO2</a> 作为双因子验证的选项，并从此使用<a target=_blank rel=noopener href=https://semver.org/ >语义化的版本控制系统</a>来确定未来的版本号。</li><li><a id=eclair-0-6-0 href=#eclair-0-6-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/05/26/#eclair-0-6-0>Eclair 0.6.0</a> 包含了多方面的提升，加强了用户的安全性和隐私性。也为未来可能采用 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/bech32/ >bech32m</a> 地址形式的软件提供了可组合性。</li><li><a id=lnd-0-13-0-beta href=#lnd-0-13-0-beta)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/23/#lnd-0-13-0-beta>LND 0.13.0-beta</a> 通过让<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/anchor-outputs/ >锚点输出</a>成为默认的承诺交易格式，优化了手续费率的关联；加入了对剪枝比特币全节点的支持、允许使用原子化多路径（<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/atomic-multipath/ >AMP</a>）收发支付，提高了 LND 的 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/psbt/ >PSBT</a> 容量。</li><li><a id=bitcoin-core-22-0 href=#bitcoin-core-22-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/15/#bitcoin-core-22-0>Bitcoin Core 22.0</a> 加入了对 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/anonymity-networks/ >I2P</a> 连接方式的支持，移除了对<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/anonymity-networks/ >版本 2 洋葱连接</a>的支持，加强了对<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/hwi/ >硬件钱包</a>的支持。</li><li><a id=bdk-0-12-0 href=#bdk-0-12-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/20/#bdk-0-12-0>BDK 0.12.0</a> 加入了使用 Sqlite 来存储数据的功能。</li><li><a id=lnd-0-14-0 href=#lnd-0-14-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/24/#lnd-0-14-0-beta>LND 0.14.0</a> 加入了额外的 “日蚀攻击（<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/eclipse-attacks/ >eclipse attack</a>）” 保护措施（见<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/01/#lnd-5621>第 164 期周报</a>）、远程数据库支持（见<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/14/#lnd-5447>第 157 期周报</a>）、更快的寻路算法（见<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/13/#lnd-5642>周报 #170</a>），Lightning Pool 使用体验优化（见<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/27/#lnd-5709>周报 #172</a>）以及可重用的 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/atomic-multipath/ >AMP</a> 发票（见<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/03/#lnd-5803>周报 #173</a>）。</li><li><a id=bdk-0-14-0 href=#bdk-0-14-0)>●</a> <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/12/08/#bdk-0-14-0>BDK 0.14.0</a> 简化了给一笔交易增加一个 <code>OP_RETURN</code> 输出的操作，并增加了对给 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/bech32/ >bech32m</a> 地址（taproot 地址）发送支付的优化。</li></ul><hr><h2 id=六月><a href=#六月 class=headerlink title=六月></a>六月</h2><p id=csb></p><p>六月份出现的一份新的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/02/#candidate-set-based-csb-block-template-construction>分析</a>描述了一种矿工选择在区块中包含哪些交易的另类方法，预计这种新的方法可以在短期内略微提高矿工的利润。在长期中，如果矿工普遍接收了这种方法，意识到这一点的钱包可以在发送 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/cpfp/ >“子为父追加手续费（CPFP fee bumping）”</a> 交易时与矿工合作，从而提高 CPFP 的有效性。</p><p id=default-rbf></p><p>另一种尝试提高手续费追加效率的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/23/#allowing-transaction-replacement-by-default>提案</a>允许比特币核心将任何未确认的交易都标记为 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/replace-by-fee/ >“手续费替代（replaced by fee）”</a> 交易 —— 不仅仅是那些自己表态使用了 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki>BIP125</a> 手续费替代的交易。这有助于解决多方协议中的手续费追加的一些问题，也因为允许更多交易可以使用同样的格式所以能提高隐私性。有关隐私性，另一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/23/#allowing-transaction-replacement-by-default>提案</a>建议钱包在创建 taproot 支付时，应该设定一个默认的 nSequence 值，即使他们并不需要 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0068.mediawiki>BIP68</a>（共识执行的 sequence 值）提供的功能；这将使得软件创建出的不需要 BIP68 的交易也能跟更普通的交易混同。虽然很少重大的反对意见，但这些提案似乎都没有特别大的意义。</p><p id=mpa></p><p>同样在六月份，一系列在比特币核心中实现 <a target=_blank rel=noopener href=https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019464.html>“交易池接受交易包（mempool package acceptance）”</a> 的 PR 中的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/02/#bitcoin-core-20833>第一个</a>，合并到了代码库中。这是迈向交易包转发的第一步。<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/package-relay/ >交易包转发</a>将允许转发节点和矿工把相关交易组成的交易包当成一笔交易，整体来考虑手续费率。一个交易包可能包含一笔费率较低的父交易，以及一笔费率较高的子交易；而包含子交易的好处将会激励矿工也打包父交易。虽然交易包挖矿在 2016 年就已经在比特币核心中<a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/issues/7600>实现</a>了，但节点一直没有办法转发交易包，这就意味着低费率的父交易在费率暴涨期间可能根本无法到达矿工，即使它的子交易有更高费率，即使整体上打包它们有利可图。这使得 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/cpfp/ >CPFP 手续费追加</a>对于使用预签名交易的合约协议（比如闪电网络）来说是不可靠的。交易包转发有望解决这个关键的安全问题。</p><p id=ff></p><p>一个最早于 2019 年为闪电网络提出的想法也在今年 6 月焕发新生。最初的 <a target=_blank rel=noopener href=https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-April/001986.html>“快进（fast fowrds）”</a> 提议描述了闪电钱包如何可以用更少的网络往返来接收和转发支付，从而减少带宽消费和支付的延迟。这个想法在今年被<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/06/09/#receiving-ln-payments-with-a-mostly-offline-private-key>扩展</a>成了描述闪电钱包如何可以接收多笔支付、同时无需为每一笔支付保证其签名密钥在线，使得用户更容易保证签名密钥的安全。</p><h2 id=七月><a href=#七月 class=headerlink title=七月></a>七月</h2><p id=liq-ads></p><p>经过数年的讨论和开发, 一个分布式的流动性广告系统被<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/28/#c-lightning-4639>合并</a>进一个 LN 的实现中。仍在草稿阶段的<a target=_blank rel=noopener href=https://github.com/lightning/bolts/pull/878>流动性广告</a>提案允许节点使用 LN gossip 协议宣传其在一段时间内出租其资金的意愿，这让其它节点可购买用于即时付款的入账容量。看到广告的节点可使用开放的<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/dual-funding/ >双边供资</a> 通道同步地支付并接收入账容量。 即使无法确保这些应征广告的节点真正为支付进行路由，此提案纳入了一个早期的提案（ <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/27/#lnd-5709>随后被用于</a>闪电池），避免广告商在商定的租赁期结束前将钱用于其它用途。这意味着拒绝进行支付路由不会带来任何好处，反倒剥夺了应征广告节点挣路由手续费的机会。</p><p id=descriptors></p><p><a target=_blank rel=noopener href=https://gist.github.com/sipa/e3d23d498c430bb601c5bca83523fa82/ >首次为比特币核心被提出</a>三年后，<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/output-script-descriptors/ >输出脚本描述符</a><a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/07/#bips-for-output-script-descriptors>草案 BIP</a>被 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/08/#bips-1143>创建</a>。 描述符是包含所有必要信息的字符串，这些信息用于允许钱包或其他程序追踪向特定脚本或一组相关脚本的付款或花费。（举个例子，一个地址或一组例如在 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/hd-key-generation/ >HD wallet</a> 中的相关地址)。描述符通过 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/miniscript/ >miniscript</a> 较好地组合起来， 允许钱包处理对更大规模脚本的追踪和签名。它也可以和 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/psbt/ >PSBT</a> 较好地组合起来，允许钱包决定使用哪把密钥控制多签脚本。到今年年底，比特币核心的新创建钱包已经<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/27/#bitcoin-core-23002>默认</a>是基于描述符的钱包了。</p><p id=zeroconfchan></p><p>一种此前从未纳入 LN 协议的常用创建 LN 通道的方式在 7 月被<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/07/#zero-conf-channel-opens>指定</a>为 LN 协议。零确认通道创建，也被称为<em>涡轮通道</em>，是一种新的单一资金通道，出资人将其部分或全部初始资金给接受者。这些资金在创建通道的事务收到足够数量的确认之前是不安全的，所以接受者运用标准的 LN 协议将这些资金中的一部分向出资人支付是没有任何风险的。例如，Alice 在 Bob 的托管交易所的一个账户里有几个 BTC。Alice 要求 Bob 创建一个新的通道，支付给她 1.0 BTC。因为 Bob 相信自己不会对他刚刚创建的通道进行双花，所以他可以允许 Alice 通过他的节点向第三方 Carol 发送 0.1 BTC，这甚至可以在创建通道的事务收到一次确认之前发生。指定行为应有助于提高 LN 节点和提供这种服务的商家之间的互操作性。</p><p><img src=/../images/bitcoin-optech-2021-year-in-review/2021-07-zeroconf-channels.png alt="Zero-conf channel illustration"></p><p id=anyprevout></p><p>两条针对新的签名散列（sighash）类型的相关提案被<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/07/14/#bips-943>组合</a>成 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0118.mediawiki>BIP118</a>。<code>SIGHASH_NOINPUT</code>， 2017 年提出，其中一部分基于可追溯到数十年前的提案，被<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/sighash_anyprevout/ ><code>SIGHASH_ANYPREVOUT</code> 和 <code>SIGHASH_ANYPREVOUTANYSCRIPT</code></a> 取代，它们是在 2019 年首次<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2019/05/21/#proposed-anyprevout-sighash-modes>提出的</a>。 新的 sighash 类型将允许例如 LN 和<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/vaults/ >金库</a>等链外协议减少需要保存的中间状态的数量，大大降低了存储需求和复杂性。对于多方协议来说，由于削减了需要一开始生成的不同状态的数量，其好处可能更加显著。</p><h2 id=八月><a href=#八月 class=headerlink title=八月></a>八月</h2><p id=fibonds></p><p>忠诚保证保险是一个至少在 2010 就被<a target=_blank rel=noopener href=https://en.bitcoin.it/wiki/Contract#Example_1:_Providing_a_deposit>描述</a>的一个想法，意在锁定比特币一段时间，以便为第三方系统的不当行为创造成本。因为在时间锁定期间，比特币无法再被使用，其它系统中的用户如果在锁定期内被禁止或惩罚，便不能使用相同的比特币创建虚拟身份。在 8 月，JoinMarket <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/08/11/#implementation-of-fidelity-bonds>投产</a>了首个大规模分布式的忠诚保证保险的应用。截至发布日，超过 50 BTC 已被时间锁定（当时超过 200 万美元）。</p><p id=pathfinding></p><p>8 月，一个 LN 的新的寻路变体被<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/08/25/#zero-base-fee-ln-discussion>讨论</a>。该技术的支持者认为，路由节点根据金额收取一定比例的手续费相比为每笔支付收取最小的<em>基础费用</em>有效得多。 其他人有不同看法。到今年年底，该技术的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/27/#c-lightning-4771>一个变体</a> 将在 C-Lightning 中实现。</p><hr><p id=optech></p><h3 id=2021-总结><a href=#2021-总结 class=headerlink title="2021 总结"></a>2021 总结</h3><h3 id=Bitcoin-Optech><a href=#Bitcoin-Optech class=headerlink title="Bitcoin Optech"></a>Bitcoin Optech</h3><p>在 Optech 的第 4 年，我们发布了 51 篇周 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/ >通讯</a>， 为<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/ >主题索引</a> 增加了 30 页新内容，发布了 <a target=_blank rel=noopener href=https://bitcoinops.org/en/cardcoins-rbf-batching/ >contributed blog post</a>, (在<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/01/#preparing-for-taproot-11-ln-with-taproot>两位</a>客座<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/08/#preparing-for-taproot-12-vaults-with-taproot>作者</a>的帮助下) 撰写了 21 期关于 <a target=_blank rel=noopener href=https://bitcoinops.org/en/preparing-for-taproot/ >准备 taproot</a> 的系列. 总的来说，Optech 今年发表了超过 80,000 字的比特币软件研究和开发，大致相当于一本 250 页的书。</p><hr><h2 id=九月><a href=#九月 class=headerlink title=九月></a>九月</h2><p id=tluv></p><p>比特币开发者长期以来一直在讨论的一个功能是向一个脚本发送比特币的能力，而这个脚本可以限制哪些其他脚本后来可以收到这些比特币，一种称为<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/covenants/ >限制条款</a>的机制。例如，Alice 收到了一些她的热钱包可以花费的发送至脚本的比特币——但她想使用热钱包花费这些比特币时，仅能将其转移到第二个脚本，且有延时。在延时期间，她的冷钱包可以申领资金。如果没有申领，延时期满，她的热钱包就可以自由花费了。9 月，一个新的操作码 <code>OP_TAPLEAF_UPDATE_VERIFY</code> 被<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/09/15/#covenant-opcode-proposal>提出</a> ，用于创建这类限制条款，尤其是利用 taproot 的既可以使用签名（密钥路径花费）也可以使用<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/mast/ >类似 MAST</a> 脚本树（脚本路径花费）来花费资金的能力，带来特别的好处。新的操作码尤其对创建 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/joinpools/ >joinpool</a> 特别有用，可大幅提升隐私，通过允许多用户简便、无须信任地共享一个 UTXO 所有权的方式。</p><h2 id=十月><a href=#十月 class=headerlink title=十月></a>十月</h2><p id=txhids></p><p>在十月，比特币开发者讨论了一种新的<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/06/#proposal-for-transaction-heritage-identifiers>标记</a>事务的方法，用于用户选择花费哪个集合的比特币。目前，比特币是通过上次花费时在事务中的位置标记的；例如 “事务甲，输出 0 ”。一个新的提案将允许这样标记比特币，使用此前花费它们的事务再加上它们在继承关系中的位置以及它们在事务中的位置；例如，“事务乙到第 2 个孩子，输出 0 ”。有人建议这将为例如 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/eltoo/ >eltoo</a>， <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/channel-factories/ >通道工厂</a>以及<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/watchtowers/ >瞭望塔服务</a>提供设计优势，这些都造福例如 LN 等合约协议。</p><p id=ptlcsx></p><p>此外在 10 月，一组提升 LN 的现存想法被打包成一个<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/10/13/#multiple-proposed-ln-improvements>简单的提案</a>将带来和 eltoo 类似的好处，但无需 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/sighash_anyprevout/ >SIGHASH_ANYPREVOUT</a> 软分叉甚至是任何共识改变。该建议将减少支付延迟，几乎与数据在特定路径上的所有路由节点之间的单向传输速度一样快。它还将提高弹性，允许节点在创建通道时备份它所需要的所有信息，并在数据恢复期间的大多数情况下可获得任何其他信息。它还将允许用离线密钥接收付款，特别是允许商家节点限制其密钥需要被联网计算机使用的时间。</p><h2 id=十一月><a href=#十一月 class=headerlink title=十一月></a>十一月</h2><p id=lnsummit></p><p>LN 开发者举办了 <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2018/11/20/#feature-news-lightning-network-protocol-11-goals>2018 以来</a>的首次峰会， <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/11/10/#ln-summit-2021-notes>讨论了</a>的主题，包括在 LN 使用 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/taproot/ >taproot</a> ， 包括 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/ptlc/ >PTLC</a>，用于<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/multisignature/ >多签名</a>的 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/musig/ >MuSig2</a> 以及 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/eltoo/ >eltoo</a>；将规范讨论从 IRC 转移到视频聊天；当前 BOLT 规范模型的改变；<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/onion-messages/ >洋葱消息</a>以及<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/offers/ >要约</a>; <a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2019/07/03/#stuckless-payments>无滞碍支付</a>; <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/channel-jamming-attacks/ >通道拥塞攻击</a> 以及多种缓解措施；<a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/trampoline-payments/ >蹦床支付</a>.</p><h2 id=十二月><a href=#十二月 class=headerlink title=十二月></a>十二月</h2><p id=bumping></p><p>对于链上的单签事务，提升费率以鼓励矿工更快确认是相对直接的。但是对于合约协议，例如 LN 和 <a target=_blank rel=noopener href=https://bitcoinops.org/en/topics/vaults/ >金库</a>， 并非所有授权此花费的签名者在需要提升费用的时候都空闲。更糟糕的是，合约协议常要求确定的事务在一个截止时间前确认——否则诚实的用户可能会丢失资金。12 月，我们看到<a target=_blank rel=noopener href=https://bitcoinops.org/en/newsletters/2021/12/08/#fee-bumping-research>发布了</a>费用提升的研究 ，有关如何为合约协议选择有效的费用提升机制，有助于促进对这一重要的长期问题的解决方案的讨论。</p><h2 id=结论><a href=#结论 class=headerlink title=结论></a>结论</h2><p>我们在本年度总结中尝试创新 —— 描述了 2021 年二十多个值得关注的发展，却未提及一个贡献者的名字。我们感谢所有这些贡献者，并非常希望他们因其令人难以置信的工作而受到表彰，但我们也想表彰所有通常不会被提及的贡献者。</p><p>他们是花费数小时代码审核的人，是为既定行为编写测试用例以确保不会意外改变的人，是努力调试奇怪的问题以在出现资金风险前修复问题的人，是在做其它数以百计如未妥善处理便会出现大新闻的工作的人。</p><p>这份 2021 年的最后一份通讯是献给他们的。没有一个简单的方法来列举这些不为人知的贡献者的名字。 相反，我们在本通讯中省略了所有的名字，以表明发展比特币是一个团队的努力，其中一些最重要的工作是由那些名字从未出现在本通讯任何一期的人完成的。</p><p>我们感谢他们，感谢比特币 2021 年的所有贡献者。我们迫不及待地想看看他们将在 2022 年实现哪些令人激动的新发展。</p><p><em>Optech 通讯将于 1 月 5 日恢复常规的周三发布。</em></p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>