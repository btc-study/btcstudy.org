<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>为什么比特币需要限制条款</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/tools>工具</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">为什么比特币需要限制条款</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>为什么比特币需要限制条款</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/tools>工具</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%99%90%E5%88%B6%E6%9D%A1%E6%AC%BE%E6%8F%90%E6%A1%88%E7%9A%84%E6%82%A0%E4%B9%85%E5%8E%86%E5%8F%B2><span class=toc-text>限制条款提案的悠久历史</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%99%90%E5%88%B6%E6%9D%A1%E6%AC%BE%E7%9A%84%E7%B1%BB%E5%9E%8B><span class=toc-text>限制条款的类型</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%99%90%E5%88%B6%E6%9D%A1%E6%AC%BE%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF><span class=toc-text>限制条款的应用场景</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%99%90%E5%88%B6%E6%9D%A1%E6%AC%BE%E7%9A%84%E5%A4%8D%E6%9D%82%E6%80%A7><span class=toc-text>限制条款的复杂性</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BF%9D%E9%99%A9%E6%9F%9C><span class=toc-text>保险柜</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%88%A9%E7%94%A8%E4%BF%9D%E9%99%A9%E6%9F%9C%E9%83%A8%E7%BD%B2%E5%AF%86%E9%92%A5%E6%B3%84%E9%9C%B2%E7%AD%96%E7%95%A5><span class=toc-text>利用保险柜部署密钥泄露策略</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%8D%9A%E5%BC%88%E8%AE%BA%E4%B8%87%E5%B2%81><span class=toc-text>博弈论万岁</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB><span class=toc-text>扩展阅读</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>为什么比特币需要限制条款</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt="Jameson Lopp"><div class=page-author-info><strong>Jameson Lopp</strong><time class=has-text-grey datetime=2023-03-13T06:13:01.000Z>2023-03-13</time></div></div><div class=is-flex><a href=/tags/covenant><i class="page-tag mr-1 px-1">covenant</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Jameson Lopp</em></p><p><em>来源：<a target=_blank rel=noopener href=https://blog.keys.casa/why-bitcoin-needs-covenants/ >https://blog.keys.casa/why-bitcoin-needs-covenants/</a></em></p></blockquote><p>比特币脚本用于定义花费某个 UTXO 所需满足的条件。当你创建一个比特币地址来接收资金时，该地址实际上是一个比特币脚本（变换后）的哈希，定义了解锁和花费资金的必要条件。</p><p><img src=/images/why-bitcoin-needs-covenants/Screenshot-from-2023-01-24-11-16-48.png alt=img></p><p>截至发稿时，比特币脚本 <strong>只</strong> 能定义比特币交易中的输入（被花费的资金）必需满足的条件。没有一种方法能够限制比特币交易输出（被花费的资金的去向）的任何属性。</p><blockquote><p>比特币限制条款（covenants）是一种能够给未来的比特币交易设置条件的机制。</p></blockquote><p>我们为何要关注限制输出条件的能力？过去 14 年来，比特币虽然不具备这一功能，却一直保持良好运行不是吗？好吧，这不是因为缺少尝试。</p><h2 id=限制条款提案的悠久历史><a href=#限制条款提案的悠久历史 class=headerlink title=限制条款提案的悠久历史></a>限制条款提案的悠久历史</h2><p>截至发稿时，人们关于限制条款的讨论已经持续了 9 年半以上！</p><p>我将我目前找到的所有关于限制条款的讨论（我可能会有疏漏）按时间顺序罗列了出来：</p><ul><li>CoinCovenants（<a target=_blank rel=noopener href="https://bitcointalk.org/index.php?topic=278122.0&ref=casa-blog">Bitcointalk 帖子</a>）</li><li>CHECKOUTPUTVERIFY（<a target=_blank rel=noopener href="https://fc16.ifca.ai/bitcoin/papers/MES16.pdf?ref=casa-blog">白皮书</a>）</li><li>OP_CHECKSIGFROMSTACK（<a target=_blank rel=noopener href="https://blog.blockstream.com/en-covenants-in-elements-alpha/?ref=casa-blog">博客文章</a>）</li><li>SIGHASH_ANYPREVOUT (<a target=_blank rel=noopener href="https://github.com/bitcoin/bips/blob/master/bip-0118.mediawiki?ref=casa-blog">BIP-118</a>)</li><li>Oleg Andreev 提出的“保险柜（Vault）”概念（<a target=_blank rel=noopener href="https://blog.oleganza.com/post/163955782228/how-segwit-makes-security-better?ref=casa-blog">博客文章</a>）</li><li>Bryan Bishop 提出的“预签名保险柜（Pre-signed Vault）”概念（<a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-August/017229.html?ref=casa-blog">邮件列表帖子</a>）</li><li>OP_TAPLEAFUPDATEVERIFY（<a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019419.html?ref=casa-blog">邮件列表帖子</a>）</li><li>OP_CAT（<a target=_blank rel=noopener href="https://medium.com/blockstream/cat-and-schnorr-tricks-i-faf1b59bd298?ref=casa-blog">博客文章</a>）</li><li>OP_CHECKOUTPUTSHASHVERIFY（<a target=_blank rel=noopener href="https://github.com/JeremyRubin/bips/blob/op-checkoutputshashverify/bip-coshv.mediawiki?ref=casa-blog">BIP 草案</a>）</li><li>高效比特币保险柜 (Efficient Bitcoin Vault)（<a target=_blank rel=noopener href="https://github.com/fresheneesz/bip-efficient-bitcoin-vaults?ref=casa-blog">BIP 草案</a>）</li><li>OP_CHECKTEMPLATEVERIFY (<a target=_blank rel=noopener href="https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki?ref=casa-blog">BIP-119</a>)</li><li>OP_TXHASH（<a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019813.html?ref=casa-blog">邮件列表帖子</a>）</li><li>OP_EVICT（<a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-February/019937.html?ref=casa-blog">邮件列表帖子</a>）</li><li>OP_TX（<a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-May/020450.html?ref=casa-blog">邮件列表帖子</a>）</li><li>OP_CAT2（<a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-May/020427.html?ref=casa-blog">邮件列表帖子</a>）</li><li>OP_VAULT（<a target=_blank rel=noopener href="https://jameso.be/vaults.pdf?ref=casa-blog">白皮书</a>）</li></ul><h2 id=限制条款的类型><a href=#限制条款的类型 class=headerlink title=限制条款的类型></a>限制条款的类型</h2><p>每个限制条款提案都有各自的特点，但是我们可以根据其运作方式的不同特性将它们大致分成两类。</p><ul><li><strong>通用型</strong> —— 这类限制条款不仅提供更高的灵活性和更丰富的功能，通常还会带来更多复杂性和取舍，例如 OP_CHECKTEMPLATEVERIFY、OP_CHECKSIGFROMSTACK 和 OP_CAT。</li><li><strong>限制型</strong> —— 这类限制条款的目的只是增加一组特定功能，理解起来往往更容易，例如 Brian Bishop 提出的预签名保险柜和 OP_VAULT。</li></ul><p>有些限制条款提案本质上是一次性的，有些限制条款提案则永远都能将其限制向前传播。</p><ul><li><strong>非递归型</strong> —— 这类限制条款只能将它们的规则应用于流经你所构建的逻辑树的一“轮”比特币价值，例如 OP_CHECKTEMPLATEVERIFY。</li><li><strong>递归型</strong> —— 这类限制条款能够在不受限制的情况下将自身（连同其限制）复制到今后接收资金的 UTXO 中，例如 OP_VAULT。</li></ul><p>就具体实现层面而言，限制条款提案会通过以下两种方式之一将功能添加至协议。</p><ul><li><strong>基于操作码型</strong> —— 这类限制条款需要通过软分叉将一个（或多个）新操作添加至比特币的脚本语言，例如 OP_CHECKTEMPLATEVERIFY 和 OP_VAULT。</li><li><strong>基于签名</strong> —— 不同于将花费限制存储在比特币脚本内，未来的（预签名）交易可以先将其属性构造出来，在执行脚本时再将哈希值与 OP_CHECKSIG 进行比较，以达到验证属性的目的。例如，OP_CHECKSIGFROMSTACK 和 SIGHASH_ANYPREVOUT。</li></ul><h2 id=限制条款的应用场景><a href=#限制条款的应用场景 class=headerlink title=限制条款的应用场景></a>限制条款的应用场景</h2><ul><li><a target=_blank rel=noopener href="https://utxos.org/uses/batch-channels/?ref=casa-blog">批量闪电网络通道</a></li><li><a target=_blank rel=noopener href="https://utxos.org/uses/scaling/?ref=casa-blog">区块链拥塞控制</a></li><li><a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/017964.html?ref=casa-blog">Coin Pool</a></li><li><a target=_blank rel=noopener href="https://utxos.org/uses/options/?ref=casa-blog">去中心化期权</a></li><li><a target=_blank rel=noopener href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-January/021339.html?ref=casa-blog">谨慎日志合约优化</a> (<a target=_blank rel=noopener href="https://bitcoinops.org/en/newsletters/2022/02/02/?ref=casa-blog#improving-dlc-efficiency-by-changing-script">2</a>)</li><li><a target=_blank rel=noopener href="https://utxos.org/uses/drivechains/?ref=casa-blog">Drivechain 双向锚定</a></li><li><a target=_blank rel=noopener href="https://utxos.org/uses/non-interactive-channels/?ref=casa-blog">非交互式闪电网络通道</a></li><li>无限长度脚本</li><li><a target=_blank rel=noopener href="https://utxos.org/uses/taproot-bet/?ref=casa-blog">软分叉下注</a></li><li><a target=_blank rel=noopener href="https://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a?ref=casa-blog#spacechains">Spacechain</a></li><li><a target=_blank rel=noopener href="https://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a?ref=casa-blog#statechains">Statechain</a></li><li>交易级 MAST</li><li><a target=_blank rel=noopener href="https://utxos.org/uses/miningpools/?ref=casa-blog">免信任矿池</a></li><li>图灵完备合约</li><li><a target=_blank rel=noopener href="https://github.com/ariard/bitcoin-contracting-primitives-wg/blob/main/use-cases/vaults.md?ref=casa-blog">保险柜</a></li></ul><h2 id=限制条款的复杂性><a href=#限制条款的复杂性 class=headerlink title=限制条款的复杂性></a>限制条款的复杂性</h2><p><img src=/../images/why-bitcoin-needs-covenants/image-20230313120115445.png alt=image-20230313120115445></p><p>基于签名的限制条款提案需要提前设计并签署所有可能的未来交易，导致私钥和费率被锁定。</p><p>一些提案甚至要求你生成短期（临时）私钥用于创建所有预签名交易，然后你有责任安全删除这些私钥，以防攻击者利用它们转移资金。</p><p>要求创建预签名交易的限制条款意味着你每生成一笔新的存款都要重复这一过程（因为这会根据你的限制条款中的花费条件创建一个新的 UTXO）。这意味着，你需要持续负担繁重的维护成本。另外，为了通过限制条款路径转移资金，你必须为每个你想要花费的 UTXO 广播一笔单独的交易。显而易见，这种复杂性会膨胀到令人发指的程度。以下是某个使用预签名交易构建的保险柜的逻辑流程图：</p><p><img src=/../images/why-bitcoin-needs-covenants/graphviz-transaction-tree-1.png alt=img></p><p style=text-align:center>- <a target=_blank rel=noopener href="https://diyhpl.us/~bryan/irc/graphviz-transaction-tree.png?ref=casa-blog">查看原图</a> -</p><p>可以想象得到，在上图所示的潜在资金流被使用之前（不限时间长度，可能长达数年），预先承诺它们会产生关于安全性和密钥可用性的各种难题，而这些问题都 <em>有可能 导致资金丢失。</em></p><p>一些限制条款结构会使用绝对时间锁来强制造成延迟以延缓攻击者的速度，为你提供“逃生舱”来规避密钥泄露所带来的风险。这会进一步增加复杂性，因为你需要在时间锁到期时更新你的限制条款（以及所有预签署交易）。只使用相对时间锁的限制条款则不存在这一问题。值得注意的是，这并不只是理论上存在的问题，因为用于保护与比特币挂钩的 Liquid 侧链的比特币脚本使用了同样的时间锁逻辑，造成了必须被修补的安全问题。</p><p>链接：<a target=_blank rel=noopener href="https://medium.com/blockstream/patching-the-liquid-timelock-issue-b4b2f5f9a973?ref=casa-blog">https://medium.com/blockstream/patching-the-liquid-timelock-issue-b4b2f5f9a973?ref=casa-blog</a></p><p><a target=_blank rel=noopener href="https://github.com/ariard/bitcoin-contracting-primitives-wg/blob/main/constraints/evil-covenant.md?ref=casa-blog">恶意限制条款</a>会造成非常可怕的后果，但是我认为这属于盲目恐慌（FUD，fear, uncertainty, doubt, 懼、惑、疑）。有一种说法是，递归型限制条款可以被用来在现有 UTXO 上形成“污点”，例如，需要某个第三方的签名才能使用。类似的污点会在所有已发行比特币中蔓延开来，并且无法被消除。我之所以认为这是在杞人忧天，是因为我们当下也可以使用 2-of-2 多签脚本实现相似的系统，只要有一方拒绝签署不满足 “限制条款” 的交易即可。在像比特币这样自愿参与的网络中，根本不可能强迫人们采用这类方案。<strong>注意</strong>：<a target=_blank rel=noopener href="https://twitter.com/LaurentMT/status/1617925707157630976?ref=casa-blog">曾有人指出</a>，限制条款有时可以用来向收款方隐瞒限制，因此我主张限制条款应该要求用户对其条件做出承诺，以规避“卷款跑路”的风险。</p><h2 id=保险柜><a href=#保险柜 class=headerlink title=保险柜></a>保险柜</h2><p>只要用对了限制条款实现，我们就有可能解锁海量应用场景。鉴于我在高安全多签钱包领域有长达 8 年的工作经验，我最感兴趣的应用场景是 “保险柜（vaults）”。我认为保险柜带来的价值是显而易见的，而且适用于<strong>每个自托管比特币用户</strong>，无论他们使用的是哪种钱包。</p><blockquote><p>比特币保险柜是一种限制条款交易，使用时间锁限制资金控制权向热钱包的转移，但是能够将资金即时转移至恢复钱包。</p></blockquote><p><img src=/../images/why-bitcoin-needs-covenants/Screenshot-from-2023-01-24-11-19-25.png alt=img></p><p style=text-align:center>- 图 1：比特币保险柜的基础生命周期（https://jameso.be/vaults.pdf） -</p><p>如果 10 年时间 15 个提案都没能下得了定论，限制条款可以说是相当棘手的难题，需要做出<strong>大量取舍</strong>。特别要指出的是，如果需要预先计算和签署大型交易图，我个人会非常不看好其可用性，对采用分布式多密钥架构的用户来说更是如此。</p><p>OP_VAULT 是最新的保险柜提案之一，是唯一支持以下功能的：</p><ol><li>批量操作</li><li>部分花费</li><li>动态取款目标</li><li>递归存款</li></ol><p>OP_VAULT 旨在赋予终端用户更多灵活性，让他们不必承诺未来的特定交易也可以创建一个保险柜，使得他们在花费时享有较高的交易费灵活性，能够轻松进行批量操作，还可以部分花费保险柜里的资金。这里不再进一步讨论更多细节，我只想说此提案感觉已经将简约原则（KISS, Keep It Simple, Stupid）贯彻到底。设计解决方案时，我们更喜欢简单，因为复杂是安全的大敌。</p><p>下图中中本聪的这句话原本形容的是多签名托管交易能力，但是我敢说它更适用于保险柜。个人无需寻求受信第三方的帮助或打破任何不可侵犯的协议原则，就能找回被盗资金，是一个巨大的附加价值。</p><p><img src=/../images/why-bitcoin-needs-covenants/satoshi-gold-lead-2.jpg alt=Satoshi-nakamoto-quote-about-reactive-security></p><p style=text-align:center>- 想象一下黄金被偷之后变成了铅块 -</p><h2 id=利用保险柜部署密钥泄露策略><a href=#利用保险柜部署密钥泄露策略 class=headerlink title=利用保险柜部署密钥泄露策略></a>利用保险柜部署密钥泄露策略</h2><p>如果密钥泄露，你会怎么办？</p><p>过去，在简单的单签名设置下，密钥泄露会造成巨大损失。<em>只有等到资金被盗后</em>，你才会意识到密钥已经泄露。</p><p>多密钥设置会稍稍降低这种风险。但是这种设置需要通过较为繁重的<strong>主动维护</strong>来定期检查密钥的状态。目前（区块链上）还没有一个通用方法能够在盗窃发生之前知道泄露。</p><p>请注意，密码货币安全标准（CryptoCurrency Security Standard）规定即使是通过最低级别的认证也<a target=_blank rel=noopener href="https://cryptoconsortium.org/cryptocurrency-security-standard-documentation/details/?ref=casa-blog#elementor-toc__heading-anchor-7">需要密钥泄露策略</a>。迄今为止，密钥泄露策略只对组织&#x2F;机构托管方有用，但有一个好消息是保险柜可以让个人也能部署密钥泄露策略来保护 1000 美元以上的资产！如果你想了解更多关于密钥泄露策略的内容，可以观看这个视频：<a target=_blank rel=noopener href=https://youtu.be/DngibIYQ3mM>https://youtu.be/DngibIYQ3mM</a></p><h2 id=博弈论万岁><a href=#博弈论万岁 class=headerlink title=博弈论万岁></a>博弈论万岁</h2><p>有了正确的工具，我们在应对密钥泄露事件时不再仅仅依赖主观能动性，而是可以被动响应。如果你具备一定的技术知识，应该不难看懂下面这张图：</p><p>﻿<img src=/../images/why-bitcoin-needs-covenants/Screenshot-from-2023-01-24-11-17-57.png alt=img></p><p style=text-align:center>- 闪电网络通道结构 -</p><p>上图显示了一组用于构建和更新闪电网络通道的预签名交易。闪电网络应用哈希时间锁合约（HTLC）来创建一套博弈论，让参与方难以欺骗彼此。</p><p>通过保险柜，你可以创建一套新的博弈论。就像你可以运行瞭望塔来监视试图欺骗你的闪电网络通道对手方一样，你也可以运行一个瞭望塔来确保没有人入侵你的比特币保险柜。如果你发现密钥泄露，你可以通过自动化的方式轻松将资金转移到安全之处。</p><p>比特币保险柜远远优于时间锁，我们在 Casa 经常会收到用户对时间锁功能的需求反馈。我曾在一篇文章中阐述过一些时间锁对用户不友好的原因。这也解释了为什么很多钱包都不提供时间锁功能。</p><p>视频：<a target=_blank rel=noopener href=https://blog.keys.casa/bitcoin-multisig-time-locking-challenges/ >https://blog.keys.casa/bitcoin-multisig-time-locking-challenges/</a></p><p>另外，一旦时间锁到期，被攻击的比特币时间锁钱包会引发赛跑。想想看：你和攻击者都持有该钱包的私钥。因此，你实际上是在与攻击者竞争，需要使用更高的交易费贿赂矿工将你的取款交易上链。</p><p>这就是只有主动式安全工具的缺点。即使你成功构建了一个很难被窃取密钥的设置，一旦密钥被泄露，也很可能会造成惨重的损失。</p><p>需要明确的是，限制条款和保险柜不是灵丹妙药。凡是能被获取的东西都有可能被泄露。因此，保险柜的恢复钱包必须具备极高的安全性，使其难以被攻破，否则攻击者可能会先入侵恢复钱包，再不慌不忙地入侵保险柜，最后将转移到恢复钱包的资金一扫而空。</p><p><img src=/../images/why-bitcoin-needs-covenants/Screenshot-from-2023-01-24-11-18-25.png alt=img></p><p>我发自内心地相信，每个自托管比特币用户和钱包开发者都对用户友好型保险柜功能垂涎三尺。能够追回因安全架构被攻破而丢失的资金意味着比特币用户可以高枕无忧，知道自己有了犯错的余地，不会因为一时疏忽而招致严重后果。</p><h2 id=扩展阅读><a href=#扩展阅读 class=headerlink title=扩展阅读></a>扩展阅读</h2><ul><li><a target=_blank rel=noopener href="https://bitcoincovenants.com/?ref=casa-blog">BitcoinCovenants.com</a></li><li>Bitcoin Optech 关于<a target=_blank rel=noopener href="https://bitcoinops.org/en/topics/covenants/?ref=casa-blog">限制条款</a>和<a target=_blank rel=noopener href="https://bitcoinops.org/en/topics/vaults/?ref=casa-blog">保险柜</a>的主题页</li><li><a target=_blank rel=noopener href="https://github.com/ariard/bitcoin-contracting-primitives-wg?ref=casa-blog">比特币合约原语工作组</a></li><li><a target=_blank rel=noopener href="https://merkle.fun/?ref=casa-blog">MATT 限制条款</a></li><li><a target=_blank rel=noopener href="https://tftc.io/tftc-podcast/388-op_vault-and-bitcoin-governance-james-obeirne/?ref=casa-blog">TFTC 关于 OP_VAULT 的播客</a></li><li><a target=_blank rel=noopener href="https://utxos.org/?ref=casa-blog">UTXOs.org</a></li></ul><p>（完）</p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>