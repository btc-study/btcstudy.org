<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>可以开启闪电通道的 WabiSabi Coinjoin 会是什么样？</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/mempool>mempool</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">可以开启闪电通道的 WabiSabi Coinjoin 会是什么样？</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>可以开启闪电通道的 WabiSabi Coinjoin 会是什么样？</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/mempool>mempool</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C%E6%98%AF%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84%E5%A4%B4%E5%8F%B7%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88><span class=toc-text>闪电网络是比特币的头号扩容方案</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C><span class=toc-text>什么是闪电网络</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BD%BF%E7%94%A8-Wasabi-Wallet-%E4%B8%AD%E7%9A%84%E9%9A%90%E7%A7%81-UTXO-%E5%BC%80%E5%90%AF%E4%B8%80%E6%9D%A1%E9%97%AA%E7%94%B5%E9%80%9A%E9%81%93><span class=toc-text>使用 Wasabi Wallet 中的隐私 UTXO 开启一条闪电通道</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BD%BF%E7%94%A8-Wasabi-Wallet><span class=toc-text>使用 Wasabi Wallet</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%80%89%E6%8B%A9%E5%B9%B6%E4%BD%BF%E7%94%A8%E4%B8%80%E6%AC%BE%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C%E9%92%B1%E5%8C%85><span class=toc-text>选择并使用一款闪电网络钱包</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%BC%80%E5%90%AF%E4%B8%80%E6%9D%A1%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C%E9%80%9A%E9%81%93><span class=toc-text>开启一条闪电网络通道</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%B8%BA%E4%BD%95-Coinjoin-%E5%92%8C%E9%97%AA%E7%94%B5%E9%80%9A%E9%81%93%E5%BC%80%E5%90%AF%E6%93%8D%E4%BD%9C%E5%8F%AF%E4%BB%A5%E7%9B%B8%E5%BE%97%E7%9B%8A%E5%BD%B0><span class=toc-text>为何 Coinjoin 和闪电通道开启操作可以相得益彰</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%BD%BF%E7%94%A8-Coinjoin-%E4%BA%A4%E6%98%93%E7%9B%B4%E6%8E%A5%E5%BC%80%E5%90%AF%E4%B8%80%E6%9D%A1%E9%97%AA%E7%94%B5%E9%80%9A%E9%81%93><span class=toc-text>使用 Coinjoin 交易直接开启一条闪电通道</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#Vortex-%E6%A1%88%E4%BE%8B><span class=toc-text>Vortex 案例</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#Vortex-%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7><span class=toc-text>Vortex 的实现的局限性</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#Wasabi-Wallet-%E7%9A%84%E6%BD%9C%E8%83%BD><span class=toc-text>Wasabi Wallet 的潜能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#WabiSabi-%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%81%97%E7%95%99%E9%97%AE%E9%A2%98><span class=toc-text>WabiSabi 实现的遗留问题</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%BD%92%E8%B4%A3%E8%BD%AE%E6%AC%A1><span class=toc-text>归责轮次</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%B8%8D%E5%8F%AF%E9%A2%84%E6%B5%8B%E6%80%A7><span class=toc-text>不可预测性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BB%93%E8%AE%BA><span class=toc-text>结论</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>可以开启闪电通道的 WabiSabi Coinjoin 会是什么样？</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt=gustavo><div class=page-author-info><strong>gustavo</strong><time class=has-text-grey datetime=2023-10-27T09:15:12.000Z>2023-10-27</time></div></div><div class=is-flex><a href=/tags/CoinJoin><i class="page-tag mr-1 px-1">CoinJoin</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Gustavo Flores Echaiz &amp; Turbolay</em></p><p><em>来源：<a target=_blank rel=noopener href=https://blog.wasabiwallet.io/what-lightning-network-enabled-wabisabi-coinjoins-might-look-like/ >https://blog.wasabiwallet.io/what-lightning-network-enabled-wabisabi-coinjoins-might-look-like/</a></em></p></blockquote><p><strong>Wasabi Wallet 的 WabiSabi coinjoin 协议实现没有集成闪电网络，但，如果能支持闪电网络的话，会是什么样</strong>？</p><p>当前，使用创建自 Wasabi 的资金来开启支付通道，需要分别完成 coinjoin 和通道开启两个步骤，这会产生多个没有必要的链上交易。一种叫做 “Votex” 的新实现，允许 Chaumian coinjoin 交易的隐私输出直接创建一条闪电通道，但也有一些限制。未来，支持闪电网络的 WabiSabi coinjoin 也许可以解决其中一些问题。闪电通道关闭的复杂性又在另一个层次了，但本文不会讨论这部分。</p><p>下文将解释为什么闪电网络是比特币的主要扩容解决方案、为什么支付通道的开启和 coinjoin 可以很好地结合在一起、当前如何使用一个 Wasabi Wallet 的隐私 UTXO 开启一条闪电通道、Vortex 如何处理直接在 coinjoin 输出中开启通道的问题，最后，未来启用闪电网络的 WabiSabi coinjoin 可能会如何解决这个问题。</p><h2 id=闪电网络是比特币的头号扩容方案><a href=#闪电网络是比特币的头号扩容方案 class=headerlink title=闪电网络是比特币的头号扩容方案></a>闪电网络是比特币的头号扩容方案</h2><p>到了 2023 年，这已经是一个没有争议的说法了：闪电网络是比特币的主要扩容方案；这是一个事实。新的技术可能会出现，各种研究也能得到许多支持。但是，比特币的企业和开发者社区已经聚焦了，以开发能够让闪电网络的用户体验更加顺滑的解决方案为首要优先级。</p><h2 id=什么是闪电网络><a href=#什么是闪电网络 class=headerlink title=什么是闪电网络></a>什么是闪电网络</h2><p><strong>闪电网络是一个去中心化的支付网络，允许即时的、低成本的比特币交易</strong>。参与者们要跟一个对手开启一条支付通道，这意味着要跟另一个人一起在区块链上锁定一些资金，从而在链下跟 TA 免费地发送交易。参与者随时可以关闭自己的支付通道，从而让资金 “回到链上”（译者注：恢复成自己可以排他式控制、可以给任何人发起比特币交易的状态）。如果你想了解闪电网络是怎么工作的，看<a target=_blank rel=noopener href=https://docs.lightning.engineering/the-lightning-network/overview>这篇</a>。</p><p>关键是，闪电网络不是一种魔法：它需要开启支付通道、关闭支付通道和流动性管理。同样重要的是理解闪电网络的隐私性：你可以通过 <a target=_blank rel=noopener href=https://lightningprivacy.com/en/introduction>Lightning Privacy</a> 项目来了解闪电网络对隐私性的复杂影响，这个研究项目是由 zkSNACKs 公司和 Wasabi Wallet 团队资助的。</p><p>下面，我们要看看当前的 Wasabi Wallet 如何开启闪电通道。使用隐私 UTXO 来开始你在闪电网络上的旅程，对你极为重要。</p><h2 id=使用-Wasabi-Wallet-中的隐私-UTXO-开启一条闪电通道><a href=#使用-Wasabi-Wallet-中的隐私-UTXO-开启一条闪电通道 class=headerlink title="使用 Wasabi Wallet 中的隐私 UTXO 开启一条闪电通道"></a>使用 Wasabi Wallet 中的隐私 UTXO 开启一条闪电通道</h2><p>在这一节，我们会走一遍实现标题所述效果所需的所有步骤：使用 Wasabi Wallet 获得隐私 UTXO、将你的资金发送到一个闪电网络钱包中，然后开启一条支付通道。</p><p><strong>注意，Wasabi 只能提供用来开启闪电通道的隐私 UTXO，但不能保证闪电网络中发生的交易的隐私性。</strong></p><h3 id=使用-Wasabi-Wallet><a href=#使用-Wasabi-Wallet class=headerlink title="使用 Wasabi Wallet"></a>使用 Wasabi Wallet</h3><p>为获得隐私 UTXO，你只需要<a target=_blank rel=noopener href=https://docs.wasabiwallet.io/using-wasabi/WalletGeneration.html>在 Wasabi 中生成一个钱包</a>、备份好你的种子词，然后用这个钱包来接<a target=_blank rel=noopener href=https://docs.wasabiwallet.io/using-wasabi/Receive.html>收资金</a>，然后<a target=_blank rel=noopener href=https://docs.wasabiwallet.io/using-wasabi/CoinJoin.html>等待 coinjoin 进度</a>。这个过程可能需要几分钟，甚至几天，取决于你的数额和设定。</p><p>获得了一个隐私 UTXO 之后，你就可以把它发送到一个闪电网络钱包中；不过，首先，你要选择一款闪电网络钱包。</p><h3 id=选择并使用一款闪电网络钱包><a href=#选择并使用一款闪电网络钱包 class=headerlink title=选择并使用一款闪电网络钱包></a>选择并使用一款闪电网络钱包</h3><p>在选择闪电网络钱包的时候，你需要考虑安全性、隐私性，以及你希望的自主程度。举个例子，Wallet of Satoshi 和 Blink（Bitcoin Beach Wallet）这样的钱包，虽然用起来很简单，但完全是托管的。这意味着你在其中的资金有失盗的风险，所以我们不建议你使用托管钱包。</p><p>另一方面，如果你可以使用在命令行中使用 LND 或者 Core Lightning，你可以最大限度地控制你在闪电网络中的资金，以及你自己的用户体验，但通常要懂技术的用户才能用下来。</p><p><strong>Breez 和 Blixt Wallet 是自主保管的解决方案，隐私性良好（实现了区块过滤器，具有跟 Wasabi 一样的网络隐私性）而且易于使用</strong>。当然，还有许多别的钱包也是好用的备选。</p><p>无论你决定使用哪一款，你都必须先安装软件、生成一个钱包，并从 Wasabi 中发送一笔链上交易到这个新钱包。</p><h3 id=开启一条闪电网络通道><a href=#开启一条闪电网络通道 class=headerlink title=开启一条闪电网络通道></a>开启一条闪电网络通道</h3><p><strong>如果你留心了，你会发现迄今为之我们已经发送了三笔链上交易，但依然还没实现我们的目标</strong>。你还必须找到一个闪电节点作为你的对手，然后在你的闪电网络钱包中发送最后一笔链上交易（开启通道）。</p><p><strong>这证明了，要从一个不隐私的 UTXO 变成在闪电网络中拥有隐私资金，是非常费时费力的。</strong></p><p>结合 coinjoin 的隐私性好处以及闪电网络的可扩展性，对比特币的未来至关重要。我们来看看这两项技术如何结合。</p><h2 id=为何-Coinjoin-和闪电通道开启操作可以相得益彰><a href=#为何-Coinjoin-和闪电通道开启操作可以相得益彰 class=headerlink title="为何 Coinjoin 和闪电通道开启操作可以相得益彰"></a>为何 Coinjoin 和闪电通道开启操作可以相得益彰</h2><p>要理解为什么 coinjoin 交易是开启闪电通道的好地方，我们先回到最基础的东西：coinjoin 的准确定义：</p><p><strong>一种分布式的任务，要求每一个参与者都同时在线，并作出响应；这样他们就能通过一个协议来构造交易，并在一个特定的时间框架内一起签名这笔交易。</strong></p><p>但是 …… 闪电通道的开启操作不也是如此吗！这就是为什么这两件事如此契合。</p><p>唯一真正有难度的地方在于，要在 10 分钟之内解决闪电通道的启动协商，这是通道的时间框架。通道的两个参与者的协商完成后，10 分钟之内，相关的 coinjoin 交易就得广播。</p><p><strong>构造一笔拥有许多参与者的 coinjoin 交易可能比开启一条通道要花时间得多。</strong>因此，coinjoin 流程很容易超出这个限制，导致通道的其中一方撤销通道开启操作。</p><p>但是，因为决定每个节点的时间框架的是协调者，所以，假设参与者之间的通道协调是在 coinjoin 的 “输入登记（input registration）” 阶段的末尾开始的，让整个过程在 10 分钟之内解决是完全有可能的。</p><p><img src=/images/what-lightning-network-enabled-wabisabi-coinjoins-might-look-like/aphic_2.jpg alt=img></p><p>上图就展示了两个协议可以如何混合、使用一个 coinjoin 交易的输出作为通道的注资输出、开启一条通道。</p><p>接下来，我们看看 Vortex 已经发布的解决方案如何实现这一点，以及，在 Wasabi Wallet 或者其它 Wabisabi coinjoin 协调器上又如何实现。</p><h2 id=使用-Coinjoin-交易直接开启一条闪电通道><a href=#使用-Coinjoin-交易直接开启一条闪电通道 class=headerlink title="使用 Coinjoin 交易直接开启一条闪电通道"></a>使用 Coinjoin 交易直接开启一条闪电通道</h2><h3 id=Vortex-案例><a href=#Vortex-案例 class=headerlink title="Vortex 案例"></a>Vortex 案例</h3><p><a target=_blank rel=noopener href=https://lnvortex.com/ >Vortex</a> 是一个开源工具，你可以在 Core Lightning、LND 上使用，也可以直接在 Bitcoin Core 上使用。它允许你执行由 taproot 赋能的协作式交易（比如 coinjoin），而且可以直接开启一条闪电通道。这个软件还在开发的 alpha 阶段，但这个<a target=_blank rel=noopener href=https://twitter.com/benthecarman/status/1590886577940889600>交易样品</a>已经在比特币网络上完成了。它是基于 Zerolink 协议的。</p><p>Vortex 的开发者 Ben Carman 在 2022 年12 月宣布，虽然 Vortex 已经实现了直接用 coinjoin 交易来开启闪电通道的目标，搭配 Core Lihgtning 和 LND 并不是最优选择，搭配 LDK 才是，因为闪电网络在其它方面缺乏隐私性。</p><p><img src=/../images/what-lightning-network-enabled-wabisabi-coinjoins-might-look-like/-EWvAg8.png alt=img></p><p><strong>他现在正在开发 Mutiny Wallet，预计会实现 Vortex：支持开启闪电网络通道的 coinjoin 交易。</strong></p><h3 id=Vortex-的实现的局限性><a href=#Vortex-的实现的局限性 class=headerlink title="Vortex 的实现的局限性"></a>Vortex 的实现的局限性</h3><p>Vortex 有一些局限性，绝大部分都继承自 ZeroLink 协议。</p><p>首先，输出必须在输入登记阶段（coinjoin 的第一个阶段）就登记（盲化输出）。因此，通道也必须在这个时候协商，这就加重了时间上的束缚。这跟 Wasabi Wallet 当前的 coinjoin 实现是不一样的。</p><p>其次，Vortex 从 ZeroLink 协议继承了 “有毒找零输出（toxic change）” 问题，因为隐私 UTXO 的大小是由协调者服务端选择的。</p><p>最后，Vortex 面临的一个问题是流动性。一个 coinjoin 协调员找到足够多对参与 coinjoin 感兴趣的输入就已经够难得了。如果我们还希望每一个参与者都想打开一条闪电通道，那就更复杂了；而且，还有更难得：给每一条通道都注入同样数额的资金。</p><p>为了解决最后一个问题，Vortex 在输入注册阶段之前加入了额外的一轮，以获得足够多的输入（需要达到一个阈值，2 就足以打破确定性的关联）。Wasabi Wallet 1.0 也曾使用过相同的技术。</p><p><strong>现在，我们已经了解了 Vortex 的局限性，看看在 WabiSabi 协议中开启闪电通道的方法有何不同吧。</strong></p><h3 id=Wasabi-Wallet-的潜能><a href=#Wasabi-Wallet-的潜能 class=headerlink title="Wasabi Wallet 的潜能"></a>Wasabi Wallet 的潜能</h3><p>对于 Vortex 的第一个问题，WabiSabi 协议使得参与者可以推迟谈判开始的时间，只需在 “输出注册（output registration）” 阶段开始之前完成即可，这跟 coinjoin 交易广播的时间近了很多。这没法完全解决这个时间约束的问题，但至少让它变成了一个更容易克服的问题。</p><p>使用 WabiSabi 的主要好处在于，绝大部分时候，来自闪电通道开启操作的找零，也会被 coinjoin 到隐私 UTXO 中。这使得每一个闪电网络参与者的全部余额都变得更加隐私，而不仅仅是为闪电通道而创建的 UTXO。整合这些隐私 UTXO 可能依然会产生问题（削弱隐私性），所以，应该避免在一笔交易中花掉整个钱包的所有余额，以保证一笔支付不会因为数额而被重新关联到某一个 coinjoin 输入。</p><p>我们还可以看出，Vortex 的一个问题是获取流动性。这个问题在使用 WabiSabi 时可能更加糟糕，因为这个协议是越多输入越好。举例来说，zkSNACKs 协调者就要求一次 coinjoin 处理 150 个输入。</p><p><strong>解决这个问题最简单的办法就是使用 zkSNACKs 协调者、跟其它服务（Wasabi Wallet、Trezor、BTCPayServer……）的用户开启闪电通道。</strong>即使其它参与者并不开启通道，跟他们 coinjoin 也是非常有用的，会让辨识谁在开启通道变得更难（尤其考虑到许多输入可能参与了双向注资通道（dual-funded channels）的话）。</p><p>Wasabi 的实现也是完全开源的，足够轻量的（复杂性都在客户端，而不在后台），而且有意地尽可能能减少了泄露给协调员的隐私。因此，协调员所拥有的信息，跟别的链观察者是一样多的，都无法去匿名化用户。</p><h2 id=WabiSabi-实现的遗留问题><a href=#WabiSabi-实现的遗留问题 class=headerlink title="WabiSabi 实现的遗留问题"></a>WabiSabi 实现的遗留问题</h2><h3 id=归责轮次><a href=#归责轮次 class=headerlink title=归责轮次></a>归责轮次</h3><p>但 WabiSabi 也还有一些遗留的问题，最棘手的一个就是 “失败的轮次”。如果某个用户登记了一些输入，但在整个交易由 coinjoin 协调员组装好之后又不提供这些输入的签名，那么这一轮 coinjoin 就失败了。下一轮是所谓的 “归责轮次”，只有在上一轮中成功签名的输入才能登记。这种输入削减会不断迭代，直到可以成功收集所有的签名，或者不再有足够多的白名单输入可用。</p><p>轮次失败可能会导致跟现有的闪电网络协议实现的摩擦：通道开启是不能取消的；只能在超时（相关交易没有在一定时间内广播）后失败（这个超时时间默认是 10 分钟）。</p><p>但如果一轮失败了，前面签名的承诺交易就不再有效了，而通道开启的谈判需要重来一遍，这又只能在上一次谈判的 10 分钟窗口结束之后才能进行。</p><p>所以，协调者又必须等待，以适应闪电网络用户的 10 分钟时间框架；但是，等待在 coinjoin 中是很糟糕的，因为它会指数型提高某些客户端下线、断联的概率。</p><p>最简单的解决方案是：如果用户的初始意图是开启闪电通道，那就不参加归责轮次。这个解决方案很好，但可能需要更多时间来开启通道，因为每一次尝试都要花费 10 分钟，而且只有 15% 的成功概率（基于 zkSNACKs 协调员参数的统计数据），所以，大概需要 1 个小时才能将通道注资交易广播出去。</p><h3 id=不可预测性><a href=#不可预测性 class=headerlink title=不可预测性></a>不可预测性</h3><p>使用 WabiSabi，你无法预知可以从正在进行的 coinjoin 中获得多少匿名性。有时候你会得到很多，但也有时候只是聊胜于无。</p><p>这对普通的 Wasabi 用户来说不是一个问题，因为如果匿名性收获不及预期，他们可以用本轮的输出参加新一轮 coinjoin。但用来开启通道的输出没法再一次混洗，因此必须确保一击命中。</p><p>除了改变 WabiSabi 协议之外，没有简单的修复措施，至少是对现在这些实现来说（这样的更改的一个例子是，让用户在一轮 coinjoin 开始之前声明自己希望接收的输出的面额）。不过，客户端也可以在无法获得足够匿名性的时候退出，但这会被认为是一种 DoS 攻击，而他们会被协调员临时禁止参与 coinjoin。</p><h2 id=结论><a href=#结论 class=headerlink title=结论></a>结论</h2><p>本文介绍了闪电网络的定义和方向、当前的 Wasabi Wallet 如何用来开启隐私的支付通道、为什么可以开启闪电通道的 coinjoin 交易具有强大的威力、现在的 Vortex 是如何实现它的、未来的 WabiSabi 实现如何综合这些技术、解决某些局限。</p><p>（完）</p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>