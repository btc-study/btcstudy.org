<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><title>比特币钱包备份方案简史</title><meta name=keywords content="比特币, 中本聪, 比特币区块链, 闪电网络, 比特币 layer 2, 健全货币, 密码货币, 密码朋克, 学习比特币, BTC, BTC Study, Bitcoin, bitcoin, proof of work"><meta name=description content=比特币思想的中文集结地><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"><link rel=icon href=/favicon.ico><link rel=stylesheet href="/style/common/bulma.css?v=1682773100887"><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href="/style/common/iconfont.css?v=1682773100887"><link rel=stylesheet href="/style/base.css?v=1682773100887"><link rel=stylesheet href="/style/common/helper.css?v=1682773100887"><link rel=stylesheet href="/style/themes/animation.css?v=1682773100887"><script>function ready(){var e=document.querySelector(".body-container"),t=localStorage.getItem("theme")||"light";["light","dark"].includes(t)||(t="light",localStorage.setItem("theme","light")),e.classList.remove("appearance-auto"),e.classList.add("appearance-"+t),quickInitialTheme()}function quickInitialTheme(){var e=localStorage.getItem("theme")||"light",t=document.querySelector(".logo-light"),o=document.querySelector(".logo-dark"),d=document.querySelector("#mobile-header-logo > .logo-light"),l=document.querySelector("#mobile-header-logo > .logo-dark"),a=document.getElementById("theme-btn"),i=document.querySelector(".slide-theme-light"),c=document.querySelector(".slide-theme-dark");document.body.classList.add(e),("dark"===e?(t.classList.add("hidden"),o.classList.remove("hidden"),d.classList.add("hidden"),l.classList.remove("hidden"),a.classList.remove("icon-icon_dark"),a.classList.add("icon-icon_light"),i):c).classList.remove("hidden")}document.addEventListener("DOMContentLoaded",ready)</script><script src="/js/common.js?v=1682773100887"></script><script src=/js/libs/zepto.min.js></script><link rel=stylesheet href="/style/post.css?v=1682773100887"><link rel=stylesheet href="/style/themes/highlight.css?v=1682773100887"><meta name=generator content="Hexo 6.3.0"><link rel=alternate href=/atom.xml title="BTC Study" type=application/atom+xml></head><body class="is-flex is-flex-direction-column" onload=initialTheme()><div class=clip></div><div class="body-container appearance-auto"><header class="header-widget is-hidden-mobile is-flex is-flex-shrink-0 is-align-items-center is-justify-content-center" id=header><div class="is-flex header-widget-container is-flex-shrink-0 is-align-items-center"><section class="is-hidden-mobile is-flex-shrink-0"><h1><a href=/ ><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></a></h1></section><div class="is-flex is-flex-direction-column header-menu-wrap"><aside class="is-flex-shrink-0 is-flex is-flex-direction-row is-align-items-center" id=header-menu><a class="is-inline-block header-activity mr-4" href=/ >首页</a><a class="is-inline-block mr-4" href=/archives>全站目录</a><a class="is-inline-block mr-4" href=/tags>标签</a><a class="is-inline-block mr-4" href=/maps>地图</a><a class="is-inline-block mr-4" href=/mempool>mempool</a><a class="is-inline-block mr-4" target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div class="right-content is-flex is-flex-direction-row is-align-items-center"><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input type=range min=12 max=32 step=2></div></div></div><i class="iconfont icon-icon_dark mr-1" id=theme-btn></i><div class=search-wrap><input class=pl-3 id=search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search" id=search-input-btn></i></div></div></aside><div class="header-title is-hidden-mobile is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopic><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">比特币钱包备份方案简史</p><div class="size-wrap mr-1"><i class="iconfont icon-a-bianzu5" id=change-size-btn2></i><div class=size-input-wrap><div class=input-wrap><input id=size-change-input2 type=range min=12 max=32 step=2></div></div></div></div></div></div></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-tablet" id=mobile-header><div class="is-flex is-flex-direction-row is-align-items-center"><i class="iconfont icon-icon_bar mobile-header-menu"></i><div id=mobile-header-logo><svg class=logo-light width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#000000></path></g></g></g></svg><svg class="logo-dark hidden" width=125px height=23px viewBox="0 0 125 23" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><title>BTCStudy</title><g id=页面-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=首页-响应式 transform="translate(-249.000000, -23.000000)" fill-rule=nonzero><g id=BTCStudy transform="translate(249.680000, 23.192000)"><path d="M9.072,17.808 C11.312,17.808 13.024,17.408 14.208,16.608 C15.392,15.808 15.984,14.672 15.984,13.2 C15.984,12.192 15.712,11.332 15.168,10.62 C14.624,9.908 13.872,9.384 12.912,9.048 C13.632,8.68 14.188,8.18 14.58,7.548 C14.972,6.916 15.168,6.2 15.168,5.4 C15.168,4.056 14.608,2.988 13.488,2.196 C12.368,1.404 10.736,1.008 8.592,1.008 L8.592,1.008 L-5.68434189e-14,1.008 L-5.68434189e-14,17.808 L9.072,17.808 Z M7.968,7.68 L4.704,7.68 L4.704,4.44 L7.968,4.44 C9.568,4.44 10.368,4.976 10.368,6.048 C10.368,7.136 9.568,7.68 7.968,7.68 L7.968,7.68 Z M8.688,14.376 L4.704,14.376 L4.704,10.968 L8.688,10.968 C10.352,10.968 11.184,11.536 11.184,12.672 C11.184,13.808 10.352,14.376 8.688,14.376 L8.688,14.376 Z M26.544,17.808 L26.544,4.776 L31.68,4.776 L31.68,1.008 L16.632,1.008 L16.632,4.776 L21.792,4.776 L21.792,17.808 L26.544,17.808 Z M41.592,18.144 C43.128,18.144 44.512,17.872 45.744,17.328 C46.976,16.784 48,16 48.816,14.976 L48.816,14.976 L45.792,12.24 C44.704,13.552 43.384,14.208 41.832,14.208 C40.92,14.208 40.108,14.008 39.396,13.608 C38.684,13.208 38.132,12.644 37.74,11.916 C37.348,11.188 37.152,10.352 37.152,9.408 C37.152,8.464 37.348,7.628 37.74,6.9 C38.132,6.172 38.684,5.608 39.396,5.208 C40.108,4.808 40.92,4.608 41.832,4.608 C43.384,4.608 44.704,5.264 45.792,6.576 L45.792,6.576 L48.816,3.84 C48,2.816 46.976,2.032 45.744,1.488 C44.512,0.944 43.128,0.672 41.592,0.672 C39.832,0.672 38.252,1.044 36.852,1.788 C35.452,2.532 34.352,3.568 33.552,4.896 C32.752,6.224 32.352,7.728 32.352,9.408 C32.352,11.088 32.752,12.592 33.552,13.92 C34.352,15.248 35.452,16.284 36.852,17.028 C38.252,17.772 39.832,18.144 41.592,18.144 Z" id=BTC fill=#F2A900></path><path d="M56.64,18.144 C58.24,18.144 59.6,17.9 60.72,17.412 C61.84,16.924 62.68,16.272 63.24,15.456 C63.8,14.64 64.08,13.728 64.08,12.72 C64.08,11.552 63.772,10.628 63.156,9.948 C62.54,9.268 61.812,8.772 60.972,8.46 C60.132,8.148 59.072,7.856 57.792,7.584 C56.656,7.344 55.832,7.112 55.32,6.888 C54.808,6.664 54.552,6.328 54.552,5.88 C54.552,5.432 54.768,5.068 55.2,4.788 C55.632,4.508 56.32,4.368 57.264,4.368 C58.768,4.368 60.32,4.8 61.92,5.664 L61.92,5.664 L63.384,2.136 C62.568,1.656 61.624,1.292 60.552,1.044 C59.48,0.796 58.392,0.672 57.288,0.672 C55.672,0.672 54.308,0.912 53.196,1.392 C52.084,1.872 51.248,2.524 50.688,3.348 C50.128,4.172 49.848,5.096 49.848,6.12 C49.848,7.288 50.152,8.216 50.76,8.904 C51.368,9.592 52.096,10.092 52.944,10.404 C53.792,10.716 54.848,11.008 56.112,11.28 C57.264,11.536 58.1,11.78 58.62,12.012 C59.14,12.244 59.4,12.6 59.4,13.08 C59.4,13.992 58.488,14.448 56.664,14.448 C55.704,14.448 54.728,14.296 53.736,13.992 C52.744,13.688 51.872,13.288 51.12,12.792 L51.12,12.792 L49.56,16.296 C50.36,16.856 51.4,17.304 52.68,17.64 C53.96,17.976 55.28,18.144 56.64,18.144 Z M71.856,18.024 C72.48,18.024 73.068,17.96 73.62,17.832 C74.172,17.704 74.64,17.52 75.024,17.28 L75.024,17.28 L73.896,14.088 C73.496,14.36 73.032,14.496 72.504,14.496 C72.088,14.496 71.756,14.364 71.508,14.1 C71.26,13.836 71.136,13.472 71.136,13.008 L71.136,13.008 L71.136,8.688 L74.112,8.688 L74.112,5.28 L71.136,5.28 L71.136,1.896 L66.576,1.896 L66.576,5.28 L64.68,5.28 L64.68,8.688 L66.576,8.688 L66.576,13.056 C66.576,14.704 67.032,15.944 67.944,16.776 C68.856,17.608 70.16,18.024 71.856,18.024 Z M82.248,18.024 C83,18.024 83.712,17.888 84.384,17.616 C85.056,17.344 85.632,16.944 86.112,16.416 L86.112,16.416 L86.112,17.808 L90.456,17.808 L90.456,4.8 L85.896,4.8 L85.896,11.064 C85.896,12.104 85.668,12.876 85.212,13.38 C84.756,13.884 84.168,14.136 83.448,14.136 C82.744,14.136 82.208,13.912 81.84,13.464 C81.472,13.016 81.288,12.304 81.288,11.328 L81.288,11.328 L81.288,4.8 L76.728,4.8 L76.728,12.072 C76.728,14.056 77.228,15.544 78.228,16.536 C79.228,17.528 80.568,18.024 82.248,18.024 Z M99.048,18.024 C100.744,18.024 102.016,17.52 102.864,16.512 L102.864,16.512 L102.864,17.808 L107.208,17.808 L107.208,0 L102.648,0 L102.648,5.928 C101.8,5.032 100.6,4.584 99.048,4.584 C97.864,4.584 96.784,4.856 95.808,5.4 C94.832,5.944 94.06,6.724 93.492,7.74 C92.924,8.756 92.64,9.936 92.64,11.28 C92.64,12.624 92.924,13.808 93.492,14.832 C94.06,15.856 94.832,16.644 95.808,17.196 C96.784,17.748 97.864,18.024 99.048,18.024 Z M100.008,14.4 C99.208,14.4 98.552,14.124 98.04,13.572 C97.528,13.02 97.272,12.256 97.272,11.28 C97.272,10.32 97.528,9.568 98.04,9.024 C98.552,8.48 99.208,8.208 100.008,8.208 C100.808,8.208 101.46,8.48 101.964,9.024 C102.468,9.568 102.72,10.32 102.72,11.28 C102.72,12.256 102.464,13.02 101.952,13.572 C101.44,14.124 100.792,14.4 100.008,14.4 Z M112.368,22.68 C113.728,22.68 114.88,22.356 115.824,21.708 C116.768,21.06 117.568,19.936 118.224,18.336 L118.224,18.336 L123.84,4.8 L119.496,4.8 L116.28,12.744 L113.088,4.8 L108.408,4.8 L113.976,17.976 C113.784,18.36 113.548,18.64 113.268,18.816 C112.988,18.992 112.632,19.08 112.2,19.08 C111.832,19.08 111.468,19.012 111.108,18.876 C110.748,18.74 110.44,18.552 110.184,18.312 L110.184,18.312 L108.6,21.504 C109.032,21.856 109.596,22.14 110.292,22.356 C110.988,22.572 111.68,22.68 112.368,22.68 Z" id=Study fill-opacity=0.85 fill=#FFFFFF></path></g></g></g></svg></div><div class="mobile-header-title is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height hidden" id=postTopicMobile><p class=is-full-height>比特币钱包备份方案简史</p></div></div></div><i class="iconfont icon-icon_search mobile-header-searchIcon"></i><div class=mobile-search-wrap><div class=search-input><input class=pl-3 id=mobile-search-input placeholder=请输入搜索关键词><i class="iconfont icon-icon_search mobile-search-input-btn"></i><button class=mobile-search-input-btn>搜 索</button></div></div></header><div class=mobile-slide-menu><a class=header-activity href=/ >首页</a><a href=/archives>全站目录</a><a href=/tags>标签</a><a href=/maps>地图</a><a href=/mempool>mempool</a><a target=_blank rel=noopener href=https://123btc.org/ >123btc</a><div><p class="slide-menu-theme is-flex is-flex-direction-row is-justify-content-space-between is-align-items-center"><span>主题设置</span><span><i class="iconfont icon-icon_light slide-theme-light hidden"></i><i class="iconfont icon-icon_dark slide-theme-dark hidden"></i></span></p><p class=slide-menu-fontsize><span>字体设置</span><span><i class="iconfont icon-bianzubeifen"></i><i class="iconfont icon-bianzu"></i></span></p></div></div><div class="search-mask hidden"><script src="/js/header.js?v=1682773100887"></script></div><main><main class="container is-max-widescreen content section post-page pt-4"><div class="columns is-flex-desktop is-justify-content-center"><div class="column is-3 silde-bar is-hidden-mobile"><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%A1%AE%E5%AE%9A%E6%80%A7-vs-%E9%9D%9E%E7%A1%AE%E5%AE%9A%E6%80%A7><span class=toc-text>确定性 vs 非确定性</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%A1%AE%E5%AE%9A%E6%80%A7%E5%92%8C%E6%AF%94%E7%89%B9%E5%B8%81%E8%84%9A%E6%9C%AC><span class=toc-text>确定性和比特币脚本</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%AF%94%E7%89%B9%E5%B8%81%E5%A4%87%E4%BB%BD%E6%8A%80%E6%9C%AF%E5%8F%91%E5%B1%95%E5%8F%B2><span class=toc-text>比特币备份技术发展史</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%97%A9%E6%9C%9F%E6%AF%94%E7%89%B9%E5%B8%81%E8%BD%AF%E4%BB%B6><span class=toc-text>早期比特币软件</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AF%86%E9%92%A5%E6%B1%A0%EF%BC%88Key-Pool%EF%BC%89><span class=toc-text>密钥池（Key Pool）</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%BA%B8%E9%92%B1%E5%8C%85><span class=toc-text>纸钱包</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%A1%AE%E5%AE%9A%E6%80%A7%E9%92%B1%E5%8C%85><span class=toc-text>确定性钱包</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#BIP32-%E5%92%8C%E5%88%86%E5%B1%82%E7%A1%AE%E5%AE%9A%E6%80%A7%E9%92%B1%E5%8C%85><span class=toc-text>BIP32 和分层确定性钱包</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#P2SH><span class=toc-text>P2SH</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%A1%AC%E4%BB%B6%E9%92%B1%E5%8C%85%EF%BC%8CBIP39-%E5%92%8C-BIP44><span class=toc-text>硬件钱包，BIP39 和 BIP44</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%8A%A9%E8%AE%B0%E8%AF%8D%E5%A4%87%E4%BB%BD%E6%96%B9%E6%A1%88><span class=toc-text>助记词备份方案</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#SegWit%EF%BC%88%E9%9A%94%E7%A6%BB%E8%A7%81%E8%AF%81%EF%BC%89><span class=toc-text>SegWit（隔离见证）</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#Taproot%E3%80%81%E8%84%9A%E6%9C%AC%E5%92%8C%E5%A4%87%E4%BB%BD><span class=toc-text>Taproot、脚本和备份</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%BE%93%E5%87%BA%E6%8F%8F%E8%BF%B0%E7%AC%A6><span class=toc-text>输出描述符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%AF%94%E8%BE%83%E5%8D%95%E7%AD%BE%E8%AE%BE%E7%BD%AE%E4%B8%8B%E7%9A%84%E4%BC%A0%E7%BB%9F%E6%96%B9%E6%A1%88%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%8F%8F%E8%BF%B0%E7%AC%A6%E5%A4%87%E4%BB%BD><span class=toc-text>比较单签设置下的传统方案备份与描述符备份</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BC%A0%E7%BB%9F%E6%96%B9%E6%A1%88%E5%A4%87%E4%BB%BD%E9%9C%80%E6%B1%82><span class=toc-text>传统方案备份需求</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%8F%8F%E8%BF%B0%E7%AC%A6%E5%A4%87%E4%BB%BD%E9%9C%80%E6%B1%82><span class=toc-text>描述符备份需求</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%80%BB%E7%BB%93><span class=toc-text>总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%AF%94%E8%BE%83%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8A%B1%E8%B4%B9%E7%AD%96%E7%95%A5%E4%B8%8B%E7%9A%84%E4%BC%A0%E7%BB%9F%E6%96%B9%E6%A1%88%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%8F%8F%E8%BF%B0%E7%AC%A6%E5%A4%87%E4%BB%BD><span class=toc-text>比较自定义花费策略下的传统方案备份与描述符备份</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BC%A0%E7%BB%9F%E6%96%B9%E6%A1%88%E5%A4%87%E4%BB%BD%E9%9C%80%E6%B1%82-1><span class=toc-text>传统方案备份需求</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%8F%8F%E8%BF%B0%E7%AC%A6%E5%A4%87%E4%BB%BD%E9%9C%80%E6%B1%82-1><span class=toc-text>描述符备份需求</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%80%BB%E7%BB%93-1><span class=toc-text>总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BB%93%E8%AF%AD><span class=toc-text>结语</span></a></li></ol></div><div class="column is-9 post-container"><h1 class="mt-0 mb-2" id=postTitle>比特币钱包备份方案简史</h1><div class=page-author><div class="is-flex is-flex-direction-row page-data mr-6"><img class=mr-1 src=/images/default_avatar.png alt=Wizardsardine><div class=page-author-info><strong>Wizardsardine</strong><time class=has-text-grey datetime=2023-04-08T10:58:48.000Z>2023-04-08</time></div></div><div class=is-flex><a href=/tags/%E6%8F%8F%E8%BF%B0%E7%AC%A6><i class="page-tag mr-1 px-1">描述符</i></a><a href=/tags/%E9%92%B1%E5%8C%85><i class="page-tag mr-1 px-1">钱包</i></a></div></div><article class="mt-4 post-content"><blockquote><p><em>作者：Wizardsardine</em></p><p><em>来源：<a target=_blank rel=noopener href=https://wizardsardine.com/blog/state-of-the-art-for-bitcoin-wallet-backups/ >https://wizardsardine.com/blog/state-of-the-art-for-bitcoin-wallet-backups/</a></em></p></blockquote><p>制作比特币钱包备份时，我们希望根据自身需要和风险情况，找出下列特性的最优组合方案：</p><p><strong>冗余性</strong>：存有几份完整的备份副本。</p><p><strong>安全性</strong>：第三方获得完整的备份副本的难度。</p><p><strong>复杂性</strong>：用来创建、保护和找回副本的系统的复杂程度。</p><p><strong>健壮性</strong>：面对不利的政治、社会、时间和环境条件，备份能否安然无恙。</p><p><strong>跨钱包兼容性</strong>：备份能否用于不同的钱包。</p><p>虽然上述特性之间不存在绝对对立，但是试图增强一个特性往往需要我们在另一个特性上做出妥协。</p><h2 id=确定性-vs-非确定性><a href=#确定性-vs-非确定性 class=headerlink title="确定性 vs 非确定性"></a><strong>确定性 vs 非确定性</strong></h2><p>我们将要讨论某些确定性和非确定性操作。确定性和非确定性的定义如下：</p><p><strong>确定性</strong>：只要输入相同，每次生成的输出<strong>必定</strong>相同。</p><p><strong>非确定性</strong>：输入相同，每次生成的输出<strong>可能</strong>不同。</p><p><em>私钥</em> 可能会经由确定性或非确定性方法生成，详见下文。</p><p><em>地址</em> 通过确定性方法由一个或多个公钥和锁定脚本单独或共同生成。</p><h2 id=确定性和比特币脚本><a href=#确定性和比特币脚本 class=headerlink title=确定性和比特币脚本></a>确定性和比特币脚本</h2><p>虽然地址生成本身是确定性的，但是从备份的角度来看，备份中仍有必要包含钱包所用的脚本和派生路径。如果没有这些，通过此备份找回的钱包可能会不知道被发送至某一地址的代币属于它，也不知道如何花费这些代币！</p><p>这里有一些“脚本模板”可以为你提供捷径：</p><ul><li>“标准”地址类型（例如，P2PKH、P2WPK、P2WPKH）本质上是特定脚本的模板。钱包可以利用这些模板通过一组特定密钥暴力生成通用地址类型。</li></ul><p>请注意这些捷径本质上依赖的是隐含信息，而非让备份 <em>明面上</em> 包含所有必要数据。因此，这类备份的健壮性较弱。如果将来有一天隐含信息丢失了，依赖它的备份可能会失去作用，或者需要大量（甚至于不可能完成的）暴力破解。</p><p>关于如何在备份中显式包含使用一个或多个密钥的脚本，查看下文的“输出描述符”章节。</p><h2 id=比特币备份技术发展史><a href=#比特币备份技术发展史 class=headerlink title=比特币备份技术发展史></a>比特币备份技术发展史</h2><p>我们将跟随比特币骨灰级用户 Alice 的视角，看她这些年来是如何好好保护钱包备份的。</p><p>理想情况下，Alice 的备份应该具备冗余性、安全性、健壮性和低复杂性。即使是在她本人失联的情况下，也可由她选择的受益者轻松安全地访问。</p><h3 id=早期比特币软件><a href=#早期比特币软件 class=headerlink title=早期比特币软件></a>早期比特币软件</h3><p>就最早期的 Bitcoin Software 版本（Satoshi 客户端，也就是如今的“Bitcoin Core”）而言，备份采用的是原始手段。Alice 能采取的最佳措施就是定期备份 <code>wallet.dat</code> 文件（由软件钱包创建并使用）。虽然此系统复杂程度较低，但它既不安全、健壮，也不具备很强的冗余性 —— 除非 Alice 手动创建很多副本。</p><p>发送或接收交易时，软件会动态生成新的密钥。也就是说，每当 Alice 执行一笔交易或生成一个新的收款地址时，她都要重新备份更新后的 <code>wallet.dat</code> 文件，因为该文件中包含了以往备份中不存在的新密钥。</p><p>如果 Alice 勤勤恳恳地为她的 <code>wallet.dat</code> 文件创建了多个冗余副本，那么她每执行一笔交易就得更新 <em>所有副本</em>。说它容易出错、用户体验差已经很客气了。</p><p>备份 <code>wallet.dat</code> 文件的好处之一是交易和钱包元数据同样会被备份。这里面也包括了分配给地址的“标签”，这样 Alice 就可以记住每个币（更具体地说是 UTXO）来自何处或被送往何处。详见后文。</p><h3 id=密钥池（Key-Pool）><a href=#密钥池（Key-Pool） class=headerlink title="密钥池（Key Pool）"></a>密钥池（Key Pool）</h3><p>后来，比特币软件新增了“密钥池（Key Pool）“ 功能。默认情况下，密钥池中包含 100 个私钥可用于未来交易。这意味着，从技术角度来说，用户无需在每次交易后都进行备份。</p><p>软件提前生成 100 个随机的非确定性私钥，并将它们保存在 <code>wallet.dat</code> 文件内。Alice 进行交易（收付款）时，软件会从密钥池中选择一个私钥用来生成一个新的找零或收款地址。紧接着会再生成一个新的私钥补充到密钥池中，确保未使用的地址数量为 100 个。请注意，Alice 的当前备份中<strong>不</strong>包含新生成的私钥，但是其余 99 个都在。</p><p>引入密钥池后，Alice 的备份虽说没那么容易出错了，但她需要追踪密钥池的状态。备份的复杂性本质上没有变化，因为 Alice 必须确保同步更新备份的所有副本，否则就要承担降低冗余性的风险。</p><p>这意味着，Alice 需要定期备份钱包，只是可以选择延长时间间隔而已。当时，指南上说的是你只需“<a target=_blank rel=noopener href="https://bitcointalk.org/index.php?topic=1414.msg17441#msg17441">大约每 30 笔交易</a>”备份一次即可。Alice 担心自己会忘了上次备份后执行的交易数量，于是仍选择每笔交易备份一次。</p><h3 id=纸钱包><a href=#纸钱包 class=headerlink title=纸钱包></a>纸钱包</h3><p>2011 年中，<a target=_blank rel=noopener href=https://blog.trezor.io/paper-wallets-a-relic-of-the-past-1f711ba82b8c>纸钱包</a>变成了热议话题；它为 Alice 这样的用户提供了一种简单的方法，让他们能够轻松形成复杂性极低的有形实体备份，并且容易实现冗余性。纸钱包的安全性非常低 —— 只要是拿到副本的人都可以立即访问并卷走钱包里的资金，除非钱包还使用了强大的 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0038.mediawiki>BIP38 </a>密语。</p><p>纸钱包通常会存储转化成<a target=_blank rel=noopener href=https://en.bitcoin.it/wiki/Wallet_import_format>钱包导入格式（Wallet Import Format, WIF）</a>的单个私钥及其对应的 P2PKH 地址，并使用二维码表示，以便用户使用手机相机或网络摄像头扫描。安全生成并打印出来之后，Alice 就可以放心将比特币发送到自己的地址。</p><p>花费比特币时，Alice 必须将私钥导入她的钱包软件，后者会生成对应的 scriptPubKey 并扫描区块链以找到匹配的 UTXO。使用这些 UTXO 作为交易输入，软件钱包就可以构建并签署交易，并将其广播至点对点网络或挖出包含此交易的区块。</p><p>但是，纸钱包的缺点也<a target=_blank rel=noopener href=https://en.bitcoin.it/wiki/Paper_wallet>很多</a>。</p><p>从协议的角度来看，最大的问题是纸钱包实际上只支持备份单个密钥，这是在鼓励用户重复使用地址，不利于保护隐私性。此外，虽然比特币离线存储（在纸上）时可能是安全的，但你在花费比特币时仍需将你的私钥加载到计算机上才能生成交易，使得你容易遭受一切针对此计算机的攻击。</p><h3 id=确定性钱包><a href=#确定性钱包 class=headerlink title=确定性钱包></a>确定性钱包</h3><blockquote><p>又被叫作：非分层确定性钱包</p></blockquote><p>2011 年，其它比特币钱包实现开始使用 <em>确定性</em> 密钥派生形式。通过这些方案，用户能够根据单个随机生成的“种子”确定性地生成大量新密钥。确定性钱包主要有两大优点：</p><ol><li>可以备份单个对象（种子）</li><li>可以派生新的地址用于执行每笔交易，而不会导致以前的备份失效。</li></ol><p>这样一来，Alice 就可以增加备份的冗余性，同时还能保留为每笔交易使用新地址的最佳做法。</p><p>备份单个种子也为更加健壮的备份存储介质开辟了新的可能性，因为种子无需备份在数字介质上，尽管在引入 BIP39 之前几乎没人探索过新的可能性。</p><h3 id=BIP32-和分层确定性钱包><a href=#BIP32-和分层确定性钱包 class=headerlink title="BIP32 和分层确定性钱包"></a>BIP32 和分层确定性钱包</h3><p><strong>HD</strong>：分层确定性</p><p><strong>BIP32</strong>：分层确定性钱包</p><p>2012 年初提出的 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki>BIP32</a> 试图改进早期的确定性钱包设计，并使用预先确定的层次结构和派生路径语法支持根据单个种子派生多条子密钥链：</p><p><img src=/images/state-of-the-art-for-bitcoin-wallet-backups/WoGl6NJ.png alt="HD wallet chain derivation"></p><p>这使得单个备份可以对应多个独立的钱包，从理论上来说甚至可以对应多种密码获币，<strong>只要用户记住并备份使用的派生路径即可</strong>。</p><p>虽然 BIP32 并未显著改进非分层确定性钱包的备份体验（二者实际上都需要备份单个种子），但它确实为未来的钱包设计提供了一个重要基石。</p><p>请注意，BIP32 的提议者之一 gmaxwell 后来<a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/pull/5266#issuecomment-93718490>评论</a>道：</p><blockquote><p>BIP32 根本无法代替备份，最多只能保护密钥材料。它没有采取任何保护元数据的措施，但元数据可能会起到绝对关键的作用……</p></blockquote><p>以及</p><blockquote><p>我有点后悔发明目前最常用的公钥派生方法了 —— 出现了使用过度和损害安全性的问题（通常是因为用户没有理解其影响）。</p></blockquote><p>备份元数据可能会起到重要乃至关键的作用，但是 BIP32 方案并未涉及这方面。</p><h3 id=P2SH><a href=#P2SH class=headerlink title=P2SH></a>P2SH</h3><p>2012 年中，<a target=_blank rel=noopener href=https://learnmeabitcoin.com/technical/p2sh>P2SH</a> 地址类型问世。使用 P2SH 地址时，接收方会对其用来锁定比特币的（赎回）脚本运行哈希计算，并使用得到的哈希值生成地址。之后，只有当接收方想要花费此比特币时，才需要将赎回脚本作为 ScriptSig 的一部分公开。欲知更多详情，请阅读 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0016.mediawiki>BIP16</a>。</p><p>从备份的角度来看，这意味着使用 P2SH 地址收款的钱包除了私钥（们）之外还有个新的东西需要备份：解锁脚本（通常被叫作 redeemScript）。</p><p>此数据无法像 主&#x2F;子私钥 和公钥（以及 P2PK 或 P2PKH 地址）那样以确定性方式由种子派生而得。</p><p>从下方来自 transactionfee.info 的图中，我们可以看到 P2SH 地址直到 2014 年以后才真正得到广泛使用。</p><p><img src=/../images/state-of-the-art-for-bitcoin-wallet-backups/zy9EN0Z.png alt="p2sh usage graph"></p><p>Alice 本人没有使用过 P2SH 地址，因为手抄比特币脚本实在太容易出错，而且可用工具有限，钱包兼容性也很差。</p><h3 id=硬件钱包，BIP39-和-BIP44><a href=#硬件钱包，BIP39-和-BIP44 class=headerlink title="硬件钱包，BIP39 和 BIP44"></a>硬件钱包，BIP39 和 BIP44</h3><p><strong>BIP39</strong>：用来生成确定性密钥的助记词</p><p><strong>BIP44</strong>：确定性钱包的多账户分层结构</p><p>2013 年，第一代“硬件钱包”Trezor 初次亮相。第一版 Trezor 的设计目标很简单：让用户能够将其私钥存储在安全、离线且静态交互（airgapped）的设备内，并使用该设备内的私钥签署有效的比特币交易。</p><p>Trezor 采用的是分层确定性钱包设计。为了弥补其不足，Trezor 团队 (SatoshiLabs) 设计了 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki>BIP39</a>，注明了随机种子与助记词之间如何进行双向转化。这意味着，确定性或分层确定性钱包的用户再也无需备份一长串用来表示种子的字母数字（或十六进制）字符串，只需备份 12 或 24 个（英语）单词即可。</p><p>十六进制种子示例：</p><pre><code>3d1d3da431ce5f2f26a4fd3b481c285edac280cebdbc3fbbf7739c2ccbb73f99acc816687daa86ef51a7fb95c19f170da5aafbf49a9e4177abc4cad13a3c7ca2
</code></pre><p>助记词示例：</p><pre><code>check day then tiger collect join hotel hawk absorb ginger wash track crowd hero scale
</code></pre><p>你可以在这个网站上<a target=_blank rel=noopener href=https://iancoleman.io/bip39/ >生成</a>自己的 BIP39 助记词，以了解更多助记词、种子和根密钥的例子，但是<strong>请勿真的将通过该网站生成的钱包用于交易</strong>。</p><p>BIP39 极大拓宽了种子备份方案的可能性。用户开始在存储介质上肆意发挥<a target=_blank rel=noopener href=https://wizardsardine.com/blog/state-of-the-art-for-bitcoin-wallet-backups/#seed-phrase-backup-solutions>创造力</a>。现在，Alice 能够增强其备份的健壮性。</p><p>但是，硬件钱包依然存在一个问题，虽然从理论上来说，硬件钱包已经能够根据种子生成签署交易所需的私钥了，但是它们可能不知道应该通过哪条 BIP32 派生路径这么做。</p><p><a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki>BIP44</a> 试图通过为 BIP32 派生描述符的不同部分指定含义来解决该问题。BIP44 实现后，硬件钱包就能知道应该跟随哪条 BIP32 派生路径（例如，表示为 m&#x2F;44’&#x2F;0’&#x2F;0’&#x2F;0&#x2F;0 的形式）派生密钥和地址。</p><p>硬件钱包、BIP39 和 BIP44 对 Alice 的影响是，Alice 不仅可以安全地生成助记词，还能轻松实现备份冗余性。Alice 可以使用在线（热）钱包（通过 xPub 主公钥）生成收款地址，并安全地使用硬件钱包离线签署交易。</p><h3 id=助记词备份方案><a href=#助记词备份方案 class=headerlink title=助记词备份方案></a>助记词备份方案</h3><p>BIP39 之后，很多有趣的助记词存储设计得到了试验：<a target=_blank rel=noopener href=https://blog.lopp.net/metal-bitcoin-seed-storage-stress-test/ >1</a>、<a target=_blank rel=noopener href=https://blog.lopp.net/metal-bitcoin-seed-storage-stress-test--part-ii-/ >2</a>、<a target=_blank rel=noopener href=https://blog.lopp.net/metal-bitcoin-seed-storage-stress-test-round-iii/ >3</a>、<a target=_blank rel=noopener href=https://blog.lopp.net/metal-bitcoin-seed-storage-stress-test-iv/ >4</a>、<a target=_blank rel=noopener href=https://blog.lopp.net/metal-bitcoin-seed-storage-stress-tests-round-v/ >5</a>、<a target=_blank rel=noopener href=https://blog.lopp.net/metal-bitcoin-seed-storage-stress-tests-round-vi/ >6</a> 。</p><h3 id=SegWit（隔离见证）><a href=#SegWit（隔离见证） class=headerlink title=SegWit（隔离见证）></a>SegWit（隔离见证）</h3><p><strong>BIP141</strong>：Segregated Witness（共识层）</p><p><strong>BIP49</strong>：基于 P2WPKH-nested-in-P2SH（P2WPKH 嵌套在 P2SH 中）的账户的派生方案</p><p><strong>BIP84</strong>：基于 P2WPKH 的账户的派生方案</p><p>SegWit 生效之前，钱包和签名设备需要在备份时考虑以下地址类型：</p><ul><li>P2PK</li><li>P2PKH</li><li>P2SH</li></ul><p>2017 年的 SegWit 升级引入了新的标准地址脚本，即，Pay-To-Witness-PubKey-Hash (P2WPKH) 和 Pay-To-Witness-Script-Hash (P2WSH)，二者都使用了新的 bech32 地址编码。</p><p>这意味着需要新的派生规范来帮助钱包决定如何根据种子派生这几类地址以及花费地址上的余额。P2WPKH 的相关规范都写在了 <a target=_blank rel=noopener href=https://github.com/bitcoin/bips/blob/master/bip-0084.mediawiki>BIP84</a> 里。</p><p>除此之外，新的 SegWit 地址类型也可以用旧的（兼容性更好的）P2SH 格式“包裹”起来，例如，P2SH-P2WPKH。这意味着未升级的旧版钱包仍能向支持 SegWit 的钱包付款。BIP49 详述了 P2SH 包裹下的 P2WPKH 地址的派生。</p><p>SegWit 本身并没有为备份方案带来很大改变，但它确实开始在交易费层面上降低了复杂脚本的成本，并满足了大量使用多签、门限多签乃至更复杂脚本的新型比特币应用和服务的需求。</p><p>就像 P2SH 那样，如果 Alice 想要使用自定义脚本作为 P2WSH 的一部分，她需要单独备份此脚本，但这里是作为“见证脚本（witness script）”的一部分。</p><p>另外需要注意的是，备份方案的复杂性正在呈指数级增加。比特币每经历一次技术迭代，都会出现需要额外备份的信息，这是个需要解决的问题。</p><h3 id=Taproot、脚本和备份><a href=#Taproot、脚本和备份 class=headerlink title=Taproot、脚本和备份></a>Taproot、脚本和备份</h3><p>在 Taproot 的进一步支持和激励下，用户能够使用更为复杂的自定义脚本。用表格列出需要备份的信息似乎是个不错的主意……</p><p>Bitcoin Core 开发者 Gloria Zhao <a target=_blank rel=noopener href=https://bitcoincore.reviews/22363>绘制</a>了一张很有用的表格，展示了各种地址类型及要求，其中加粗的脚本元素需要额外备份。</p><table><thead><tr><th>Output Type</th><th>scriptPubKey</th><th>scriptSig</th><th>redeem script</th><th>witness</th></tr></thead><tbody><tr><td>P2PK</td><td>&lt;pubkey&gt; OP_CHECKSIG</td><td>&lt;signature&gt;</td><td></td><td></td></tr><tr><td>P2PKH</td><td>OP_DUPOP_HASH160 &lt;pubKeyHash&gt; OP_EQUALVERIFYOP_CHECKSIG</td><td>&lt;signature&gt; &lt;public key&gt;</td><td></td><td></td></tr><tr><td>P2SH</td><td>OP_HASH160 &lt;scriptHash&gt; OP_EQUAL</td><td>&lt;data pushes&gt; &lt;redeem script&gt;</td><td><strong>(arbitrary)</strong></td><td></td></tr><tr><td>P2WPKH</td><td>0 &lt;pubKeyHash&gt;</td><td></td><td></td><td>&lt;signature&gt; &lt;public key&gt;</td></tr><tr><td>P2WSH</td><td>0 &lt;witnessScriptHash&gt;</td><td></td><td></td><td>&lt;data pushes&gt; <strong>&lt;witness script&gt;</strong></td></tr><tr><td>P2SH-P2WPKH</td><td>OP_HASH160 &lt;redeemScriptHash&gt; OP_EQUAL</td><td>&lt;redeem script&gt;</td><td>0 &lt;pubKeyHash&gt;</td><td>&lt;signature&gt; &lt;public key&gt;</td></tr><tr><td>P2SH-P2WSH</td><td>OP_HASH160 &lt;redeemScriptHash&gt; OP_EQUAL</td><td>&lt;redeem script&gt;</td><td>0 &lt;scriptHash&gt;</td><td>&lt;data pushes&gt; <strong>&lt;witness script&gt;</strong></td></tr><tr><td>P2TR (key path)</td><td>1 &lt;public key&gt;</td><td></td><td></td><td>&lt;signature&gt;</td></tr><tr><td>P2TR (script path)</td><td>1 &lt;public key&gt;</td><td></td><td></td><td>&lt;data pushes&gt; <strong>&lt;script&gt; &lt;control block&gt;</strong></td></tr></tbody></table><p><strong>注意</strong>：上表不涉及派生路径。如果你使用的是基于 BIP32 的分层确定性钱包，可能还需要备份派生路径。</p><h3 id=输出描述符><a href=#输出描述符 class=headerlink title=输出描述符></a>输出描述符</h3><p>2017 年底，Bitcoin Core 0.17 最先开始支持<a target=_blank rel=noopener href=https://github.com/bitcoin/bitcoin/blob/master/doc/descriptors.md>输出脚本描述符</a>。</p><p>其构想是对一个或一组根据钱包种子或 xpub 生成的输出进行程序化的描述。我们可以透过 BIP 中的一些例子了解描述符是什么样的：</p><pre><code>pkh(02c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5)
</code></pre><p>这个描述符描述了一个特定公钥的 P2PKH 输出。</p><pre><code>wpkh(02f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9)
</code></pre><p>描述了一个特定公钥的 P2WPKH (SegWit) 输出。</p><pre><code>pkh([d34db33f/44&#39;0/0&#39;]xpub6ERApfZLCkDtcHTcx...BGRjaDMzQLcgJvLJuZZvRcEL/1/*)
</code></pre><p>形容一组 P2PKH 输出，但是另外指明了这个 xpub 是指纹为 d34db33f 的主密钥的子密钥，并且使用路径 44’&#x2F;0’&#x2F;0’ 派生得到。</p><p>输出脚本描述符带来的影响是，Alice 从此可以在一个跨平台的对象中备份自己的种子词、派生路径以及让钱包重新生成脚本所需的一切信息。</p><p>但是，此方法有一些缺点。虽然描述符比种子更完整，但它不可能像 12 或 24 个助记词那么容易备份。</p><h2 id=比较单签设置下的传统方案备份与描述符备份><a href=#比较单签设置下的传统方案备份与描述符备份 class=headerlink title=比较单签设置下的传统方案备份与描述符备份></a>比较单签设置下的传统方案备份与描述符备份</h2><p>Alice 正在考虑使用一个简单的单签设置来保护她的代币。她想要评估传统的种子备份方案与描述符备份方案在此设置下的表现。</p><h3 id=传统方案备份需求><a href=#传统方案备份需求 class=headerlink title=传统方案备份需求></a>传统方案备份需求</h3><p>（假设使用的是标准化派生路径，例如，BIP49、BIP84）</p><p>一串助记词：</p><pre><code>check day then tiger collect join hotel hawk absorb ginger wash track crowd hero scale
</code></pre><h3 id=描述符备份需求><a href=#描述符备份需求 class=headerlink title=描述符备份需求></a>描述符备份需求</h3><p>一系列 taproot 地址的单签描述符：</p><pre><code>tr(tprv8ZgxMBicQKsPeXo5tpYTymqeW6MVjobp7mBAe/86&#39;/1&#39;/0&#39;/1/*)#en5pdj5a
</code></pre><h3 id=总结><a href=#总结 class=headerlink title=总结></a>总结</h3><p>在使用标准化派生路径的单签设置下，备份助记词作为最简单的方法似乎更胜一筹，因为抄写 12 个英语单词远比抄写包含私钥在内的描述符方便得多。</p><p>但前提是必须从地址 0 开始使用标准化派生路径。否则，Alice 的钱包仅凭种子可能无法定位并花费资金。为防范此风险，这里有一个<a target=_blank rel=noopener href=https://walletsrecovery.org/ >网站</a>可以帮助那些使用非标准或非常用派生路径的用户定位资金。</p><p>Taproot 描述符无需满足上述前提条件，因为它明确声明了派生路径。</p><h2 id=比较自定义花费策略下的传统方案备份与描述符备份><a href=#比较自定义花费策略下的传统方案备份与描述符备份 class=headerlink title=比较自定义花费策略下的传统方案备份与描述符备份></a>比较自定义花费策略下的传统方案备份与描述符备份</h2><p>Alice 已经做出了决定。担心自己遭遇不测，她希望能够提高备份的冗余性，却又不想直接将自己的私钥或助记词泄露给其他人。她听说现在可以自行使用 miniscript 编写自定义策略了。于是，她开始设计一个具备以下特征的策略：</p><ol><li>Alice 随时都能花费自己的资金</li></ol><p>在 Alice 无法签署交易的情况下，其他人可以通过以下三种方式花费 Alice 的资金：</p><ol start=2><li>如果 Alice 的父母和律师相互配合，可以立即花费这笔资金。</li><li>超过一定时间后，Alice 的父母可以花费这笔资金。</li><li>超过一定时间后，律师可以花费这笔资金。</li></ol><p>上述策略如下图所示（通过 <a target=_blank rel=noopener href=https://bitcoindevkit.org/bdk-cli/playground/ >Bitcoin devkit playground</a> 绘制）：</p><p>﻿<img src=/../images/state-of-the-art-for-bitcoin-wallet-backups/bf8WP2K.png alt="alice miniscript policy"></p><p>如果是 p2wsh 地址，则上述策略的文本形式如下所示：</p><pre><code>or(pk(Alice),thresh(2,pk(Parents),pk(Lawyer),older(4209492)))
</code></pre><p>如果 Alice、她的父母和律师使用以下助记词和 xpub：</p><p>Alice 的助记词：</p><pre><code>check day then tiger collect join hotel hawk absorb ginger wash track crowd hero scale
</code></pre><p>xpub：</p><pre><code>[148def1d/0/1h/2]xpub6DNwBKQytFFCcav7YKTxGBVxPBkd1MyhsLEd2MDtn8CLWJsLAUZGtAntKCxQu45xF2Yrj46YzvHRLMAa1LPVhWcJJKryNfWPX8Ubbm4HBAg/18/*
</code></pre><p>Alice 父母的 xpub：</p><pre><code>[fb68bb01/0/42]xpub69x7KEERUvDHWALWoQ9rFbK5mmLzCXZqDsnAy3gZH6M29PPW5DsKch6gEWLNcivzGdwU9NiqxijNCCysoVRzmUkLehiuiBGEfvPXK87GFTA/*
</code></pre><p>助记词：</p><pre><code>enlist civil inherit olympic supply income mad lock pencil transfer sure celery raven zebra then
</code></pre><p>律师的 xpub：</p><pre><code>[35ea9c73/0/42h]xpub6BFYWjYe8shCWGzn2rL8HTYEfQxN8knqrWkAKng1QN7vFJUJF6ueiacWAzvgCsJsM5myLXVXmtS6pB13kzkoAPcMJT7iY4DyMwFyLP4xt6j/789/987/*
</code></pre><p>我们来看看 Alice 是如何使用自己创建的这个相对简单的策略进行备份的。</p><h3 id=传统方案备份需求-1><a href=#传统方案备份需求-1 class=headerlink title=传统方案备份需求></a>传统方案备份需求</h3><p>首先，Alice 还是要像之前那样备份助记词：</p><pre><code>check day then tiger collect join hotel hawk absorb ginger wash track crowd hero scale
</code></pre><p>除此之外，Alice 还需要备份由她的钱包为每个新生成的地址创建的脚本，如下所示：</p><pre><code># Alice pubkey
038eeab436808eb353b6af6e77f643bbb30fe7c571ed953c882bf3406875f08c82
OP_CHECKSIG
OP_NOTIF
    # Parent pubkey
    024b9dd6d5293644a386fac67627a2c47c7d937b9bc120e85fc9844f22cc267219
    OP_CHECKSIG
    OP_SWAP
    # Lawyer pubkey
    02c318db4f038fd658bdb43b5ad26da910b31602e3783627f7e28a6bfb1da33e0b
    OP_CHECKSIG
    OP_ADD
    OP_SWAP
    OP_DUP
    OP_IF
        543b40
        OP_CSV
        OP_VERIFY
        OP_ENDIF
    OP_ADD
    OP_PUSHNUM_2
    OP_EQUALVERIFY
    OP_ENDIF
OP_PUSHNUM_1
</code></pre><p>Alice 还需要告诉她的继承人和律师哪些钱包能够导入和导出这种原始脚本。</p><p>更重要的是，虽然任何比特币节点都能验证它们在一笔交易中看到的脚本是否合法，但是大多数钱包不知道如何满足这种自定义脚本的花费条件。因此，Alice 可能需要自己编写一个钱包软件，或在备份的同时告诉自己的父母和律师哪些钱包能够花费她的资金。</p><h3 id=描述符备份需求-1><a href=#描述符备份需求-1 class=headerlink title=描述符备份需求></a>描述符备份需求</h3><p>Alice 的策略可以转换为以下范围描述符：</p><pre><code>wsh(
    t:or_c(
        pk([148def1d/0/1h/2]xpub6DNwBKQytFFCcav7YKTxGBVxPBkd1MyhsLEd2MDtn8CLWJsLAUZGtAntKCxQu45xF2Yrj46YzvHRLMAa1LPVhWcJJKryNfWPX8Ubbm4HBAg/18/*),
        v:thresh(2,
            pk([fb68bb01/0/42]xpub69x7KEERUvDHWALWoQ9rFbK5mmLzCXZqDsnAy3gZH6M29PPW5DsKch6gEWLNcivzGdwU9NiqxijNCCysoVRzmUkLehiuiBGEfvPXK87GFTA/*),
            s:pk([35ea9c73/0/42h]xpub6BFYWjYe8shCWGzn2rL8HTYEfQxN8knqrWkAKng1QN7vFJUJF6ueiacWAzvgCsJsM5myLXVXmtS6pB13kzkoAPcMJT7iY4DyMwFyLP4xt6j/789/987/*),
            snl:older(4209492)
        )
    )
)#66wwtznl
</code></pre><p>除此之外，Alice 还需要像之前那样备份助记词：</p><pre><code>check day then tiger collect join hotel hawk absorb ginger wash track crowd hero scale
</code></pre><p>虽然上述描述符看起来有点吓人，而且是个相当大的备份对象，但是此备份格式相比传统备份格式具备以下优势：</p><ol><li><p>能够派生出多个地址，无需通过额外的备份步骤避免地址重用。</p></li><li><p>可由任意支持描述符的钱包导入并使用</p></li></ol><blockquote><p><strong>注意</strong>：就像上文的原始比特币脚本那样，此描述符 <strong>不</strong> 包含任何危及安全的信息，因此可以“公开”备份在云端或密码管理器内。一旦被发现，只会失去隐私性。（译者注：因为这段描述符中只公开了公钥。）</p></blockquote><p>将助记词连同描述符一起导入后，描述符钱包就获得了创建见证脚本&#x2F;见证和花费资金所需的全部信息。</p><h3 id=总结-1><a href=#总结-1 class=headerlink title=总结></a>总结</h3><p>在此设置中，我们可以清楚地看到，导出和备份原始比特币脚本比起备份描述符更麻烦。</p><p>此外，支持描述符的比特币钱包能够解析、理解和导入描述符。更重要的是，它们知道如何花费使用有效描述符创建的比特币地址上的资金。</p><p>这意味着，Alice 现在可以高枕无忧了，因为她知道即使她有一天失联了，她的继承人也能轻而易举地将两个描述符导入任意钱包，找回她的资金。</p><h2 id=结语><a href=#结语 class=headerlink title=结语></a>结语</h2><p>虽然如今有很多比特币用户已经满足于仅备份助记词，但是像 Alice 那样采用更高级的锁定策略（哪怕只是基础的多签设置，不依赖于隐性排序密钥）有可能通过设置超时时间、门限签名方案和额外的解锁路径为用户带来更高的安全性。</p><p>这类方案最好使用助记词和描述符相结合的备份。</p><p>如果你选择使用更高级的策略，使用描述符相比备份助记词和原始比特币脚本更具优势。请向继承人和律师说明你的策略，以防你遇到无法亲自联系他们的状况，确保万无一失。</p><p>（完）</p></article></div></div></main><script src="/js/post.js?v=1682773100887"></script><script src="/js/highlight.min.js?v=1682773100887"></script><script>var containerEl=document.querySelector(".post-container"),postFontSize=localStorage.getItem("post-font-size")||"16",inputEl=document.querySelector("#size-change-input"),inputEl2=document.querySelector("#size-change-input2");inputEl.value=postFontSize,inputEl2.value=postFontSize,containerEl.style.fontSize=postFontSize+"px",$(function(){function e(t){$(".post-container").css("font-size",t+"px"),localStorage.setItem("post-font-size",t),$("#size-change-input").val(t),$("#size-change-input2").val(t)}$("#size-change-input").on("input propertychange",function(t){e(t.target.value)}),$("#size-change-input2").on("input propertychange",function(t){e(t.target.value)})})</script><script>hljs.initHighlightingOnLoad()</script></main></div><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0"><section class=sns-container><a title=nostr target=_blank rel="noopener nofollow" href=https://iris.to/npub1g2qs0ca5kpwlrcfug2em4jelmh65clk3yccwjxrs6hvdpd9qj80q022j4m>Nostr</a><a title=rss target=_blank rel="noopener nofollow" href=/atom.xml>rss</a><a title=telegram target=_blank rel="noopener nofollow" href=//t.me/btcstudyorg>Telegram</a></section></footer><script async src="/js/buttons.js?v=1682773100887"></script><script async src="/js/index.js?v=1682773100887"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JVCJ9XXG1Z"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JVCJ9XXG1Z")</script><script>var _hmt=_hmt||[];(()=>{var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?c92c073c85be5be8d9b1b76f62a7e306",e.async=!0,e.defer=!0,document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)})()</script></body></html>